Video: https://youtu.be/z-IwPw5gwD8 Fecha máxima para comentarios y correcciones: Marzo 21, 2024   
Ajustado error cuando se usaban suggest en el filtro no traía resultadosPruebas y aplicabilidad: Makro y dónde aplique, se debe probar que al usar en el filtro campos suggest, este retorne los resultados que corresponden al filtro aplicado. 
Ajustado la funcionalidad del parametro VersionChangesMetaDataIdPruebas y aplicabilidad: Ebsa y dónde aplique. 
Ajustado error que se presentaba al enviar las notificaciones para responder encuestas (SURVEYS II). Anteriormente, existía un límite de 12 horas para abrir la encuesta a través del enlace enviado por correo electrónico, después del límite se generaba un error. Pruebas y aplicabilidad: Seguros Mundial. Probar generando encuentas y poder usar el link para responderla despues de doce horas. 
Se ha implementado una nueva funcionalidad que permite definir un límite máximo de días entre las fechas seleccionadas para exportar la información de un Tipo de Elemento (ET). Para utilizar esta característica, se debe configurar el feature 'LimitOfDaysBetweenExportDatesForET' por Tipo de Elemento, especificando la cantidad de días máxima permitida.Pruebas y aplicabilidad: Cafam, se debe validar que, cuando se configure el feature, no permita exportar cuando la diferencia de días calendario entre las fechas de inicio y fin en el filtro sea mayor a los configurados o incluso si no se define una fecha en el filtro devuelva un mensaje indicando el motivo por el cual no puede hacer la exportación. 
Se corrigió un error en las nuevas jerarquías externas 
que al avanzar de estado un elemento los campos que tienen esta característica, si, no estaban diligenciados dejaba avanzar en el flujo.Pruebas y aplicabilidad: Cafam. Validar que al intentar avanzar de estado si existe alguna Metadata que no esté diligenciada la solicite antes de continuar y que si la jerarquía configurada en el campo no devuelve resultados no lo solicite y permita avanzar. 
Ahora en la agenda de pendientes del administrador al reasignar una o mas tareas podemos indicar que támbien actualice el responsable en una metadata Infotext, para esto configure el feature InfoTextOnUpdateResposibleMetaDataId por ElementType siendo un registro por MetaDataId.Pruebas y aplicabilidad: Cafam. Probar que al reasignar una tarea los campos infotext configurados para actualizarce, mantenga la misma forma, ejemplo si en EMDV solo guarda el id '1529|' o si guarda el id mas el nombre '1529|Jhon Doe', conserve la misma forma. 
Al momento de crear un elemento permitía subir un anexo que en el nombre tenía caracteres especiales y guardar el elemento, pero despues al editarlo saltaba la advertencia de que había una secuencia de caracateres potencialmente peligrosa. Pruebas y aplicabilidad: Opain. Se debe probar al momento de crear un elemento, subir anexos dónde el nombre contenga caracteres especiales y luego poder editar el elemento sin que genere esta alerta. 
se creo el parametro UseETMDWFTransitionSettingsInCalculated que debe estar en true para cuando se realicen calculados desde configurationHub, use la configuración de la tabla ETMDWFTransition.Pruebas y aplicabilidad: Donde aplique. Validar que se actualicen los responsables y fechas que bajan al flujo de forma adecuada, y cuando el parametro esta en false no use esta configuración. 
En la Base de datos de desarrollo está el sp Custom_BalanceoDeCargas para usar balanceo de cargas simple en un infotext. Su función es a un grupo de usuarios validar la cantidad de tareas que tienen en un estado especifico, y devuelve el id del usuario que menos tareas tenga asignadas.los parametros que usa el infotext, son los siguientes: @UsersOrActionGroup varchar(max) /*Si hay mas de uno deben ir separados por una coma*/@IsActionGroup BIT /*Es 1 si los datos ingresados en @UsersOrActionGroup son ActionGroupIds de lo contrario 0*/@WorkFlowStateId INT /*Aquí va el estado por el cual se va a filtrar las tareas de cada usuario (De momento solo va uno)*/@IgnoreMaximumTask BIT *Indica si no hay límite de tareas por usuario, por defecto 0*/@CurrentStatesIds varchar(max) /*Indica los posibles estados en los que se encuentran los elementos a validar*/@UseGenericUser BIT /*Usese esta variable para indicar si se debe usar un usuario genérico si los usuarios ingresados tienen mas tareas de lo permitido, por defecto 0*/@GenericUser int /*Teniendo en cuenta el parametro @UseGenericUser ingresar aquí el usuario generico, por defecto 0*/ Pruebas y aplicabilidad: Dónde aplique. Validar que el Id del usuario que retorne sea realmenete el usuario con menos tareas.   
Se implementó el mecanismo de Recaptcha para la página de autenticación. Este mecanismo evita la repetición de contraseñas de manera continua y disminuye el riegos de intrusión por fuerza bruta. Recuerde que debe configurar los parámetros ReCaptchaClientCode y ReCaptchaServerCode. Solo en ambientes donde no hay salida a internet (en browser cliente), en modo on-premise, puede establecer los parámetros DisableLoginCaptcha (deshabilitar el recaptcha de Login) y DisablePasswordForgottenCaptcha (deshabilitar el recaptcha de “Olvidé mi contraseña”) en true. Pruebas y aplicabilidad: Todas las aplicaciones. Verificar que la recaptcha funciona de forma correcta y se requiere para entrar a la aplicación y para solicitar la restauración de contraseña.   
Se creó un mecanismo para mantener en Cache de aplicación, el valor de campos InfoText que no cambien una vez calculados la primera vez (por ejemplo, valores que sean constantes después del primer guardado). Esto acelera el render tanto del Readonly como el EDIT, al no tener que ejecutar una y otra vez la misma consulta. Para esto, establezca por Metadata el feature UseAppCachedValues. Pruebas y aplicabilidad: CAFAM. Establecer el feature para los campos infotext de uso frecuente, según se evidencie con el SQL Profiler/Data Studio Profiler. Se debe verificar que el valor siempre se observe igual luego del primer guardado.   
Se solucionó un error que impedía remover el filtro de consulta en los listados SENSE cuando no se encuentran resultados. Pruebas y aplicabilidad: Todas las aplicaciones, listados generales y por Tipo de Elemento.   
Ahora es posible ejecutar las tablas de cache de manera asincrónica, sin que bloqueen la ejecución de la página u ocsaionen Timeout. Cuando se ejecuta de manera asincrónica, una vez finalizado el proceso le llegará un correo a la persona que ejecutó, informando del éxito o fracaso de la operación. Pruebas y aplicabilidad: Todas las aplicaciones. Verificar la correcta ejecución de las tablas de cache, según se indica en 

Se solucionó un problema de render de la página de PDF en panel, la cual no abría de manera correcta si en el titulo contenía una comilla sencilla. Pruebas y aplicabilidad: aplicaciones que utilicen la funcionalidad de PDF en panel. Incluir diferentes caracteres en el título.   
Se ajustó el mecanismo para presentar valores deshabilitados en listas de selección simple (internas, externas y con herencia). Pruebas y Aplicabilidad: Todas las aplicaciones. Habilitar y deshabilitar valores en los listados y revisar su comportamiento con elementos nuevos y ya existentes.   
Se ajustó el mecanismo de las metadatas tipo Suggest en listas internas y externas para conservar los valores guardados y efectuar de manera correcta la aplicación de la herencia interna y externa, basada en MDV.AlternativeId o en ExternalValueHierarchy. De paso se soluciona el 
Pruebas y Aplicabilidad: Todas las aplicaciones que requieran utilizar controles tipo suggest: Se debe crear elementos con diferentes situaciones (jerarquías con padre suggest-hijo lista sencilla, padre list, hijo suggest, etc) con jerarquías internas y externas y verificar que los valores almacenados queden de manera correcta una vez se abra de nuevo el EDIT o el RO.    
Se ha desarrollado un mecanismo para facilitar la búsqueda de elementos embebidos basado en las metadatas de un elemento padre, el cual puede estar guardado en la aplicación o no. Estas búsquedas se pueden realizar utilizando metadatas de tipo texto, infotext, y listas internas y externas y están basadas en la condición de otra MetaData.  Ejemplo de la configuración del feature  Para habilitar esta función, se configura el feature llamado EmbeddedSearchViaParentMetaData,por ElementType hijo, en el que se especifican las condiciones de la siguiente manera {     "EmbeddedMetaData": 342, // Metadata Embebida en el Elementtype padre     "ConditionMetaData": [2], // MetaDatas que condiciona la busqueda     "2": { // Aquí creamos un objeto para la metadata que condiciona         "3": [  // en el cual indicamos el valor posible              "2,3,493-644" // e indicamos las metadatas para la búsqueda         ],          "4": [             "2,3,403-644"         ]     } } tener en cuenta. En caso de que las metadatas sean las mismas tanto para el padre como para el hijo, simplemente se indican una vez. En caso de ser diferentes, se usará el formato {mdPadre}-{mdHijo}. Por ejemplo, '2,3,15-30' es similar a la configuración de herencia de metadatas. Pruebas y aplicabilidad: CAFAM, todas las aplicaciones   
Para el consumo de API externas, es común que, por alguna razón, la información no esté completa, lo que puede resultar en errores 404 Bad Request. Para evitar esto, se ha desarrollado un mecanismo que evita la solicitud a la API en caso de que falte información indispensable. Para lograr esto, se configura el AppServiceFeature ExternalAPIPathValidator, donde se indica la ruta JsonPath del valor que sea indispensable para realizar la solicitud. Pruebas y aplicabilidad: CAFAM.    
Ahora es posible personalizar los mensajes de las transiciones, incluyendo valores de metadatas. Para lograr esto, se configura por ElemntType el feature WorkFlowTransitionMessage indicando la transición y el mensaje, así como el nombre de las metadatas entre corchetes. El formato es el siguiente: {WFT}|mensaje con [NombreMetaData]. Pruebas y aplicabilidad: CAFAM.    
Para unificar los mensajes de la aplicación, ahora se puede configurar el modo en que se muestran los mensajes de cambio de transición. Esto se puede hacer mostrando el mensaje en una ventana modal o de manera tradicional con el toast. Para habilitar la ventana modal, se configura el parámetro UseModalWindowInStateChange en true. Pruebas y aplicabilidad: CAFAM. todas las aplicaciones   
Para el consumo de API externas, ahora es posible establecer valores por defecto de las metadatas duarnte la creacion o edición de los elemetos dependiendo de la API Externa que se utilice. Para lograr esto, se configura el feature ExternalAPISourceBasedAutoPreset, por AppService, donde se indica , ElementType|MetaData|valor por defecto. En el caso de texto, se especifica el texto explícito y en el caso de una lista, se indican los ID separados por coma.   Pruebas y aplicabilidad: CAFAM. todas las aplicaciones    
Para abordar los posibles formatos no compatibles en las API Externas, se han creado los siguientes features:  ExternalAPIFormDateFormat: Este feature permite definir el formato deseado para las fechas mediante metadatas, por ejemplo, 'dd-MM-yyyy'. Se utiliza para establecer la estructura deseada de fechas, considerando las convenciones de formato en C#. ExternalAPIHTMLIntegrityGuard: Este feature se encarga de mantener o no el formato HTML del origen. Permite controlar si se debe preservar el formato HTML recibido de la API externa o si se debe procesar y modificar según sea necesario.  Pruebas y aplicabilidad: CAFAM. todas las aplicaciones    
En ocasiones, es necesario crear estados del flujo que, aunque sean diferentes, representan lo mismo. Para abordar este escenario, se ha introducido el concepto de los estados isomórficos. Para configurar esta funcionalidad, se utiliza la nueva tabla WFSFeature Feature por estado. En esta tabla, se especifica para cada estado isomórfico cuál es el estado principal al que está vinculado utilizando el feature IsomorphicWorkFlowStates. Esto tiene impacto en lo que semuestra en los filtros con el listado de estados y al momento de aplicar las búsquedas por estado  Pruebas y aplicabilidad: CAFAM. todas las aplicaciones    
Los usuarios creados para el consumo de la API no pueden ser modificados. Para cambiar este comportamiento, se configura el parámetro CanEditUserAPIConsumer. Pruebas y aplicabilidad: Todas las aplicaciones    
Debido a un error que se estaba presentando en la fusión de documentos de Word al intentar actualizar la tabla de contenido, ahora se verifica si el documento tiene o no una tabla de contenido antes de proceder con la actualización. Pruebas y aplicabilidad: Todas las aplicaciones     
Ajustada inconsistencia en texto que mostraba la ayuda del flujo cuando se usa la configuración de la columna “AffectedByHistory” de la tabla workFlowState y se ejecutaba una transición de devolución.Pruebas y aplicabilidad: Comware, validar que sea consistente el texto en la ayuda del flujo cuando hay devoluciones.   
Se realiza un ajuste a la funcionalidad de verificación de documentos de Word con el feature UseAttachmentSignature, el cual no funcionaba correctamente. Pruebas y aplicabilidad: Todas las aplicaciones    
El desarrollo 
proporciona una solución a la incidencia reportada.   
Para solucionar este 
se desarrolló una funcionalidad de generación de AlternativeId gestionado desde la API, permitiendo su gestión desde cualquier origen. Para habilitar esta funcionalidad, configure el parámetro SetAlternativeIdViaAPI.   
Se ha implementado un nuevo mecanismo para la construcción y poblado de las tablas de caché. Para activar esta funcionalidad, el parámetro DisableNewCacheTableFilling debe establecerse en false. Este método se divide técnicamente en dos partes:    Procedimientos almacenados para la construcción (CacheTable_Rebuild) y llenado (CacheTable_Repopulate) de la tabla de caché: Estos procedimientos toman como parámetros el ElementTypeId y el LanguageId. Su función es construir la tabla de caché de acuerdo con el formulario e idioma correspondientes, y llenar cada columna de la tabla de caché. Es importante señalar que los MetaDatas tipo File no se incluyen en este proceso.     Llenado de las columnas de la tabla de caché referentes a MetaDatas Tipo File motivado desde la aplicación: Este proceso específico se encarga de llenar las columnas de la tabla de caché relacionadas con MetaDatas Tipo File y se realiza desde la aplicación, de acuerdo con el tamaño de lote registrado en el parámetro CacheTableFillingBatchSize.    Desde el enlace ../Admin/CacheTable.aspx en el Configuration HUB, la acción de construcción y llenado de las tablas de caché se lleva a cabo de la siguiente manera, al igual que en versiones anteriores: se selecciona el formulario, se hace clic en el botón 'Rebuild' en caso de configurar campos o transiciones nuevas al formulario y, finalmente, en 'Repopulate'. Además, el proceso continúa generando registros en SystemOperation.   Pruebas y aplicabilidad: Todas las aplicaciones.   Release Notes:  Changeset 3193, Login Recaptcha, 
TC F/R, Emebdded S Mod, SENSE List filtering Limits, Deep Reasignation, frm4.8.1, Misc Fixes   UPDATE: 2022-02-26   
(EG,HR) Se creó un mecanismo para llenar campos de un formulario, mientras es editado, desde una API externa, la cual toma como entrada de consulta, información que se encuentra en el propio formulario. Para esto, configure por metadata (destino de los datos consultados) el feature existente TextMetaDataFillerConfig. La configuración que debe tener este feature es un JSON con la siguiente estructura de ejemplo: {   'FillerType': 'ExternalAPI', --Siempre este valor   'ButtonText': 'Titulo del Botón',   'DataSource': 'EE4948D88EB1294E451D7B1B80E69FAA', --Texto encriptado de Parameters la tabla WorkFlowExternalConfig    'ExternalAPIId': 13, --Id del registro de la tabla WorkFlowExternalConfig   'RequiredData': [1165], --Array de Metadata ids que se requieren llenar para enviar como parte de la consulta a la API externa   'ClientFunction': 'ExecuteExternalAPIMethod', --Método de Javascript que se ejecutará al presionar el botón. No Cambiar   'FillerHierarchyFilter': --Filtro de valores que hará que se muestre o no el botón   {      'ParentMetaDataId': 1164,      'PossibleValues': [23203,23204]   },   'MetaDataId': 657 --MetadataId destino (la propia metadata donde aparece el botón)} Note que FillerHierarchyFilter es opcional y lo que permite es que en el caso descrito, el botón salga si la metadata id 1164, tiene uno de los 2 valores indicados (23203 o 23204).Puede crear más de un botón para la misma metadata y configurar diferentes filtros FillerHierarchyFilter. En caso que la consulta no sea exitosa, la aplicación arrojará un mensaje de error genérico. En algunos casos, la consulta puede arrojar valores nulos, que se sustituiran por el caracter '-'. La configuración de la consulta puede permitir llenar, con el mismo botón, más de un control en el formulario.Pruebas y Aplicabilidad: CAFAM. Configurar para la consulta de SAP, personas naturales y empresas.   
Se hicieron correcciones en el endpoint elementworkflow/ExecuteStateChange para el cambio de estado basado en OAuth2. Ahora se comprueba de manera efectiva la identidad del requiriente del cambio de estados y se hacen otras verificaciones de seguridad. Pruebas y Aplicabilidad: Todas las aplicaciones, ver registro en Postman 
Corregido el envío de notificaciones cuando ocurre una transición paralela. Anteriormente, se producía un error en el cual, al ejecutar la transición final (ya sea de avance o devolución, según la prioridad en el flujo), siempre se enviaba la notificación configurada para la transición de avance. Sin embargo, en el caso de una devolución en el flujo, esta notificación resultaba incorrecta, ya que correspondía a la de avance.Pruebas y aplicabilidad: NuevaEPS y dónde aplique, se debe probar las notificaciones que se envían cuando hay múltiples responsables, el estado es paralelo y hay devoluciones y/o avances.  

Se habilitó el Log para registrar las operaciones de recodificación (operationlog) 2. 
Para esto se decidió poder utilizar un infotext como parte de la mascara (Precaución: el contenido del infotext debe poderse determinar de forma efectiva ANTES de la determinación de la mascara, especialmente en infotext que requieren usar información de elementos padres). 3. 

se deben crear 2 parametros StopProcessingNotificationQueueOnWeekends y StopProcessingNotificationQueueOnNonWorkingDays, el primero para detener las notificaciones basadas en ServiceConfig los fines de semana y las segunda para los días no laborales. 5. 

Ahora se guardará en el campo Element.Tags, el ElementId del elemento original cuando se hacen clones. 7. 
[BETA]: Se incluyó server-side la verificación de las jerarquías externas para campos no diligenciados y que son obligatorios. 8. 
Se refrescó el cache de permisos de padres e hijos naturales en dependencias de flujos. 9. 

Ahora la mascara se presenta como 00:00 para evitar dejar las letras h y m como parte de la hora específicada. 11. 
Se incluyó el botón de vista previa 12. 

Workaround para mejora en desempeño en búsqueda por palabra clave general 14. 
Mejora en desempeño en guardado de permisos en elementos.   ChangeLog: Minor Fixes.    Aplicabilidad y Pruebas   3. Todas las apps. Se deben probar las notificaciones simples y las agrupadas, tanto en opepraciones manuales como automáticas. 11. Todas las aplicaciones. Probar listados de agendas de pendientes generales, por módulo y búsquedas generales por diferentes criterios. 14. Todas las aplicaciones. Probar aplicación de permisos en diferentes estados, a personas y grupos, al momento de guardar en SENSE.   UPDATE:2020-12-10   15. 
Se ajustó el mecanismo de consumo de WS para firmas digitales. Ahora se incluye en el envelope, el header de autenticación incluyendo los marcadores $USERNAME$, $PASSWORD$ (ver abajo Breaking Change), $NONCE$ y $CREATED$. Estos 4 debe ir dentro del header del envelope. [Breaking Change] Anteriormente se habia definido $PASSWORD$ como contraseña o llave privada para la aplicación de la firma: de ahora en adelante pasa a llamarse $PIN$. De esta forma, un envelope típico (parámetro ExternalDocumentSigningEnvelopTemplate) se define como:  Además, se crearon 3 parámetros nuevos: ExternalDocumentSigningUserName (correspondiente a al username), ExternalDocumentSigningPassword (correspondiente al password encriptado usando el mecanismo estandar de encripción de la app) y ExternalDocumentSigningRequiresAuthentication que define si es necesario o no autenticar la llamada al WS.   UPDATE:2020-12-15   16. 
Se reajustó el mecanismo de obtención de contenido obligatorio no diligenciado cuando se trata de controles de metadata con herencia desde un infotext padre (el cual se habia liberado con problemas desde v22) 17. 
Se corrigió la aplicación de longitudes máximas cuando la metadata esta en un formulario sin flujo o cuando se configura a través de ETMDFeature    

Se realizó un ajuste en el mecanismo de herencia de valores externos de selección simple y múltiple: Ahora se evitan cargar todos los valores en los listados antes de aplicar la jerarquía en controles hijos, por lo que el cargue ahora es más rápido. (Known Issue): En la herencia de listas externas que usan MDV.AlternativeId como configuración de la jerarquía, no funciona de manera adecuada cuando el hijo es del tipo suggest (solo funciona con listas tradicionales). Aplicabilidad y Pruebas: PHQ y en general, todas las aplicaciones que utilizan jerarquías externa basadas en AlternativeId o con ExternalValueHierarchy   

Al utilizar los links a búsquedas en los listados Sense, se estaban mostrando 2 listados diferentes, de forma incorrecta. Pruebas: Links a búsquedas usando diferentes tipos de filtros.   
Se ajustó el “Link a este elemento” en el ReadOnly, cuando este se abre desde un link (por ejemplo, desde el correo) el cual quedaba incompleto. Pruebas y Aplicabilidad: Todas las aplicaciones, abrir elementos desde links.   

No se podían subir anexos cuyo nombre empezaba con la palabra “Error”. Pruebas y Aplicabilidad: Subir anexos con diferentes nombres, incluyendo o sin incluir la palabra Error.   
No funcionaba la exportación cuando hay filtros aplicados en listados SENSE. Pruebas y Aplicabilidad: Creare filtros en listados SENSE y exportar los resultados. Todas las aplicaciones.   
Corregidas todas las instancias de redirección en SENSE cuando el usuario requiere autenticación (AD,AAD o Normal). Para que funcione de manera adecuada con AAD, se requiere actualizar el DMAuthenticator (solicitar a Desarrollo). Pruebas y aplicabilidad: Crear links a elementos, listados o listados filtrados, eliminar las sesiones y probar la redirección desde la autenticación, incluyendo AAD.   
Se creó un mecanismo de herencia restrictiva entre controles externos (dependiendes de la configuración en MDV.AlternativeId) en la cual los valores hijo pueden ser pre-filtrados basados en los valores del abuelo. Ejemplo, suponga esta jeraraquia: Pais (abuelo): Colombia, Brasil, Venezuela. Estado (Padre): Amazonas (dependiente de Colombia), Amazonas (dependiente de Brasil), Amazonas (dependiente de Venezuela). Capital (hijo): Leticia (dependiente de Amazonas-Colombia), Manaus (dependiente de Amazonas-Brasil) y Puerto Ayacucho (dependiente de Amazonas-Venezuela). Tradicionalmente, si Amazonas tiene el mismo ID, si en el formulario se selecciona “Amazonas”, aparecerán las 3 opciones de capital, lo cual es incorrecto. Al aplicar la restricción (mediante el feature GrandParentAffectsHierarchy en la metadata Padre, con el valor true), se aplicará en los hijos el pre-filtrado de Pais, por lo que en el caso de seleccionar Colombia à Amazonas , la única opción será “Leticia”. Por otra parte, se debe configurar el feature GrandParentHierarchyConfig en el parentId, con la información que relaciona abuelo con hijo, usando el formato VistaAbuelo|AbueloId|AbueloId_en_Padre Por ejemplo Vista|DepartamentoId|DepartamentoId. Pruebas y aplicabilidad: Stork y todas las aplicaciones que tengan similar restricción.   
Se solucionó una situación en la cual en los listados externos de selección simple, no quedaba almacenado de manera correcta el valor seleccionado, de manera que cuando se abría de nuevo el EDIT, no presentaba el valor correcto. Pruebas: se deben probar de nuevo todas las aplicaciones que tengan listas externas de selección simple, con o sin jerarquía. Verificar que se almacenen de manera correcta los valores y que se conserven cuando se abre de nuevo el EDIT.   

(NoFix). El 
no se solucionó, pero se implementó en SENSE un mecanismo para poder incluir en número de copias a ser requeridas desde la versión impresa en PDF (similar a como se tenía en SWIFT). Para esto, configure por ET el feature UsePrintingCountInSense en true. Pruebas: Configurar el Feature y verificar que el número de copias requeridas quede de manera correcta en el log de operaciones.   

Se corrigió el problema en el cual no aparecían deshabilitados los valores de listas de selección simple y múltiple, con y sin herencia, externas o internas. (Known Issue). Solo funciona con los casos de configuración Tabla|Id|texto y Tabla|id|Texto|Enabled. Pruebas y aplicabilidad: Todas las aplicaciones donde haya valores deshabilitados en las listas mencionadas.   
Se solucionó VULN-16980 reportado por JMC el cual permitía ejecutar XSS en la página de reportes PIVOT. Pruebas y Aplicabilidad: Aplicaciones de JMC, inyectar comandos en el ViewState.   

Se hacen calculados del elemento padre cuando el embebido sufre una modificación. Aplicabilidad y pruebas: ver descripción del 
probar en nuevaEPS.   

Ahora se puede definir desde la programación de una encuesta el “subject” del email que se envía para responder la encuesta, para esto configure en feature SurveySubjectParentElementMetaDataId por AddOn indicando el id de la metadata de la programación que contiene el texto a servir como subject. Aplicabilidad y pruebas: FemsaKof y dónde aplique   
(CG, HR) Se reactivó el mecanismo de indexamiento de anexos (búsqueda de textos dentro de los archivos que se suben). Para esto recuerde configurar el parámetro UseIndexinService en true y las demás configuraciones que se encuentran en el release 14.4. De esta manera, los resutaldos de las consultas en los listados en SENSE utilizan resultados de coincidencia de elementos que contengan archivos con la o las palabras buscadas. Para deshabilitar esta caracteristica por ET, configure el feature IndexingServiceDisabled.  Se solucionan 
y 
Aplicabilidad y pruebas: Dónde aplique. Todas las aplicaciones deberían tener esta característica habilitada, salvo en los casos que por temas de desempeño del ServiceProcess que indexa, se demore mas de 3 horas.   
Ahora es posible consultar el operationLog en formato , para esto puede ejecutar el sp OperationLog_GetInSyslogFormat Aplicabilidad y pruebas: Dónde aplique.    

– Se corrige el funcionamiento de SemanticTransformation al convertir números en letras Aplicabilidad y pruebas: Femsa Contratos y dónde aplique.   

– Cuando se usaba el feature CodeUsesPutativeParentId y el embebido es el mismo ET que el elemento papa no funcionaba de forma correcta los consecutivos, para solucionarlo debe configurar el feature GenerateEmbeddedAlternativeInOrder por el ET que presenta el problema, es importante recalcar que se debe usar solo cuando el embebido hijo es del mismo ET que el papá. Aplicabilidad y pruebas: PHQSGC y dónde aplique.   

– No

CNT-052-ESP-002 ENVIO CORREOS CON COPIA (CC). Ahora es posible cuando se configuré una notificación a un correo externo por WFPExternal, se pueda agregar correos como CC (carbon copy), para esto configure el feature EmailCCWFPExternalMetaDataPair por ET, dónde debe ir el WFPExternalId y la MetadataId de dónde saldrán los correos ejemplo “12|956” dónde 12 es el WFPExternalId y el 956 la metadataId que contiene los correos a copiar. En el caso de requerir copiar a mas de un correo este debe ir separado por punto y coma y sin espacios ejemplo 'prueba1@test.co;prueba2@test.co'. A la tabla NotificationQueue se agrego la columna “CC” dónde se agregaran los correos que se enviarán como copia Aplicabilidad y pruebas: Stork y dónde aplique. Se deben probar todas las notificaciones que se encolan   

Se corrigió el doble registro en OperationLog al momento de usar la versión de impresión Aplicabilidad y pruebas: Dónde aplique.   
Ajustado una situación cuando había lentitud en la red del usuario permitía dar mas de una vez click al momento de avanzar de transición en el cuadro de comentarios lo que ocasionaba múltiples registros en ItemWorkFlowHistory y avances de estados Aplicabilidad y pruebas: PHQSGC, NEPS y dónde aplique   
Ajustado cuando se busca por un usuario desde la interfaz de usuarios el cargo llegaba nulo Aplicabilidad y pruebas: PHQSGC y dónde aplique   
EJECUCIÓN DE API EXTERNA SEGÚN FRECUENCIA: La nueva funcionalidad permite realizar peticiones a APIs externas con base en la frecuencia establecida para cada AppService. Además, permite activar automáticamente el avance en el flujo de trabajo según el valor de un campo específico. Para implementar esta funcionalidad, sigue los pasos a continuación: Identifica los AppServices que realizarán las solicitudes y crea una vista que incluya la información necesaria. La vista debe nombrarse con el prefijo 'ExtAPI_', por ejemplo: 'ExtAPI_MyViewRequestExternalAPI'. La vista debe contener la información de ElementId, ElementTypeId, AppServiceId, Parameters (nombre del SP Custom que generará el JSON para la solicitud o completará la ruta), y FrecuencyId (identificador de la tabla ApiRequestFrequency). Configura los intervalos de tiempo en la tabla ApiRequestFrequency, especificando la frecuencia de días para ejecutar las peticiones a la API externa. Si se requiere, configura la tabla ApiRequestFrequencyDate para indicar el día y mes exactos en los que se ejecutará la petición a la API externa. ExternalAPISimpleValuesExtractionJSONPATH para almacenar la información en metadatas específicas. En caso de valores comparativos, utiliza un (|) adicional para indicar si se debe tener en cuenta su valor para cambio de estado automático. Ejemplo: 31|$.body.content|true. Configura el feature AppService ExternalAPIEndPointResponseWFTransitionPair, indicando el valor del resultado obtenido y la transición a ejecutar. Ejemplo: valor,105 (donde 105 es la transición a ejecutar). Finalmente, para almacenar un historial de las peticiones realizadas a la API externa en un elemento embebido, configura el feature ExternalAPIMetaDataLinking por ET, especificando el metadato embebido donde se guardará el historial. Por último, configure el servicio: DynamicExternalAPIExecution por Horas Aplicabilidad: PEI   



Se resolvo situacion en la que con algunos separadores no actualizaba el codigo cuando se queria recodificar manualmente. Se aclara que los unicos separadore permitidos son: punto (.), Guion(-), Guion Bajo(_), andperson(&), numeral(#), espacio( ), viñeta(~) , barra inclinada(/) y sigino de porcentage(%)   


Llenado de tablas mediante API externa, para ello se configura los feature FillingTablesWithExternalAPI por hora y los feature por AppService FillingTablesWithExternalAPI(value puede ir en null o bien puede generar con un custom el JSON para request dependiendo el caso y la API) ExternalAPITableToBeFilled en el que indica los AppService en value {indica tabla llenar}|{Ruta JsonPath con la información} por ejemplo: saplocallotes|$.n0:ZFSINERGIAMLTResponse.MATERIALES.item[?(@.MATNR!= '?')] NOTA: la tabla a llenar ya debe estar creada ExternalAPIColumnByTableKey se debe configurar para indicar cuales son las llaves para garantizar un registro único: se configura {tabla a llenar}|{Nombre del campo} ExternalAPIColumnByTable:Se configura para indicar cuales son las columnas a llenar y además indica cual el es su par en el JSON se configura de la siguiente manera {Nombre de la tabla a llenar}|{Nombre de la columna en la tabla}|{Nombre del valor en el JSON} ExternalAPIUpgradeableColumns: Este se configura indicando cuales son los campos que se tendrán en cuenta para la actualización de una columna si no se configura en el caso de una actualización externa creara un nuevo registro en la tabla se configura de la siguiente manera {tabla a llenar}|{nombre del campo a ser actualizado} Aplicablidad: PHQSGC   
Nuevas mejoras al servicio, se eliminó el servicio buildoustandingtaskcacheall   
El servicio ahora es capaz de ejecutarse en días de semana específicos para ello indique en el nuevo campo de la tabla ServiceConfig WeekDays los días de semana a ser ejecutados (Al igual que las tareas de TASk1 y TASK2   





hay cambio en la configuración en el valúe ahora queda de la siguiente manera Feature: ExternalAPIEndpointExecutionAddOrEditMetaDataValue en la cual se deberá configurar {MetaDataKey}|{MetaDataSouerce}|{AppServiceConsumer}: las configuraciones actuales son compatibles, aunque se recomienda realizar el cambio Aplicablidad: Valorem   
Integración con Okta: Para la integración eh inicio de sesión se desarrollo una funcionalidad similar a la autenticación con AAD para la configuración un DocManager configurar los parámetros OktaKid, OktaClientId, OktaGroupId que debe ser proporcionados por el cliente (en los próximos días se publicara un manual para el cliente) adicional ahora con el parametro AuthenticationModeProvider dbe indicar cual es el provedor de autenticacion Azure u Okta Aplicablidad: Donde Aplique   

la creación del feature 'ETMDValidationOnlyFirstSave' en el que se validaría por ETMD si solo se realiza cualquier validación en el primer guardado o no Aplicablidad: FemsaKOF   

se Desarrolló el parámetro SendNotificationsByActor en el cual si está en true notificara por actor, es decir si un usuario esta configurado con diferentes ActorId le llegara un correo por cada configuración Aplicablidad: Valorem, General   
Ahora es posible incluir comentarios en las notificaciones con plantilla, para ello simplemente agregue la etiqueta [Comments] la cual será remplazada en el cambio de estado o desde otros orígenes Aplicablidad: General   Release Notes: Keyoti II, 
fixes   Tiempo límite de prueba: May 23 - 2023   Video: https://youtu.be/EGIijxo9JXI

Se implementó el sistema de autenticación con  usando .  El mecanismo de single sign-on en el contexto de DocManager, consiste en que los usuarios corporativos de una organización pueden usar sus credenciales de dominio interno para autenticarse en DocManager, cuando este está ubicado en la nube de DocManager. Para esto, deben cumplirse las siguientes condiciones:  El Active Directory local (on-premise) debe estar replicado a un Azure Active Directory (AAD). Existen varios mecanismos para lograrlo, que están fuera del alcance de DocManager (Office 365, ADSync, etc). De esta manera, para un usuario, la contraseña local de Active Directory es la misma que la del AAD. El AAD es propiedad del cliente y es su responsabilidad el mantenimiento. El tenant se define como la representación de la propiedad de la cuenta de Azure, que corresponde al cliente. Cada cliente corresponde a un tenant El cliente debe seguir en su tenant, las instrucciones de configuración de un Active Directory App Registration según se explica . Esto garantizará que la aplicación se pueda conectar de forma efectiva a DocManager. Es posible que el AAD no tenga un equivalente hacia un on-premise AD, pero de igual forma debería operar normalmente.    Flujo de Operación    Configuración de la autenticación  Se creó un nuevo tipo de autenticación en el parámetro AuthenticationMode llamado HybridWithDMAuthenticator. Este permitirá el SSO, pero también permitirá iniciar sesión con credenciales normales. En tal caso, a los usuarios se les presentará la siguiente pantalla:   Desde aquí, los usuarios tendrán 3 opciones:    Cerrar la sesión actual (si se ha usado SSO). Esto es obligatorio para los usuarios que deseen usar una cuenta diferente de SSO, pues a pesar de que se salga de DocManager, las credenciales del AAD siguen siendo válidas.  Entrar con la Contraseña Corporativa. Es decir, usar el SSO. En este caso, lo enviará a introducir sus credenciales:   Aquí puede ocurrir que la persona se pueda autenticar exitosamente, pero no tener autorización para entrar a DocManager. En tal caso, volverá a la página inicial y deberá cerrar sesión e intentar con otra cuenta o con la opción de contraseña de DocManager   Entrar con contraseña de DocManager. Utilización de la contraseña usual de DocManager. Esta opción es la que deberán usar los usuarios que no están en el AAD (usualmente usuarios externos, proveedores, etc)    Configuración del DocManager Authenticator Proxy El DocManager Authenticator Proxy es un servicio que corre en Azure por cada cliente que desee autenticarse usando SSO (esto es, hay una aplicación por cada AAD). Se debe configurar en la tabla AppService bajo el nombre DMAuthenticator:   Nota: No olvidar dejar un slash al final del Address, como se indica en el ejemplo El setup de cada servicio de Authenticator debe ser solicitado a Tecnología de DocManager,ya que no hay instaladores (Nota técnica: Desde Vstudio se hace la publicación de cada servicio directamente en Azure). Para lograr la configuración, se deben solicitar los datos que se piden en el   Configuración de la sincronización La sincronización correrá con el ServiceProcess AzureActiveDirectorySync, el cual debe correr al menos una vez al día (este solo corre como proceso custom, no tiene otra configuración). Tenga en cuenta:  Este proceso solo trae los datos de Nombre, Correo y si está habilitado o no. En este sentido, no trae otras información ni pertenencia a grupos, que seguirá siendo potestad de DocManager.  El email es la llave, por lo que no se sincronizaran usuarios si su correo existe para usuarios que no estén en el AAD (es decir, usuarios externos que requieran entrar con contraseña DocManager). En la tabla person, el campo Domain tendrá el valor “Azure”, en caso de que el usuario sea sincronizado desde AAD.    Diagnóstico Es posible hacer un diagnóstico simple de conectividad al Authenticator Proxy y al AAD, usando la opción de config.aspx.   Una vez abierta la opción, dar clic en Execute Query. Deberá aparecer un JSON con información de los usuarios del AAD del cliente, así:  Si no arroja ningún texto o arroja un mensaje de error, hay que revisar la configuración.   Migración de Cuentas con Contraseñas DocManager Esta operación actualizará las cuentas en la tabla person, para que se puedan sincronizar conta AAD. Par esto, utilice admin/adminutils.aspx en la opción Migrate Normal users to Azure Active Directory y presione Execute. Los resultados saldrán en Additional Details. Tenga en cuenta que TODOS los usuarios serán actualizados, colocando como login su email actual (ya no podrán usar su username o login actual). Si requiere revertir la situación, debe modificar manualmente la tabla person. 2. 
Se ajustaron en el editor HTML de SENSE Edit: Posibilidad de expandir el editor, botón pantalla completa (dentro del panel).3. 
Se corrigió el mecanismo de preconfiguración de permisos con y sin condiciones (no funcionaba sin condiciones).4. 
Ajustado el método Element/Get para eliminar en contenido basura e incluir información de flujo y embebidos.5. 


Se creó un mecanismo que permite que al clonar un elemento, se ajuste la relación con sus elementos padre, de tal manera que en ellos quede relacionado la versión clonada y no la versión anterior. Para esto, establezca por ET el feature RelinkOnCloneWithETMetaDataPair que consiste en el par ET,EmbeddedMetadata: de esta forma, ajustará las relaciones con los padres del element recien clonado. Release Notes: Changeset 1986, AAD SSO Aplicabilidad: 1. Valorem, Eficacia. 2. Todos en SENSE 3. SATO 4. Eficacia 6. NEPS.

Se realizaron varios ajustes de seguridad en la aplicación, especialmente en la página de autenticación (normal) así:  La página de autenticación ahora será public/login.ashx en vex de public/login.aspx. Esto debido a que se debe cumplir con lo definido por CSP (), que ayuda a prevenir los ataques de XSS. Toda referencia a login.aspx redirigirá a la nueva página. También se cambió el mecanismo del token de AntiForgery para solucionar algunos problemas inherentes a los encabezados http enviados desde el servidor. Aunque no es recomendado, es posible volver a utilizar la página antigua de autenticación, estableciendo el parámetro UseLegacyLoginPage en true (es un parámetro existente, no es nuevo). En este caso, debe reportarse al área de desarrollo la razón por la cual se habilitó esta opción. También se debe modificar public/ExternalDMAuthStart.html en la línea 23 y dejar aspx en vez de ashx. Por razones de compatibilidad con los encabezados de CSP, se utilizará el idioma del navegador (cuando esté disponible o el idioma del sistema operativo), cuando se ingrese a la página de autenticación. (Breaking Change) En la nueva página de autenticación, la funcionalidad de deshabilitar el pegado de contraseñas no estará disponible (parámetro DisablePasswordPaste). Esto debido a que no es una práctica de seguridad recomendada por SP 800-63B. Si aun así se desea utilizar, se debe configurar UseLegacyLoginPage. En la login.ashx se implementaron dos mecanismos para evitar el abuso de la opción de restablecimiento de contraseña: la utilización del Google ReCaptcha y la limitación de la cantidad de intentos de restablecimiento (por sesión, por navegador), el cual negará la opción de seguirlo ejecutando si se sobrepasa el número definido por el parámetro MaxPasswordResetAttempts. Este valor no puede ser mayor a 10.    Pruebas y aplicabilidad: Se debe probar el ingreso a la aplicación con autenticación normal, autenticación basada en AD e Híbrida con AAD, incluyendo redirecciones desde links en correo u otros contextos. Probar el intento de cambio de contraseñas, incluyendo fuerza bruta. Aplica para todas las apps.   
Se solucionó una vulnerabilidad en la página de cambio de contraseñas, mediante manipulación de parámetros del querystring. Pruebas y aplicabilidad: Todas las apps. (Pentest) Intentar abuso de parámetros de la página descrita   
Se solucionó una vulnerabilidad reportada sobre los headers de HSTS (Strict Transport Security) en varios contextos de aplicación. Pruebas y aplicabilidad: Todas las apps. (Pentest) intentar cambio a http en login, inicio de SENSE.   
Ajustado un problema en la exportación desde la grilla, cuando se han aplicado previamente filtros en la consulta. Pruebas y aplicabilidad: Todas las apps. Probar aplicación de filtros de diferente índole y su reflejo en la exportación.   
Ahora es posible configurar un listado de selección múltiple externa suggest, en elementos embebidos, para que tome información del elemento padre, aún antes de que se guarde (el embebido). Se requiere sin embargo que el elemento padre ya esté guardado. Para esto, se pude usar la configuración de MDV de la metadata como Custom_XXXX {0} | ParentElementId. Pruebas y aplicabilidad: PHQ y aplicaciones con el mismo escenario.   
Ahora es posible ocultar por defecto el menú de la izquierda en SENSE (módulos), hasta que el usuario opere manualmente el botón de hamburguesa. Para esto, configure el parámetro HideSenseMenuOnStart en true. Si se está utilizando HideSenseMenuOnLandingMedia, este se debe establecer en false para evitar corto circuito. Pruebas y aplicabilidad: KOF, probar en versión desktop y móvil.   
Ahora es posible ordenar los listados de elementos por ET por defecto. Para esto utilice el feature SenseListDefaultSortColumn (por ET), donde se indique el nombre de la columna. Puede usar los nombres canónicos de las columnas generales como CurrentWorkFlowStateName, CreatedByName, AlternativeId, etc. Se puede usar en conjunción con el feature SenseListOrderIsDesc (true para orden descendente). Pruebas y aplicabilidad: Donde aplique. Probar ordenamiento con y sin la columna visible.   
(Beta). Ahora es posible utilizar el tema oscuro en SENSE. Para esto, aparecerá el botón en la parte inferior del menú izquierdo de SENSE. Al presionarlo, cambiará continuamente entre el modo oscuro y claro. En algunos casos, el color de la barra superior debe ser ajustada (solicitar a desarrollo).Si no se desea presentar la opción de cambio de tema, establezca el parámetro DisableDarkModeSelector en true. Pruebas y aplicabilidad. Todas las apps.     
Ahora es posible definir que campos tipo listado son visibles en los filtros, esto puede ser realizado por el usuario desde la página de configuración de listados con check para indicarlo. Pruebas y aplicabilidad. Todas las apps.   
Ahora es posible definir múltiples super administradores, que pueden ser definidos por un super administrador en una pagina para tal fin. Esto debe tener un limite de super administradores que se configura en el feature SuperAdminCount, el primer super admin se configura con ayuda del área de desarrollo (usuario de soporte). Las anteriores configuraciones se mantienen excepción del parámetro SuperAdminPersonId ya que los Superadministradores que darán indicados en la tabla SuperAdmin. Pruebas y aplicabilidad. Todas las apps.   
Se modificó el consumo de APIs Externas mediante una frecuencia, el detalle será indicado en la actualización del documento de consumo de APIs Externas. Pruebas y aplicabilidad. Todas las apps.(en especial PEI)   

Se realizo ajuste en el en la fusión de documentos en el cual existían casos en el que no interpretaba correctamente el HTML. Pruebas y aplicabilidad. Todas las apps.   

Se realizo ajuste en la carga de imágenes en las metadatas Tipo HTML en el cual ajustara la imagen de mas de 700px a 700px para evitar demoras en la caga y además evitar inconsistencias en la versión de impresión. Pruebas y aplicabilidad. Todas las apps.   

(BETA): Nuevo tipo de reportes PIVOT , para configurarlos deje el parámetro UseNewPivotReportVersion en true, y las demás configuraciones habituales en las tablas defaultreport (Por ahora solo es posible mostrar la data, Expórtala a Excel y generar graficas de barra) Pruebas y aplicabilidad. Todas las apps.    
Ahora, en la ayuda del flujo de cada elemento, es posible visualizar los responsables asignados  (ItemWorkflowtransitionPerson) para ejecutar sus transiciones, así como también se indica si la transición ha sido ejecutada o no, brindando mayor claridad sobre el estado del proceso. Para esto configure el feature ShowWorkFlowHelpWithResponsiblesByGroup por ElementType (un grupo por registro) indicando el ActionGroupId que puede ver esta información adicional en la ayuda del flujo. Pruebas y aplicabilidad: General, probar que la información mostrada sea la correspondiente al flujo.   
Ahora en el módulo de administración se habilitó la visualización de la Guía de configuración de la aplicación (se debe insertar el permiso para poderlo ver en MenuPermission de forma manual). Pruebas y aplicabilidad. Todas las apps. 
Se creó el parámetro SMSEnabled para evitar errores en las notificaciones de vencimiento cuando está configurado el feature PhoneNumberMetaData. Pruebas y aplicabilidad. Todas las apps en especial EficaciaCD.   
Ahora, al realizar una búsqueda general desde el inicio, no se mostrarán los ElementTypes sin resultados. Se creó el parámetro ShowEmptyETResults que, si está en true, manejará el comportamiento usual. Pruebas y aplicabilidad. Todas las apps.   
Ahora es posible crear, habilitar y/o deshabilitar los superadministradores (ver 
Esta opción está habilitada para usuarios tipo Superadmin y pueden acceder desde el ConfigurationHUB. Pruebas y aplicabilidad. Todas las apps.   
Ahora en sense es posible indicar qué secciones de un elemento no se deben ver al utilizar la versión de impresión. Esta configuración está visible según los permisos de cada usuario sobre las secciones de los elementos y la columna UseSections en la tabla ElementType. Prueas y aplicabilidad. Todas las apps.   
Ver descripción del 
Pruebas y aplicabilidad. Todas las apps.   
Ver descripción del 
Pruebas y aplicabilidad. NEPS y Todas las apps dónde se use exportación en los listados HTML.   
Ver descripción del 
Pruebas y aplicabilidad. Todas las apps.   
Ahora es posible en las notificaciones que usan plantilla adjuntar los anexos en la notificación, de los elementos embebidos. Para esto, en la plantilla HTML, utilice una etiqueta con el siguiente formato: [$emb.Archivo] Donde 'emb' es el nombre de la metadata tipo embebido (OtherElementMultiple o OtherElementSingle) configurada en el elemento padre, y 'Archivo' es el nombre de la metadata tipo file configurada en el elemento embebido que contiene los anexos a adjuntar. Es obligatorio incluir los corchetes cuadrados y que la etiqueta inicie con el símbolo de peso '$', ya que esto indica que se buscará dentro de los elementos embebidos. Pruebas y aplicabilidad. Todas las apps.   

(BETA) Ahora es posible utilizar un cronómetro en el RO del elemento y, al detenerlo, guardar el tiempo registrado en un nuevo elemento (cuando se abre la ventana modal con LiteEdit.aspx, los valores preseleccionados se configuran en las metadatas establecidas y se debe guardar al dar clic en 'Guardar'). Para habilitar esta funcionalidad, configure el feature TimerDataElementType por ElementType como 'true' por tipo de elemento, donde se va a visualizar el cronómetro. Además, configure el feature TimerDataConfig por ElementType para indicar en qué metadatas del nuevo elemento debe guardar el tiempo, siguiendo el formato '140|952|IDATE', donde:  '140' es el tipo de elemento donde se guardará el registro del cronómetro. '952' es la metadata donde se guardará el registro del tiempo. 'IDATE' es la parte puntual del tiempo que se requiere guardar en la metadata, en este caso, la hora inicial.  Para el último dato de la configuración 'IDATE', existen varios 'marcadores' que indican cómo guardar el tiempo registrado en el cronómetro y otras configuraciones:  'ITIME': obtiene la hora inicial. 'ETIME': obtiene la hora final. 'IDATE': obtiene la fecha inicial. 'EDATE': obtiene la fecha final. 'IDATETIME': obtiene la hora y la fecha final. 'EDATETIME': obtiene la hora y la fecha final. 'PEID': obtiene el elementId del elemento padre. 'EMBMDID': indica si el elemento debe quedar embebido desde donde se registró el tiempo. Para usar esta opción, la metadataId debe ser el ID de la metadata del elemento padre (donde se visualiza el cronómetro) donde se debería guardar como embebido.  NOTA: Es importante tener en cuenta que los cálculos de las horas se basan en la hora actual del sistema desde donde se utiliza. por cada metadata debe existir un registro apuntando al mismo ElementType, este es un ejemplo de como debería ir la configuración en la base de datos.Pruebas y aplicabilidad. SARA y dónde aplique, se deben probar todas las opciones de los marcadores. 
Se ha creado el método 'element/ReplaceParentByCriteria' en OAUTH2. Este método, con base en un texto ingresado, el ElementTypeId ingresado y un MetaDataId previamente configurado en la base de datos, busca un Elemento que cumpla con los filtros especificados y lo reemplaza como el nuevo padre del ElementId ingresado en el json. El método recibe como parámetro un objeto con el siguiente formato: { 'ElementId' : 410986,   // Este es el ElementId del elemento que reemplazará el padre.'ParentIdentifier': 'This is a unique value',   // Este es el texto exacto con el que se buscará en ElementMetadataValue. 'ParentElementTypeId' : 87   // Este es el ElementTypeId del elemento padre que será filtrado y, a su vez, reemplazado. }La metadataId que es dónde va a hacer la busqueda del texto pasado en 'ParentIdentifier' se configura usando el feature ReplaceableParentKeyMetaDataId por elementType el cual debe ser el mismo ElementTypeId pasado en el parametro 'ParentElementTypeId'NOTA: Si El ElementId pasado en el objeto no tiene un elemento padre, la api retornará un texto indicandolo y NO pondrá el elmento que cumpla con los criterios pasados como nuevo elemento padre. Pruebas y aplicabilidad. EficaciaCD y dónde aplique.   
En la base de datos de Desarrollo esta el sp Custom_Element_ListToDosAll el cual lista los pendientes generales de la aplicación y lo elementos padres dónde estan las alertas (que funcionan como tarea pendiente) de LexisNexis Pruebas y aplicabilidad. PEI   Release Notes: CSP/Login fixes, PIVOT, DTheme, NewTimer, ExternalFlow

Se cambió la consulta de la agenda de pendientes general (SENSE) para mejorar su desempeño. 
Se realizaron mejoras menores en la visualización de la Agenda de pendientes general, que incluyen:  Colores para las fechas de expiración (Rojo para las vencidas, Amarillo para que están a punto de vencerse y verde para las que no se han vencido o no tiene fecha de expiración). Se creó el parámetro GeneralToDoListIncludesMyElements que define si en la agenda de pendientes general se deben incluir los elementos propios del usuario que están en el primer estado del flujo (que no necesariamente tiene fechas o tiempos de expiración). En tal caso, establezca el valor en true. Es posible definir una metadata que sea transversal a los tipos de elementos que aparecen en la agenda de pendientes general y que sea visualizada allí. Como no todos los tipos de elementos tienen el mismo conjunto de metadatas, se puede definir un infotext común para todos los ET. Para esto, cree el infotext para los ET requeridos y defina el parámetro GeneralToDoInfoMetaDataId con el id correspondiente. La visualización y colores de los ítems de la agenda de pendientes queda ahora definida por el parámetro GeneralToDoMarkup que es un HTML con las características visuales y posiciones de cada texto en cada item mostrado.   
Los botones de ayuda de metadatas de formulario ahora son más visibles. La configuración del CSS para tal fin está presente en App_themes/Static/LiteEdit.css 
Ajustado un problema en el cual al abrir un campo ayuda, se mostraba el selector de fechas en las metadatas tipo Date y el cuadro de selección de archivo en las metadatas tipo file. 
Se ajustó el despliegue del dialogo de impresión cuando la resolución es 1366x768, en el cual la ventana se corría a la izquierda. 
Se ajustó el despliegue de la barra de cargue superior que en Firefox quedaba siempre visible. 
Ahora es posible ocultar el menú de la izquierda en SENSE cuando se muestre contenido en vez de la agenda de pendientes. Para esto, defina el parámetro HideSenseMenuOnLandingMedia en true. 
Se creó un sistema de seguridad para los reportes tipo tabla en SENSE. [Breaking Change]: Ahora se requiere que se definan los reportes en la tabla DefaultList y estableciendo los permisos en la tabla DefaultListPermission. Asi mismo, las listas Custom debe incluir como parámetro un personId, asi sea 0, para que puedan funcionar de manera correcta. Entonces los reportes tipo lista salen en el modulo correspondiente (es decir, ya no se requiere definir un addon ficticio). Para configurar en DefaultLIst los campos query y exportquery, solicite al área de desarrollo la versión encriptada de cada valor. 


Se ajustó la agenda de pendientes de modulo (resumen), para que incluya en mensaje que no hay pendientes, en el caso de que no los haya. 
Se habilitó el feature ShowableWFStatesActionGroupConstraintPair para que en los filtros de SENSE solo se muestre el filtro de estados para ciertos grupos. Si no se define el feature, se comportará de la manera normal, pero si se define, se deben indicar todos los estados que el usuario puede ver en el filtro (por grupo). 
Solucionado el problema en el cual no se actualizan/calculan los valores de campos calculados/infotext cuando el elemento no tiene flujo, en SENSE. 
Solucionado un problema de sobrepoblación de la tabla PermissionCache cuando hay demasiados usuarios con el perfil administrador. Para reemplazar este comportamiento y solo se incluya un grupo en vez de todos los usuarios administradores, utilice el parámetro AdminGroupToGrantDefaultPermissions y defina allí el grupo correspondiente. 
Se desarrollo el requerimiento CNT-041-ESP-001 (sin aprobación del cliente, pero funciona de manera genérica para todas las aplicaciones), el cual consiste en que en el Grid es posible exportar solo los elementos seleccionados (que tienen marcado el check), siempre y cuando no se haya definido el feature ExportCanFilterByIds. 
Se ajustó una situación en la cual los valores de metadatas tipo lista eran excesivamente lentas al momento de desplegarse. 
Se incluyeron tags en algunas páginas para evitar que Chrome y otros navegadores ofrezcan la opción de traducir de forma automática la página. 
Se ajustó el log de operaciones para que en los guardados quede registrado la persona que realmente realizó el guardado y no la persona 1 (SENSE). 
Se corrigió una situación en la cual en Surveys II, un survey en estado programado enviaba de nuevo los correos a todos los usuarios cada vez que se guardaba la programación de la evaluación. Para esto, debe bloquear el control de usuarios/grupos y crear una metatada tipo lista interna (que indicará si los correos ya fueron enviados) con 2 valores, dejarla oculta y configurar los features SurveyEmailMessagesProcessedFlagMetaDataId con el ID de esa metadata y SurveyEmailMessagesProcessedFlagMetaDataValueId que indica el valor que de MDV que indica que YA se enviaron los correos. 
Se incluyeron los botones de Codificación Manual y Recodificar en el RO de SENSE, con la misma lógica de Swift. 
Se hicieron ajustes menores en el desempeño de la lista de elementos por ET en SENSE. 
Se ajustó el problema ocasionado por el parámetro PersonMappedElementTypeId en la administración de usuarios, cuando este valor no se establecia. 
Se implementó el nuevo mecanismo de autenticación de la API usando OAuth, para efectuar ciertas operaciones, de acuerdo a como se indica en el DOC-016. Asi mismo, se implementó el método element/customlist en la API. [BETA]: Se creó un mecanismo para administrar los APIConsumer [Known Issue]: Solo debe utilizarse para crear/editr APiConsumers que usen OAuth, dado que el mecanismo del secret se almacena de forma diferente al tradicional. Ingrese por el ConfigHub. 
Se modificó la página de cargue de elementos para utilizarlo solamente como cargue a la tabla temporal .  Por favor borrar todas las DLL de la API antes de actualizar. Release Notes: API 8.0, ToDoList improvements, Survey Fixes, General Fixes, Changeset 2372 Pruebas y Aplicabilidad 1,3,4,5,6,8,10,12,13,14,15,16,17,19,20,21 General 2, 22,23 Eficacia en General 7, 11, 18KOF Se deben probar posibles regresiones en: Agendas de pendientes (General y de modulo), Listados de elementos, búsquedas por texto y filtrados, todo Surveys II y en general el comportamiento de la API.   UPDATE: 2021-10-25 25. 
Ahora es posible utilizar ExternalDefaultsQuery para metadatas tipo texto (hijas) en SENSE. 26. 
Ahora es posible aplicar ExternalDefaultsQuery en etapas de la vida del elemento diferentes a la inicial. Para esto defina el feature EDQMetaDataApplicableInAllElementLife en true. 27. 
Ahora es posible redirigir el RO SENSE a una página especifica, al ejecutar desde SENSE una transición específica. Para esto defina el feature WFTransitionRedirection donde se define una pareja Transición,Página. Por ejemplo 26,../media/thankyou.html especifica que al ejecutarse la transición 26, se debe redirigir el usuario a la página thankyou.html. 28. 
Solucionado un problema en el cual se impredia guardar en Swift . 29. 
Solucionado un problema en el cual no se guardaba la fecha del EMDVStamp .   UPDATE:2021-10-27 30. 



"Al realizar un filtro de un valor de hijo de una jerarquía que se encuentra en más de un valor padre filtra todos los valores". Se ajustó el mecanismo de los filtros en SENSE y en GRID, para que tenga en cuenta la jerarquía completa de los valores seleccionados. De la misma forma se ajustaron los links a los resultados en los listados en SENSE. {Breaking Change} Los links a los resultados creados anteriormente no tendrán en cuenta la jerarquía completa. 2. 
Se liberaron completamente los cambios en la API para ajustarse a . Estos incluyen  element/customlist para ejecutar consultas sobre vistas personalizadas, con filtros. element/storeAsync, element/requestStatus, ServiceProcess ProcessElementQueue (38) que procesa la cola de creación de elementos solicitados mediante element/storeAsync. Este puede establecerse con una frecuencia mínima de 1m. Además, se debe configurar el parámetro ElementQueueBatchSize con el tamaño de lote de creación de elementos por cada ejecución del procesamiento de la cola.  Tenga en cuenta que para poder ejecutar un customlist, se debe crear un registro en la tabla CustomQuery y en la tabla CustomQueryPermission. En la primera tabla, se debe definir la vista que contiene el customquery y en la segunda, quienes tienen permisos para ejecutarla. 3. 
Se creó el parámetro ShowSenseHelpInPanel que permite abrir un html de ayuda (definido por el parámetro HelpDocumentPath) en un panel en SENSE, en vez de abrir en el dialogo flotante usual. 4. 
Se optimizó la escritura de los pendientes de una persona en OutstandingTaskCache. 5. 
Se creó un mecanismo para crear Dashboards en SENSE usando un archivo html desacoplado. Para esto, puede tomar de ejemplo Dashboard/example.html. 6. 
Ahora es posible clonar elementos desde el GRID, usando el botón "Clonar Seleccionados". 7. 
Se redujo el número de posibles valores de un suggest a los primeros 30. Si se desea mostrar todos los valores (no recomendable), establezca el feature ShowFullListOnSuggest por MD o ETMD. 8. 
Se corrigió una situación en la cual no se estaba ejecutando la herencia suggest-suggest en el EDIT, con jerarquía externa. 9. 
Ahora es posible borrar elementos desde el RO, cuando el elemento no tiene flujo. Si no se desea mostrar la opción, establezca por ET el feature HideDeleteButtonOnRO en true.   Release Notes: Changeset 2447, API storeAsync, CustomLists, Dashboard sample.   Aplicabilidad y pruebas:   1. Todas las aplicaciones, en especial Eficacia SGI (Resultados a un clic). Se debe probar muy bien el filtro por el árbol en SENSE, la exportación en listados SENSE, el filtro en GRID y la exporatación en GRID. 2. Se debe probar muy bien las nuevas funciones de la API de SENSE que utilizan OAuth y lo especificado en DOC-016. 3. Probar donde aplique (ej. Valorem). 4. Probar en general las agendas de pendientes de aplicación y módulo. Tener en cuenta que solo aparezcan pendientes reales y desaparezcan pendientes ejecutados por el usuaro (entrar con diferentes perfiles de usuario). 5. NUevaEPS: Probar muy bien la consisntencia de las gráficas, tiempos de respuesta. 6. Probar donde aplique (especialmente en Alpopular, EBSA) 7,8. Probar donde aplique, especialmente apps de Jéronimo Martins. 9. En aplicaciones con elementos sin flujo.    UPDATE 2021-12-23  
Ahora es posible extraer informacion de archivos XML que son extraidos de un correo electronico. Para mayor informacion sobre la configuracion revisar el siguiente documento    UPDATE 2022-01-19 
{Technical Note}: Se granulizaron las transacciones cuando se guarda o se crea un elemento por UI o API. Con esto, se disminuye el tiempo de lock y se maneja el control desde la app.  

(Breaking Change)(Deprecation): Se elimina la función "Ver Esquema" de plantillas word aplicadas en elementos consumidores. Elimine el registro de AddOnCommand 
Es posible crear bookmarks que apliquen sobre todos los reemplazos hechos por plantillas a nivel general, para esto use AddOns/Cont_TemplateConfig.aspx. Se recomienda crear una entrada en el menú principal (Ver DB Desarrollo, registro 66) 



La nueva forma de operar el sistema de marcadores (vs Classic) se encuentra a continuación:       
Se solucionó un problema con ciertos embebidos que al buscarlos en el EDIT, presentaba un error 404.  Release Notes: Fusion fixes minor fixes, ChangeSet 1427.   ,

Mejoras varias de gestión de cache de aplicación, para disminuir el número de accesos a la base de datos y repoblamiento de las tablas de cache. Asi mismo se eliminaron recalculos innecesarios. 
Eliminación del doble guardado para situaciones en las cuales se requiera calcular infotexts o listas externas que lleven información de flujo. Así mismo, previamente a los calculos, se repueblan las tablas de cache, en caso de requerir información de la misma para los calculos (pero no de otros campos infotext, lo cual requeriría leer información directamente de EMDV). 
Se creo un mecanismo que restringe la creación de nuevas versiones de elementos embebidos si su padre (o padres) no se encuentran en un estado específico. Para esto configure el feature VersioningParentRestrictionState por ET (ET hijo) asi: ET,Estado. Ejemplo, 3,2 significa que para el elemento hijo cuyo padre es del tipo 3, aplica la nueva versión solo si el padre se encuentra en el estado 2. Recuerde que es en ElementTypeFeature es un registro (fila) por dupla ET,Estado. 
Se creó el feature EmbedElementIfFirst por ETMD, el cual define para una metadata tipo embebido si debe ocultar el botón Nuevo (RO, EDIT, EDIT Mobile, Sense) cuando ya haya al menos un elemento embebido presente. 
Se creó el sistema de balanceo de carga simple, que consiste en asignar personal de grupos predeterminados a tareas (transiciones) dentro de flujos. Tiene las siguientes características:            - Puede establecer uno o más grupos de personas a los que se les asignan transiciones a partir de ciertos estados         - El balanceador de carga asignará las tareas al grupo (al grupo, no a las personas) menos asignado (no importa cuantas personas tenga el grupo, se asigna por grupo más libre).         - La asignación se dispara cuando el flujo llega a ciertos estados y cuando se ejecutan ciertas transiciones.         - Si se configura, el balanceador puede negar asignar una transición a un grupo si uno de sus integrantes está asignado a otra tarea del flujo.         - Funciona de formna conjunta con otras preconfiguraciones de flujo.        Configuración: Configure la tabla SimpleLoadBalancingConfig:        - WorkFlowStateId: El estado cuyas transciciones que parten de allí, se asignarán de forma automática.        - ElementTypeId: El tipo de elemento al que corresponde el flujo que se está configurando.        - TriggerWorkFlowStateId: Estado al cual cuando el flujo llega, dispara la asignación balanceada.        - TriggerWorkFlowTransitionId: Transición del flujo (que llega al estado TriggerWorkFlowStateId) que dispara la asignación balanceada.        - ActionGroupId: Grupo que estará asignado. Si requier más de un grupo, agregue un registro por cada uno.        - DisableIfFoundInStates: Estados separados por comas, en los cuales, si se encuentra una de las personas asignadas en el flujo del elemento, en el grupo posible a asignar, el balanceador no lo asignará.        Ejemplo:    
Se corrigió un código en el mecanismo de lectura de información de webservices en el cual el consumo de memoria crecia demasiado. 
Se corrigió el mecanismo de cálculo masivo de calculated e infotext, que obtenía de forma errónea los EMDV de un elemento. 
Se addicionó la extensión .lnk como parte de las extensiones prohibidas a subir al sistema. Adicionalmente se creó el parámetro MaxUploadSize que limita en Bytes, el tamaño máximo de anexos en la versión Mobile/LiteEdit/Grilla. Tenga en cuenta ajustar los parámetros del webconfig para guardar la consistencia requerida. 
Ajustado el guardado de Personas que quedaban con "Solo Móvil" por defecto si el checkbox no sale (no sale si MobileLandingPage es nulo o vacio)  Release Notes: In-App-Cache fixes, VersioningParentRestrictionState,  EmbedElementIfFirst, SimpleLoadBalancing, Extension Service Fixes, MaxUploadSize, Changeset 1449. Update: 2018-06-20 - Breaking Change: El servicio Windows ahora requiere v4.6.2 del framework. Consecuentemente versiones anteriores del .config tienen que ser reemplazadas con la nueva versión - 
Se separó el mecanismo de sincronización entre Peers, dejando el proceso 23 solo para sincronización de elementos y el nuevo proceso 30, para sincronización de archivos. Update: 2018-06-26 - 
Modificaciones en indices y procedimientos, para disminuir problemas de desempeño

Breaking Change: Se corrigieron llaves foraneas inexistentes entre ItemWorkflow y Person e ItemWorkflow y Position. NOTA: Antes de ejecutar el Release, correr los siguientes scripts para corregir datos erroneos en ItemWorkFlow: UPDATE ItemWorkFlow SET    CreatedBy = T2.CreatedByFROM   ItemWorkFlow T1       JOIN Element T2        ON T1.ItemId = T2.ElementId GO UPDATE ItemWorkFlow set CreatedByPosition = 1 where CreatedByPosition not in (select positionid from position) --Cambiar 1 por otro cargo, si es necesarioGO 
Desde ahora en la versión mobile del edit, si se ejecuta una transición al guardar el elemento por primer vez (feature WFTransitionToExecuteOnFirstSave), saldrá un botón con la acción correspondiente. Para desactivar esta característica, use el feature por ET DisableFirstTransitionDirectButton 
Es posible utilizar el campo Enabled en listas externas, si se define como CampoId,CampoName,Fuente,Enabled 
Es posible forzar a que el sistema solo reciba anexos de ciertas extensiones. Para esto, defina separado por comas el parámetro EnforceUploadExtensions. Ejemplo doc,docx,xls,xlsx,pdf,txt. Si no se define o es nulo, no se aplica la norma. 
Se creó un nuevo tipo de DataType: MaskTextUpperCase. Con este es posible que en el EDIT Mobile / Sense se escriban caracteres que son forzados a aparecer en mayusculas. 
ES posible ahora utilizar la mascara (DataType) MaskMoney en Edit Mobile/LiteEdit/Sense Edit 
Se creo el datatype MaskCustom que permite crear mascaras personalizadas de cualquier tipo para  Edit Mobile/LiteEdit/Sense Edit. Para esto, defina por Metadata o ETMD el feature CustomMask. Por ejemplo, el value 999.999.999-9 es una mascara para NIT 
Se incrementó la fuente de las listas de selección múltiple en SENSE Edit. 
Se ajusto SENSE para que permita desde el RO crear embebidos cuando estos no tienen flujo o cuando la metadata embebida es de selección única. 
Se ajustó el foco de los controles de metadata en SENSE Edit. 
Las secciones en el RO ahora son interactivas: permiten contraerse y expandirse con clic. Para esto se deben modificar los siguientes parámetros: ROMarkup_Section, ROMarkup_Value, ROMarkup_Image, ROMarkup_Attachment, RealTimePDFVersionMarkup, RealTimePDFVersionMarkupForEmbedded de tal forma que se incluya la palabra #EXTRAINFO# . Por ejemplo:    ROMarkup_Section <div class="SectionTitle" id="{1}" #EXTRAINFO#><span class="SectionContents">{0}</span></div><br/>   ROMarkup_Value <div style="padding-left:5px" #EXTRAINFO#><span style="font-size: 16px; font-weight:bold" class="">{0}</span><br/><span class="ValueContent">{1}</span></div><div style="width:100%; font-size:6px">&nbsp;</div>   ROMarkup_Image <div #EXTRAINFO#><span>{0}</span><br/><br/><img style="padding:5px 5px 5px 5px" src="{1}"/></div><br/>   ROMarkup_Attachment <a class="Attachment" #EXTRAINFO# target="_blank" href="{1}">{0}</a><br/>   RealTimePDFVersionMarkup <div style="padding:5px 0 20px 5px" #EXTRAINFO#><a href="../User/AttachmentPDFServe.ashx?F={0}&E={1}" target="_blank"><img src="../Images/FileTypeIcon/PDF.jpg">{2} - Ver en versión PDF</a></div>   RealTimePDFVersionMarkupForEmbedded <div style="padding:5px 0 20px 5px" #EXTRAINFO#><a href="../User/AttachmentPDFServe.ashx?M={0}&E={1}" target="_blank"><img src="../Images/FileTypeIcon/PDF.jpg">Generar PDF con anexos</a></div>    De la misma forma se debe modificar LiteEdit.css para incluir dos clases: ROSectionTitle y ROSectionTitle span, las cuales establecen la apariencia de la sección en el Edit. Known Issue: No aplica para sección de firmas del RO 
Se crearon los parámetros SenseGeneralTextColor y SenseItemBackgroundColor que definen Colores HEX que complementan la paleta de colores para SENSE definida por SenseColorScheme. De esta forma los calendarios, botones, switches, paginadores y otros elementos se vuelven consistentes. 
Se ajusto el espacio a la derecha de los paneles en sense para que no crezca demasiado con la apertura y cierre de tales paneles. 
Se disminuyó a 5S el tiempo de los mensajes emeregentes tipo TOAST en SENSE. 
Es posible evitar mostrar los campos elementid, alternativeid, elementname, version, currentworkflowstatename y creationdate en los resultados tipo google en SENSE, si se define por ET (un campo por registro) el feature HiddenFieldInSenseSummaryResults. 
Corregido el SP que determina elementos por marcar como "Leido y Entendido" 
Correcciones menores de estilo y CSS en SENSE. 
Se añadió el color scheme "gold" a SENSE  
Corregido el SP que trae la agenda de pendientes Nota Técnica: El serviceProcess BuildOutstandingTaskCache siempre debe estar corriendo, con una frecuencia entre mínima 2 y máxima de 30. Release Notes: ChangeSet 1481, SENSE fixes, SENSE Color management, RO/LEDIT interactive sections, Masks, Minor fixes    

Ahora se realiza el refresh automático cuando se cambia de estado un elemento desde la grilla. 
Ahora se puede establecer el alto de los campos HTML en la grilla, para esto defina por ElementType el feature “GridHTMLEditorHeight”, y en el Value establezca el alto del HTML en px. De no establecerse un valor, el alto por defecto para estos campos en la grilla es de 400px.     
Se solucionó el problema que se presentaba en sense, liteedit, editmobile, cuando los valores de las metadatas tipo HTMLReadOnly (Notas), contenían espacios en blanco. 
Se solucionó el problema de que no permitía editar los responsables en el cuadro de responsables cuando, se bajaba de una metadata la fecha máxima de ejecución de una transición. 
Se creo el feature "DisableEmbeddedAutoCreation", para definir que no se deben crear los embebidos automáticos basados en una plantilla cuando se genera una nueva versión. Para tal función configúrelo por ETMDFeature con valor True.  
Ahora cuando se reasigna un elemento padre, se actualiza el elaborador de los elementos embebidos y así mismo las tablas ItemWorkFlow, ItemWorkFlowTransitionPerson y la Tabla de Cache.  
Se crearon los SP “CacheTable_Copy” se debe ejecutar antes de ejecutar un reléase Ejemplo: EXEC CacheTable_Copy y el SP “CacheTable_Restoration” se debe ejecutar después de realizar el reléase Ejemplo: EXEC CacheTable_Restoration, esto con el fin de no tener que destruir y construir las tablas de cache. (Solo aplica si no se afecta configuraciones que requieran destruir y reconstruir las tablas de cache)
Se crearon los SP “CacheTable_Copy” se debe ejecutar antes de ejecutar un reléase Ejemplo: EXEC CacheTable_Copy y el SP “CacheTable_Restoration” se debe ejecutar después de realizar el reléase Ejemplo: EXEC CacheTable_Restoration, esto con el fin de no tener que destruir y construir las tablas de cache. (Solo aplica si no se afecta configuraciones que requieran destruir y reconstruir las tablas de cache)  WR  
Se corrigió un bloqueo en Mobile Edit cuando se hacen validaciones en el servidor (por ejemplo, fecha que no supere otra). 
Se corrigió una situación en la cual no permitia exportar a excel/html los listdos si algún contenido binario manejaba xml tags StartFragment/EndFragment 
Creado/Eliminados indices para mejora el desempeño en RO/Edit/liteEdit Grilla. 
Se corrigió una situación en la cual no se gaurdan listados de selección simple en el edit mobile si estas se encuentran en una sección contraida. De la misma forma, al no guardarse, restringian la generación correcta de códigos en los elementos. 

No se respeta la codificación al generar un nuevo elemento 
Se corrigió la situación en la cual al remover todos los elementos de un control embebido, estos no quedaban removidos realmente. 
Se corrigó el mecanismo de agenda de pendientes que no permitia obtener las tareas cuando NotForPendingTasks es null. 
Se creó el feature DisableSameStateResponsibleChangeRestriction para deshabilitar por ET la restricción de no poder editar responsables cuando el elemento se encuentra en el estado origen de la transición que se desea editar.  Release Notes: Performance Fixes, DisableEmbeddedAutoCreation, CacheTable_Copy, DisableSameStateResponsibleChangeRestriction, Mobile Fixes, ChangeSet 1521

Se solucionó un problema en sense/edit mobile en el cual si un texto incluía comillas dobles o simples, bloqueaba el rendering de la página 
Se el inconveniente en el cual en SENSE al abrir un EDIT para adicionar un embebido, desde el RO, en bajas resoluciones los paneles quedan montados debajo de la barra superior de la página 
Se solucionó el problema que se presentaba cuando se recodificaban elementos que codifican con el papá, el sistema no respetaba las reglas de codificación, además ahora cuando se recodifica un elemento padre que tiene hijos asociados y sus hijos codifican con el papá, se realiza la recodificación tanto del padre como de los hijos. 
Ahora cuando un elemento embebido tiene metadata tipo “ElementInfoText” que deben consultar información del elemento padre, al crear el elemento hijo y guardar, los cálculos de estos tipos de metadata son realizados y almacenados en ElementMetaDataValue y tablas de cache. 
Ahora se pueden eliminar elementos parcialmente de la aplicación, tenga en cuenta que se eliminará toda la información del elemento excepto las tablas: (Element, ElementMetaDataValue a excepción de la referencia a files, ItemWorkflow, ItemWorkFlowHistory y Tabla de Cache), para ello realice la siguiente configuración: <!--[if !supportLists]-->1.       <!--[endif]-->Configure el ServiceProcees “PartialPurge”, servicio que correrá con la tarea No. 2 del .Config y ejecutará la eliminación parcial de los elementos. <!--[if !supportLists]-->2.       <!--[endif]-->Configure el feature “UsePartialPurge” por ElementType asigne el valor True, para los tipos de elemento que desee que se ejecute la eliminación parcial. <!--[if !supportLists]-->3.       <!--[endif]-->Configure el feature “PartialPurgeAge” donde se indica el numero de días desde el cual se va a realizar el borrado parcial del elemento, es decir si se asignan el valor 30, los elementos que llevan 30 días o más en un estado determinado por el siguiente feature, serán borrados parcialmente de la aplicación.  <!--[if !supportLists]-->4.       <!--[endif]-->Configure el feature “PartialPurgeStates”, donde se coloca el o los Id’s de los estados en donde puede encontrarse el elemento para ejecutar la eliminación parcial de la aplicación, si es más de un estado sepáralos por coma. Ej.: E1,E2,E3. <!--[if !supportLists]-->5.       <!--[endif]-->Configure el feature “PartialPurgeFinalState”, donde se coloca el ID del estado en el que debe quedar el elemento una vez se ejecute exitosamente la eliminación parcial, tenga en cuenta que el estado debe existir en el flujo correspondiente. 
Ahora se puede restringir la creación de un solo embebido de acuerdo al valor de una metadata, por ejemplo: Un candidato solamente podrá aplicar una sola vez a una vacante. Para hacer dicha configuración siga los siguientes pasos: <!--[if !supportLists]-->1.       <!--[endif]-->Configure el feature “OnlyCreationofEmbebedElementforElementtype” para indicar que el ElementType tiene la restricción de creación de embebidos. <!--[if !supportLists]-->2.       <!--[endif]-->Configure el feature “UniquenessConstraintMetaDataId” para indicar que esta es la metadataId con la que se va a validar que el elemento tipo embebido no se encuentra ya asociado al elemento consumidor (padre). Si existe la configuración anterior y un hijo ya se encuentra asociado al padre e intenta ser creado nuevamente como hijo, el sistema no le permitirá guardar la información. Sin embargo, este hijo si puede ser asociado a otros padres. Nota: Se creo la tabla “RelatedElementRestriction” donde se guarda la relación de os padres con los valores de la metadata indicada en el punto 2 que corresponde al elemento hijo. 
Se solucionó el problema que se presentaba cuando se creaban elementos hijos desde el RO y estos codifican con el elemento padre, pero el código del hijo se visualizaba mal en el RO. 
Se solucionó el problema de que no permitía editar los responsables en el cuadro de responsables cuando, se bajaba de una metadata la fecha máxima de ejecución de una transición. WR 
Se solucionó un problema de RACE-CONDITION en el servicio windows, en el cual la ejecución de los servicios se sobrelapaba ocasionando problemas de inestabilidad en el servidor. Release Notes: PartialPurge, Service Custom Queue, UniquenessConstraint, Fixes, ChangeSet 1562, DynamicElements, SurveysII UPDATE 2018-09-26. 
Comportamiento del menu sandwich en SENSE 
Validación de campos en secciones comrpimidas en Mobile/Sense 
Corrección de errores de ejecución del servicio. 
Corrección mecanismo del PartialPurge 
DynamicElements y SurveysII.    
Solución a un problema crítico que bloquea la aplicación al guardar un elemento, debido a una inyección de código en el guardado para manejar el requerimiento de historial de cambios de embebidos. ES REQUERIDO QUE TODAS LAS APLICACIONES DESDE LA V14 A V18.2 tengan este arreglo. 
Se creo una nueva validación en ValidationType, que permite comparar que el valor de dos metadatas no sea igual, de ser así, no podrá completarse el guardado. Para dicha función configure el feature "ComparisonMetaDataId" y en ElementTypeMetaData la validación "MetaData_NotEqualsToMetaData". Soluciona CAPA-067   WR  

Se implementaron medidas contra Cache poisoning, XSS, Content sniffing, Clickjacking. Para esto es obligatorio implementar el nuevo web.config 
Se implementó un mecanismo para evitar revelar información de las cookies en conexiones SSL. Para esto se creo un parámetro obligatorio en el web.config <httpCookies requireSSL="false" />  el cual debe estar en true si se utiliza SSL 
Se creó un Parametro ForcePDFToDownload para que los archivos PDF se bajen en vez de ser abiertos por el visor del browser. Esto soluciona el problema cuando en conexiones lentas, al tratar de abir un PDF el browser retorna el mensaje "Se ha producido un error al descargar el documento PDF" 

Se solucionó la situación que se presentaba con las notificaciones basadas en metadata, ya que solo permitía un destino para enviar dichas notificaciones. Para ello configure el feature “ConfigurableNotificationforMultipleMetaDataId” por ET y asigne en el value la metadata tipo fecha y la metadata externa (personas a notificar) separadas por pipe, en ese orden Ejemplo:    Metadata 480: Fecha de envio de notificación Metadatas 236 y 638: Lista Externa, Personas a notificar   WR   
Mejoras varias al AddOn de SurveysII        
Corregido el mecanismo de edición de grillas desde el RO donde sacaba error al intentar abrirlo. 
Corregida una situación en la cual desde la grilla o el edit mobile se pedian completar datos obligatorios no existentes. 

No valida campos obligatorios en campos desde la grilla. 

Se probó con 1175 usuarios en DEV_PHQSGC. [Technical Note]: Los cambios de estado ahora envian o incluyen en la cola, las notificaciones de forma asincrónica, creando un hilo de operación secundario que no debe retrasar la operación de la página. Por otra parte, se eliminó la opción de incluir intentos de envío en el notificationmessagelog si se esta usando la cola. Los mensajes estarán disponibles en notificationmessagequeue una vez el hilo mencionado termine la operación.  
Se creó el feature UseCheckAllOption por ETMD o MD, para indicar si en una metadata de selección múltiple no-suggest, se debe tener una opción de "seleccionar todos". Tenga en cuenta que solo se debe usar si el control no tiene hijos en la jerarquia de controles. 
Se creó un mecanismo que permite abrir los listados y automáticamente abrir para crear un EDIT (tradicional) y pre-llenar allí ciertos datos. Para usarlo use el siguiente patrón:        donde VALOR es un texto, en caso de metadatas tipo text, date o html y un MetadatavalueId para el resto de casos.      Se pueden poner cuantas parejas de datos se requieren pre-llenar en el edit, separando cada pareja con ;       pre-llenará la metadataid 480 con el valor 2018-03-21 y la metadataid 6 con el metadatavalueid 683.        Notas:   Debe asegurarse de que la metadata exista en el foormulario o surgirá un error. Esta funcionalidad se utiliza cuando un proveedor externo requiere abrir un listado pre-filtrado e inmediatamente abrir el EDIT, en el mismo contexto (PQR JMC)  Un ejemplo de una URL que hace ambas cosas, abrir los listados con una búsqueda predefinida y abrir un EDIT pre-diligenciado, seria:  Nota: El documento de integración con JM PQR es:        
Se creó un mecanismo para garantizar sesiones únicas por usuario, en el sistema de autenticación normal. Con esto, el usuario solo puede abrir una sesión a la vez en un navegador o equipo cliente. Si intenta hacer logon desde un segundo lugar, obtendrá un mensaje indicando la dirección IP y el nombre del navegador donde esta autenticado. Notas:  Sesiones en private-incognito se consideran sesiones separadas. Abrir un tab en el navegador donde se ha hecho logon se considera la misma sesión. Cerrar la aplicación con el botón de salir, eliminará la sesión y permitirá hacer logon de nuevo en el mismo lugar o en uno diferente. Los navegadores envían una señal al servidor indicando que la sesión esta activa. Sin el navegador no al envía por que cerro el navegador sin el botón de salir o se desconectó de la red, se marcará después de 2 minutos la sesión como "abandonada" Se creó el ServiceProcess 32 ControlledSessionsKiller que debe tener una frecuencia de 2 min, el cual eliminará las sesiones "abandonadas". Este servicio es obligatorio que corra siempre. Esta frecuencia debe ser mayor siempre que el parámetro HeartBeatTimeout que establece cada cuanto el navegador se comunicará con el servidor para mantener la sesión viva (por defecto cada 60s). Si una persona no cerró su sesión de forma adecuada, deberá esperar a que ControlledSessionsKiller eliminé la sesión abandonada, en un periodo alrededor de 2 minutos, para volver a entrar.  Si se requiere deshabilitar el control de sesión única, se tiene la opción de hacerlo con el parámetro DisableSingleSessionPerUser. No se recomienda hacerlo pues va en contravia de NIST AC-10 (ver https://nvd.nist.gov/800-53/Rev4/control/AC-10)   
Se crearon 2 servicios web genéricos en el AppService (DocManager Web API) para Listar/Buscar Elementos y LIstar las metadatas, por tipo de elemento. El Documento a continuación explica el mecanismo:   
Se corrigió una vulnerabilidad en los resumenes en PDF, que no validaban si la persona tenia o no permisos. 
Cuando se usa el feature AddPDFVersionToTargetMetaData (convertir a pdf un word y ubicarlo en una metadata destino), si se sube en la metadata origen un archivo PDF, este pasa automaticamente a la metadata target. Release Notes: OWASP refresh, API Lists, ControlledSession, DataPairs, SsurveysII fixes, general fixes, Changeset 1591  


[Anexos transmitidos desde pqr tiendasra.com, varios anexos,  Desde tiendasara.com van a enviar un archivo que toca incluir como un anexo de un html especifico. ] 

Ahora es posible crear elementos via API usando metadatas lista externas. 
Sistema de unica sesión fallaba con HTTPS, haciendo que el usuario retornará a la página de Login una vez autenticado. Por otra parte, el sistema de purga presentaba un defecto al borrar sesiones validas. 
Arreglos en Chat: Validación de correo, permite nombres con guiones y otros caracteres permitidos, notificacionesd desktop en Chrome y Firefox, mensajes de validación, apariencia de botones, colores. 
Arreglos varios en desempeño:  Al guardar un elemento, los recalculos del elemento padre se hacen de forma asincrónica. Las grillas ahora utilizan el sistema de paginación basado en base de datos. Las grillas ahora permiten la edición de todos los elementos de un tipo, sin importar la cantidad. Para esto use el formato /User/Egrid.ashx?ET=<Tipo_de_elemento>&CacheName=all . Por ejemplo /User/Egrid.ashx?ET=2&CacheName=all. A esta grilla se le adicionó la posiblidad de filtrar por metadatas textuales o con un árbol simple de metadatas tipo lista internas. [Known Issue]: Pendiente por desarrollar: Exportación, ordenamiento, combinación de árbol y búsqueda textual, selección de columnas. Mejoras en las consultas de elementos embebidos En elementos que tengan metadatas con más de  1000 200 elementos embebidos, es obligatorio el uso de la grilla. La grilla de elementos embebidos puede ser usada desde el RO o el EDIT y permite desvincular elementos de su padre. Mejoras en agenda de pendientes tipo grilla. Mejoras en guardado de elementos generales. [Breaking Change]: Toda la aplicación ahora es compatible con IE=Edge, es decir, ya no baja la compatibilidad a IE7.  
Las grillas ahora congelan la columna de checkboxes y la columna de información y guardado. 
Ahora es posible rotar el PDF en el visor de DocManager. 
Ajustados los mensajes de cambios masivo de estado en las grillas. ------- 
Se creó el feature “FillBulkActionsListbyActionGroupId” para definir qué grupo de personas pueden ejecutar transiciones masivas desde los listados, sin necesidad de tener perfil administrador, para ello configure por ElementType el feature “FillBulkActionsListbyActionGroupId” y en el value coloque el ActionGroupId que desea. 
Se creó el feature “BulkStateChangeRequiresCompletion” para definir en que transiciones se deben completar los campos obligatorios cuando se van a realizar cambios masivos de estado, (desde los listados), para ello configure por ElementType el feature “BulkStateChangeRequiresCompletion” colocando en el value el workflowtransisitiond que necesita los campos totalmente diligenciados para poder ejecutarse, de no estar configurado el feature, cuando se realicen cambios masivos desde el listado, no tendrá en cuenta los campos obligatorios y podrán moverse sin requerirlos. 
Se creó el feature “SyncedElementResponsibleGroupId” que define el grupo de personas que serán responsables en las transiciones inmediatamente siguientes cuando se sincroniza un elemento de un peer remoto a un peer local, para ello configure el feature “SyncedElementResponsibleGroupId” por ElementType y en el value coloque el workflowstateid origen de la transición seguido de el ActionGroupId deseado, esto separado por coma, por ejemplo    95: Estado Finalizado, 2: Grupo Elaboradores. El feature colocará todas las personas pertenecientes al grupo 2 en todas las posibles transiciones que se puedan ejecutar desde el estado 95   
Se arregló un error en la aplicación que ocasionaba la detención del apppool del micrositio cuando intentaba validar los mensajes SMS. WR ------- Release Notes: Paged Egrid, PDF Rotation, Chat fixes, Syning fixed,  ChangeSet 1618   UPDATE 1: 2018-12-13 

La aplicación si mezcla Word con bookmarks en sense. El problema real era que no aparecía el Word resultante después de la mezcla, para lo cual se ajustó un mecanismo de cache. 
Ya aparecé en el RO del elemento tipo plantilla (transformación de word, es decir contratos) el botón Marcadores. 
Se eliminó el listado paginador de la grilla de edición, para rebajar el footprint de html de la página UPDATE 2: 2018-12-14 


[Breaking Change],[Workaround]: El limite de elementos embebidos en la vista desde el edit o desde los listados (columna que despliega), es de 200. En caso contrario, se mostrará uin mensaje y en caso del edit, se sigue obligando el uso de la grilla editable. [Known Issue]: Si el campo es obligatorio y tiene más de 200 items embebidos, no fuerza la obligatoriedad. [Known Issue]: Si el campo tiene 199 elementos y se agregan más. en la vista normal, no se verá reflejado el cambio al guardar, por lo que se obliga el uso de la grilla editable. UPDATE 3: 2018-12-17 
La aplicación intentará bajar los archivos subidos al sistema con el nombre original establecido por el usuario. Para el caso de los anexos subidos a campos HTML, intentará hacerlo si el link se estableció con la misma aplicación. En aplicaciones con esta caracteristica funcionando por pirmera vez, hay que entrar en la página de administración de la tabla de cache y ejecutar el proceso de "Update File Mapping". [Nota Técnica]. El mapeo de anexos de binarycontent queda en la tabla FileMap.  

Se ajustaron parcialmente algunos estilos de SENSE para funcionar en dispositivos móviles. [Known Issue]: Algunos paneles no se presentan centrados al abrirse y algunos elementos como paginadores y demás, requieren ajustes de CSS. 
Se ajustó el mecanismo de creación de mensajes de correo para evitar que la aplicación erroneamente trate de crear un appointment cuando no está configurado para tal fin. 
Se ajustaron los iconos (botones y filtros) en la grilla de edición que no aprecen en IE11 sobre Windows 8. [Technical Note]: Se reemplazó material-icons por fa (font-awesome) 
Se creó un mecanismo para creación de elementos en la grilla de edición, sin ninguna condición adicional en particular (es decir, para crear elementos sin listarlos todos primero y sin depender de un elemento padre). Uselo con el parametro RAW=1 así: User/Egrid.ashx?ET=1&RAW=1 
Se modificó el mecanismo por el cual es posible obtener el PDF de resumen desde la API de DocManager, según se especifica en . Tenga en cuenta los parámetros PDFServeAPIAuthenticationTimeout y DisableAPIAuthInPDFServe según allí se explica. 
Se corrigió el mecanismo de embebidos en SENSE, que no permitia refrescar el elementro padre si se creaban hijos, incluso sin guardar el elemento padre o cuando existe una herencia Abuelo-padre-hijo. Ver Valorem. 
Soporte para elementinfotext sin herencia en Edit Mobile / Edit Sense. Los valores que no se puedan calcular no aparecerán desplegados ni su titulo. 
Ahora funcionan los controles elementinfotext en elementos dinámicos y, cuando se traten de fechas, serán copiadas a flujo si se definen el registro en ETMDWFTransition. En el caso de surveys, tenga en cuenta que si se define la fecha máxima del survey, esta información será copiada desde la programación de la evaluación y recalculada en cada evaluación (al crearse) de forma individual. De tal forma que en las evaluaciones per-se es necesario configurar el metadatavalue del control usando DynamicParentElementId. Por ejemplo: Custom_FechaEvaluacion {0} <pipe> DynamicElementParentId 
Se solucionó el inconveniente en el cual el PDF desplegado en Sense/Mobile RO no se contraia si la sección contenedora lo hacia. ----------- Por Wendy Ruiz ------------- 
Se resolvió el  "No numera bien las modificaciones de forma a fondo en sense". 
Se resolvió el  "No ejecuta calculos cuando se cambia de estado un elemento". 
Se resolvió el  "Cuando se colocan comillas simples en sense no se pueden abrir los elementos". 
Se resolvió el  "Al momento de ingresar a los listados de cualquier formulario no se muestra en orden de la primera columna, sino que esta ordenado por ElementId". 
Ahora cuando se escriben comentarios en el HTML de una transición para despues ser ejecutado, ya no se borrará lo escrito allí, si hace falta completar campos obligatorios en el formulario. Vico-181 
Ahora se puede determinar qué grupos de personas pueden ver el botón de recodificar y codificar manualmente los elementos de un tipo de elemento, y de esta manera que no lo puedan ver ni el elaborador del elemento ni el perfil administrador de la aplicación, para ello configure el parámetro "DisableReencodingDefaultBehavior" con valor True y configure el feature "AllowRecodificationForActionGroupId" por ElementType colocando en el value el ActionGroupId que desea ver estos botones, tenga en cuenta que debe crear un registro por grupo deseado. Ver especificación completa en OS-109-ACT-0003 Nota: Si la configuración anterior se encuentra prendida el usuario elaborador y el usuario administrador no podrán ver los botones a menos que pertenezcan al grupo establecido en el feature, si por el contrario el parámetro se encuentra en false, el botón se mostrará al creador del elemento o al usuario con perfil administrador, y no tendrá en cuenta la configuración del feature, si esta existe.  Nota: El arreglo del error que ocasionaba la detención del apppool del micrositio cuando intentaba validar los mensajes SMS, quedo en un Update aplicado a la versión 19.1. ----------- Fin Wendy Ruiz -------------   Release Notes: Sense fixes, EGrid Fixes, PDFServe Token Auth, AllowRecodificationForActionGroupId, Embedded sorting, minor fixes. Changeset 1658  

Solucionado un problema de la aplicación que guardaba permisos sobre elementos en estados que no correspondían al flujo del elemento. Aunque no tiene efectos colaterales en la asignación de los permisos, si afecta el performance de la aplicación al crear basura en la tabla de permisos, la cual es necesario eliminar. 2. 
[Technical Note]: Al guardar en la grilla o en el edit mobile, elementos con metadatas externas con jerarquia definida por "alternativeId" , y al cargarlos nuevamente, se perdía el valor asignado en la metadata hija. 3. 
Se creó un feature que permite que la búsqueda de embebidos en el Edit (swift) utilice por defecto la búsqueda por texto en vez de la del Árbol. Para esto, configure por ET (embebido) el Feature SwiftEmbeddedSearchUsesTextFirst  4. 
"Al realizar la busqueda de cualquier documento la busqueda presenta una falla cuando se da el comando "Intro-Enter" 5. 
En la grilla y en el edit mobile/sense cuando se guardan datos con jerarquía de metadas externas, no permanecen los datos guardados al volver a abrir el elemento. 6. 
Se hicieron mejoras en la grilla de edición: Filtros por estado (se pueden usar con la búsqueda por texto o por árbol); mejoras visuales de la UI; posibilidad de usar búsqueda por árbol o texto en la agenda de pendientes; mejoras en desempeño de la paginación de grandes grupos de datos; ordenamiento por columnas (depende del mantenimiento de los indices sobre las tablas de cache); correcciones sobre el feedback de los resultados mostrados. 7. 
Se ajustó el despliegue de archivos de PDF incrustados en editores HTML en Internet Explorer: En algunas situaciones, al desplegar el contenido HTML occurría un error "El archivo PDF no empieza por %PDF". 8. 
Corrección de un error en la validación, ordenamiento y guardado de elementos embebidos en SENSE/Mobile, que impedía su correcto funcionamiento: en algunos casos obligaba a llenar campos de emebbidos que no estaban visibles. 9. 
Se implementó un sistema que mide el consumo de CPU general, y consumo de CPU y memoria por servicio Windows. Para esto, se escribirá en el log ocasionalmente, el consumo registrado. 10. 
Se corrigió una situación en el proceso de descarga de archivos remotos PeerFileSynchronization, en la que descargaba archivos con 0KB.  11. 
Por Wendy Ruiz ------------- 12.  
Solucionado un problema donde la aplicación enviaba attachments por correo electrónico a personas que no correspondían, cuando la cola de envió de correos se encontraba represada. 13. : Solucionado el problema de que no se convertían los archivos Excel a formato a PDF, por ahora se está usando un componente de prueba. 14. 
Se redujo el llamado al SP EmdvStamp, ya que cada vez que se guardaba un elemento, realizaba tantas ejecuciones del SP en mención, como metadatas hubiera, ahora solo ejecuta el SP cuando la metadata tiene la característica encendida. Actividad  15. 
Se separaron las siguientes tareas:  Tareas vencidas que deben avanzar automáticamente Tareas vencidas que deben notificar Tareas próximas a vencer que deben notificar  Las anteriores tareas se separaron, puesto que usaban el mismo SP para ejecutarse y cuando hay mucha información, no se procesan completas por temas de tiempo, por lo anterior el serviceprocess "ProcessOnDueTasks" quedará inactivo, al igual que el SP "ItemWF_GetDueTasks" por otro lado se crearon los siguientes serviceprocess "ProcessAutoAdvanceTask" ejecuta las tareas vencidas que deben avanzar automáticamente y el serviceprocess "ProcessNotifyDueTasks" ejecuta las tareas vencidas que deben notificar (no usar cuando el tamaño de los registros que cumplen esta condición es demasiado grande, (JeornimoReclutamiento más de 3.000.000 de registros con esa condición). El serviceprocess "ProcessOnDueSoonTasks" sigue ejecutando las tareas que están próximas a vencer y deben notificar. Nota: La configuración de los serviceprocess mencionados anteriormente pueden configurarse para horas personalizadas con o sin frecuencia, o con la hora de ejecución de la llave uno del web.config del servicio. Actividad  16. 
Ahora se pueden obtener condicionalmente los embebidos automáticos, esto quiere decir que si existe la configuración que se explica más adelante, algunos embebidos serán creados automáticamente según una plantilla y los demás serán re-embebidos, para lo anterior se crearon los siguientes feature que deben ser configurados por ETMDFeature "ConditionalEmbeddingSourceMD", el value corresponde a la metadataid donde van a quedar embebidos los elementos, feature "ConditionalEmbeddingTargetSearchMD", el value corresponde a la metadataid en la cual se va a buscar el origen (el padre) para de allí obtener los elementos que se van a re-embeber, feature "ConditionalEmbeddingChoiceMD", el value corresponde a la metadataid tipo lista de selección única que definirá si algunos embebidos deberan re-embeberse o no y finalmente el feature "ConditionalEmbeddingChoiceMDV", donde el value indicará el metadatavalaueid de la metadata del feature "ConditionalEmbeddingChoiceMD", para definir que los elementos ya creados en el origen y que tengan ese valor de metadata deber ser re-embebebidos en la metadata del feature "ConditionalEmbeddingSourceMD", para más detalle ver actividad  (solo PARTE 1. La PARTE 2 se aplaza) ----------- Fin Wendy Ruiz ------------- 17. 
(solo PARTE 1. La PARTE 2 va para v19.4). [Technical Note]: Se debe configurar como se indica en el tiquete y no es retroactivo (se debe actualizar los registros de ItemWorkFlowPermission para incluir el WFPExternalID ADICIONES 2019-03-01 18. 
Se corrigió una situación en la cual el servicio Windows y el proceso del Servidor Web se cerraba de forma automática al intentar enviar un mensaje de correo, en situaciones particulares. 19. 
Se ajustó el mecanismo de despliegue de embebidos en el ReadOnly: Solo se muestran los primeros 200 embebidos y de ahí en adelante, se ofrece abrir en la grilla. 20. 
Se corrigió una situación en la cual el sistema calculaba de forma incorrecta el externaldefaultsquery de un control, cuando el valor de metadata de la que se alimenta no tenia valores (por ejemplo, permisos en vacantes en JM Reclutamiento). 21. 
Se hicieron correcciones en la grilla de edición, que permite ahora utilziar jerarquia de controles cuando el padre es un campo multi-selección interna.   Release Notes: Egrid changes, ConditionalEmbedding, Service Fixes.   ------------------------------------ Explicación Temas Funcionales: 1. La aplicación debe otorgar de forma correcta permisos a personas designadas, para estados especificos del flujo. Dependiendo de la aplicación, la persona puede estar seleccionada en un campo del formulario o definida explicitamente en la sección "Permisos". App de prueba: Cualquiera 2, 5, y 6: En general, funcionamiento correcto de la grilla: se deben poder crear y editar elementos de forma correcta, desde la agenda de pendientes, en la edición de embebidos de un elemento, en la girlla general de elementos (menú de listados) y cuando se una opción llamada RAW que permite crear elementos desde cero en tal grilla. App de prueba: Jeronimo Reclutamiento. 3, 4: Funcionamiento correcto de la búsqueda de embebidos en los formularios Swift (es decir, no en modo SENSE) incluyendo la operación de la UI. App de prueba, cualquiera, pero lo detecto VivaAir. 9,10,15: Funcionamiento correcto del servicio de rutinas Windows. Se debe probar con Jeronimo Reclutamiento. 12: REvisión de que el envío de correos con anexos funcione de manera normal, llegando los anexos que son a la persona correspondiente. App de Prueba: Seguros Mundial 14: Afecta el guardado de formularios de cualquier cliente: App de prueba, cualquiera. 16: Probar en PHQ LSVIGIA 17: Probar en seguros mundial.  ADICIONES 2019-03-01 18. Envio de correos debe funciona rde manera normal. Probar en JM Reclutamiento. 19. Probar en reclutamniento: abrir una vacante que tenga muchos candidatos asociados 20. Funcionamiento correcto de la grilla en Jeronimo: Debe otorgar permisos de forma correcta en las vacantes. 21. Pendiente por designar una aplicación que tenga esta situación.          

Ahora es posible utilizar campos ElementInfoTexts en grillas. Para ocultarlas selectivamente, utilice el feature (por ETMD o Metadata) HideElementInfoTextInGridAndEdition (true) 2. 
Ahora la grilla tiene un modo de solo lectura, que debe ser usado cuando los sets de datos de un tipo de elemento superen los 40000 registros (se creó para situaciones con alta cantidad de contenidos y con necesidades de desempeño, ya que las consultas se hacen paginadas en la base de datos; tenga en cuenta que en algunas situaciones se requieren crear los indices adecuados en las tablas de cache correspondientes). Para utilizarlo, cree la opción en la tabla Menu asi: ../User/Egrid.ashx?ET=<ElementTypeId> donde <ElementTypeId> representa el tipo de elemento. Ejemplo ../User/Egrid.ashx?ET=26 . El modo de solo lectura tiene un comportamiento similar (pero no identico) a los listados tradicionales asi: Permite seleccionar columnas a visualizar (por defecto salen las que se configuren en DefaultListVisibleFields); permite filtrar por árbol (tradicional, no custom) o por palabra clave (en metadatas tipo campo o en el ID del elemento); permite exportar a HTML o a excel; permite ordenar ascendentemente por columnas. Adicionalmente, los contenidos HTML son cargados bajo demanda, es decir requieren un clic de usuario.  Si se establecen más opciones en el querystring de la grilla, ya deja de ser de solo lectura.  3. 
En general se hicieron ajustes visuales y de UI a las grillas. 4. 
En la grilla, se ajustó el mecanismo de obtención del código del elemento, en modo RAW, el cual traia el ElementId cuando en realidad debería traer el AlternativeId 5. 
Se hicieron correcciones en la aplicación de herencias de controles de metadata externa en el EDIT mobile y en la grilla. 6. 
Se mejoraron los tiempos de respuesta en la edición de usuarios (administración) y de pertenencia a grupos. 7. 
Se solucionó un error en la edición de grupos, en la cual al agregar una persona a un grupo y luego sacarla, no refrescaba el cuadro correspondiente. 8. 
Se creó el mecanismo para buscar por árbol en SENSE. [Known Issue]: Por ahora solo trae el árbol natural, no los árboles Custom. 9. 
Se ajustó la visualización de la ayuda y la información de versión, en el botón ? en SENSE. 10. 
Se agregó información de contexto en la barra de búsqueda y en los resultados en SENSE (por ejemplo, si se está en Home, la búsqueda cubre todo el aplicativo y se puede remover el filtro; si se está visualizando un tipo de elemento, la búaqueda se ofrece sobre ese tipo de elemento). 11. 
Se creó un Stored Procedure para obtención de estadisticas de uso de la aplicación: Usage_ListStatistics 12. 
[Critical]: Se ajustaron algunos mecanismos de ejecución de tareas en el Application Pool, en hilos separados, que al no estar correctamente blindados contra errores, ocasionaban que el apppool (w3wp.exe) y el servicio windows se apagarán completamente. 13. 
Se ajustó el mecanismo que hace que personas externas fueran copiadas a responsables, ya que en algunos casos no lo hacian de forma correcta. 14. 
Se hicieron algunos ajustes al modo mobile de SENSE. [Known Issue]: Están pendientes arreglos varios en los botones y en el despligue del ancho de los paneles en IPAD y IPAD Pro. 15: 
Se corrigió el mecanismo de obtención de responsables para envío de correos, que no obtenía de forma correcta la lista al no estar actualizado el cache de responsables antes de la consulta. 16. 
El control de fecha en SENSE fue cambiado por un error de Chrome 73+. 17. 
[Breaking Change]: En modo SENSE, el EDIT y el ReadOnly se abrirán de forma exclusiva, es decir, si se abre el RO y se selecciona "Editar" se abrirá el EDIT y se cerrará el RO. De forma inversa, al guardar un EDIT, el usuario quedará en el RO. Esto tiene la finalidad de evitar inconsistencias en la ejecución de flujos que dependen de información del formulario. Guardar borrador no tiene ese comportamiento. 18. 
Ahora es posible utilizar la grilla de edición de embebidos, desde el RO de SENSE.  [Known Issue]: No funciona desde el EDIT. 19. 
Se corrigió un error crítico que impedía enviar correo a todos los responsables de flujo, cuando se cambiaba el estado. [Technical Note]: Se habilitó el refresque de OutstandingTaskCache por elemento, justo antes de ejectuar IWF_GetNextSerialPerson. 20. 
En sense/mobile es posible establecer jerarquias de cajas de texto (padres) con otros controles (hijos) externos. Para esto configure las columnas ParentExplicitValue o ParentFormula de la tabla ExternalValueHierarchy. En el primer caso, defina un valor textual que define que si ese valor aparece en el campo texto PADRE, filtraá el hijo usando ChildValue. En el segundo caso, es una formula que debe incluir {0}, que en cuyo caso el sistema reemplaza por lo que el usuario haya digitado en el campo PADRE. Ejemplo: string.Empty; obj = "{0}"; int x = 0; int.TryParse(obj.ToString(), out x); obj = (x > 3000)   indica que si el valor digitado es mayor que 3000, debe aparecer el chidlvalue correspondiente. Es necesario que la metadata PADRE tenga un valor en Metadatavalue (nulo o vacio) y que se defina en Metadatahierarchy la relación de jerarquia con sus hijos. [Known Issue]: No funciona en modo Swfit, solo en modo SENSE. [Known Issue]: No funciona cuando el hijo es lista interna. [Known Issue]: No funciona en las grillas. [UPDATE 2019-05-22]: También es posible configurar un valor mínimo un valor máximo de comparación para el texto PADRE, usando las columnas MinValue y MaxValue de ExternalvalueHierarchy. El mecanismo de formulas solo se puede usar con menos de 10 registros hijo. [Known Issue]: La herencia entre lista externa PADRE y lista interna PADRE usando ExternalValueHieararchy en SENSE/Mobile no funciona. 21. 
En sense/mobile es posible establecer cambios en las acciones de flujo disponibles, de acuerdo a un valor de una caja de texto. 22. 
[Technical Note]: Se refresca ahora el OutstandingTaskCache con los guardados de elementos, sin necesidad de que haya cambio de estado.  ////// Por Wendy Ruiz //////// 23. 
Ahora el sistema validará si un usuario tiene pendientes en el momento de deshabilitarlo, de ser así no permitirá la deshabilitación. [VICO-248] 24. 
Ahora las preconfiguraciones de flujos no asignarán responsables deshabilitados. [VICO-248] 25. 
Ahora al cambiar de estado un elemento, el sistema validará si el usuario responsable siguiente se encuentra deshabilitado, de ser así el sistema no permitirá este cambio de estado, funcionamiento actual en swift y sense. [VICO-248] ///// Fin Wendy Ruiz //////// Release notes: Egrid RO, Egrid Fixes, Egrid ElementInfoText, Sense Context, Sense Mobile Fixes. --------------- APLICABILIDAD DE MODIFICACIONES PARA PRUEBAS: JMC Reclutamiento: 1,2,3,4,5,13 JMC PQR: 2,3 JMC Ticketing Tool: 12 Vigia: 8, 14, 16, 17, 18 Valorem: 8, 14, 16, 17 Seguros Mundial: 13 VivaAir: 12, 23, 24, 25 BAT Sense: 20, 21 General: 6, 7, 8, 10, 11, 12, 15, 16, 19, 22 ----------------- DESCRIPCIONES FUNCIONALES Puntos 1,2,3,4,5 Probar funcionamiento general de la Grilla, en modo de edición, modificación de embebidos, modo RAW y modo ReadOnly (este es el modo nuevo descrito en 2). Punto 6, 7, 23: Probar modificación de usuarios, grupos y cargos. Punto 8: Probar el botón "Arbol" en modo SENSE Punto 9: La ayuda que sale depende de los parámetros HelpDocumentPath y HelpVideosPath Punto 10: Probar las búsquedas en SENSE, teniendo en cuenta el contexto (parte de la aplicación: entrada, modulo, elemento) donde se está ubicado. Punto 11: No requiere pruebas, es informativo. Punto 12: Reportar cualquier interrupción de la operación de la aplicación. Punto 13,15,19: Verificar funcionamiento de asignación de tareas de flujo a persona definidas en los campos del formulario y que recibna sus correos. Punto 14: Prueba en Mogile, pendiente por definir como se hace. Punto 16: Probar campos de fecha en SENSE. Punto 17,18: Probar en SENSE. Punto 20,21: Probar en BAT SENSE. Punto 22,25: Probar agendas de pendientes,  asignación de tareas y ejecución normal del flujo, en modo normal (swift) y SENSE. UPDATE 2019-05-20 - 
Se corrigió una situación en la que si un estado de flujo tiene ID mayor a 255, falla en la ejecución de los guardados o el despliegue del RO. Ver BAT - 
Se añadió el recalculo de infotexts en el cambio de estado (sin necesidad de guardar) (No tiene aplicativo para probar en especifico, a no ser que se actualice en SM) - 
En Firefox 66 (64bit), algunas librerias de javascript del CDN de cloudflare no cargan, por lo que el despliegue de los menus en modo SENSE no es correcto. Se utlizan desde ahora librerias locales. - 
Se corrigieron las posiciones de los cuadros de comentarios y de cambio de elaborador en el RO de sense. - 
Campos elementinfotext en RO Sense ahora bajan a flujo. - 
Se ajustó el mecanismo que arrojaba los pendientes en SENSE, para ingnorar los estados marcados como NotForPendingTasks.    

Se ajustó el alto de la barra superior y otros elementos en SENSE para aumentar el espacio disponible (real state) de trabajo, en 90px. 2. 
Los paneles en SENSE ahora abren al máximo alto disponible de ventana. 3. 
Se creó el visualizador de flujos. Esta disponible en el administrador de flujos (por defecto) y en los elementos como un link. En este caso, añada un registro en addonsubmenu con los permisos correspondientes, usando en EMDV: FlowVis.aspx asi: ../Sense/FlowVis.aspx?e={0}&showmain=true&showsec=true&showback=true&hidemenu=true&contextual=true l ElementId l sense donde: l es el caracter Pipe. showmain: muestra el flujo principal showsec: muestra los flujos secundarios (cambio mayor y menor) showback: muestra las transiciones de reversa hidemenu: oculta el menú de opciones contextual: muestra solo la parte contextual (el estado actual del flujo). En este caso se presentará similar al siguiente:  4. 
Se creó un mecanismo que permite invocar el texto de plantillas HTML no solamente antes del primer guardado sino en toda la vida del elemento. Para esto, configure por ETMD o MD el feature HTMLTemplateApplicableInAllElementLife (para la metadata HTML destino Para la metadata HTML padre que dispara la obtención del texto de la plantilla) 5. 
Se creó un mecanismo para tener una página de inicio por grupo de usuarios. Esto es, que cuando el usuario entre a la aplicación después del login, se le presentará como inicio, dentro del contexto de la aplicación, una página diseñada para uno de los grupos a los que pertenece. Para esto configure el campo LandingPage en ActionGroup. En caso de pertenecer a más de un grupo y de haber más página, defina como true el campo LandingPageIsPreference. 6. 
Se eliminó el doble espacio creado al reemplazar un marcador en word por contenido HTML. 7. 
Al fusionar Word con metadata en marcadores, los valores vacios se llenan con un espacio en blanco, por lo que ya no es necesario usar un punto. 8. 
Se corrigió defecto en la aplicación de Jerarquias internas para hijos tipo suggest que impedia ofrecer valores al escribir. 9. 
Se incluyo el editor HTML "nuevo" (gris) en las transiciones en SENSE. 10. 
Se corrigió una situación en la cual el botón de cerrar del árbol no funciona. 11. 
Se corrigió una situación en la cual al buscar en la barra superior en SENSE estando en un reporte tipo pivot o lista, dejaba sin menu e iconos la aplicación y no buscaba contenidos. 12. 
Release Notes: ChageSet 1800, fusion fixes, FlowVis, Minor Fixes. Explicación funcional y pruebas: 1,2. Valorem/NuevaEPS/Vigia: Navegar en distintas resoluciones de pantalla. 3. Valorem: Revisar que el flujo que se desplega este correcto. 4,5,6,7,9. Valorem: Revisar con AJ 8,12. Valorem revisar con LH 10,11: Pruebas generales de aplicación Update: 2019-09-10  13. 
Se corrigió un problema con las listas de selección múltiple no-suggest internas/externas con jerarquia (hijas) deshabilitadas, que no conservaban tal calidad en SENSE al editar un elemento. 14. 

Se ajustó el alto del contenido del buscardor de embebidos en SENSE. 16. 
Se ajustó la copia de contenido HTML al nombre de un elemento cuando existe el caracter vacio en el contenido. De la misma forma, se esta copiando el contenido HTML limitando el número de caracteres, definido por el parámetro HtmlToElementNameLengthLimit. 17. 
Se ajustó la presentación de Iconos de anexos en RO SENSE. 18. 
Ahora el contenido de los links de caracterizaciones (y en general links que no requieran autenticación o soporten ) se muestran en la versión impresa de los elementos, en SENSE. 19. 
Las caracterizaciones ahora tienen la misma seguridad de los elementos a los que pertenecen. 20. 
La generación del PDF desde un archivo de word usando una metadata destino ahora se regenera con cada guardado, en SENSE.  

Se creó un mecanismo para invertir el orden en la agenda de pendientes general en SENSE. Para esto, use el feature SenseToDoListIsDescOrder en true para mostrarlo en orden descendente. 2. 
Se creó un mecanismo para invertir el orden en la agenda de pendientes especifica de cada modulo (resúmen). Para esto user el feature SenseToDoListOrderIsDesc por ET en true  SenseToDoListOrderIsAsc por ET en true. Tenga en cuenta que la lógica es diferente a la agenda de pendientes general (DESC en la general, ASC en la particular). [Breaking Change]: Las agendas de pendientes (resúmen) por módulo se ordenaban alfabeticamente y ahora se hacen de acuerdo a la expiración. 3. 
Es posible crear una jerarquia Padre:texto-Hijo:file. Para esto, use la tabla ExternalValueHierarchy como se indica en v19.4 (solo SENSE), teniendo en cuenta que aunque las metadatas en este caso son internas, se pueden manejar como externas. 4. 
Los árboles de datos en SENSE ahora tienen en cuenta HideInTrees (campo de ElementTypeMetaData que indica que esa metadata no se debe mostrar en los árboles). 5. 
Se creó un mecanismo para pasar el texto de un infotext como HTML en la fusión de Word. Para esto configure el feature SetAsHTMLOnFusion por MetadataFeature (no aplica para ETMDFeature) en true. 6. 
Se ajustó la altura de los paneles SENSE en Firefox (66 y superior) que se salian de los limites del viewheight (alto disponible de ventana sin scroll) 7. 
Se ajustarón las siguientes vulnerabilidades reportadas por JMC: - [X] KITS24 Vulnerability ID 16455 2019-05-24 15-48-16. Vulnerabilidad en el guardado de imágenes de avatar/firma que permitia saber de la existencia o no de un archivo en el filesystem. - [X] KITS24 Vulnerability ID 16456 2019-05-24 15-47-53. Vulnerabilidad en listado SWIFT que permitia saber de la existencia o no de un archivo en el filesystem. - [X] KITS24 Vulnerability ID 16457 2019-05-24 15-47-31. Vulnerabilidad en el guardado de imágenes de avatar/firma que permitia obtener una copia del web.config u otros archivos sensibles. Esta también aplica para EDIT Mobile/SENSE/Editgrid. 8. 
Ajuste de algunos mensajes que no usaban la tabla Message. 9. 
Se ajustó un problema que impedia calcular el código de un elemento si el ET era mayor a 64. Release Notes: SenseToDoListIsDescOrder, SenseToDoListOrderIsAsc , Text-to-file Hierarchy, Sense HideInTrees, SetAsHTMLOnFusion, Fixes, CVE Fixes, Changeset 1815. Aplicabilidad y Explicación funcional: 1,2,3,4: BAT Sense, consultar con JM. 5: Valorem 6,7,8,9 General  

Se creó un mecanismo para mostrar un set alternativo de botones en el EDIT SENSE/Mobile. Este se comporta asi: El botón GUARDAR no cierra el panel y solo hace guardado tipo borrador y no existe un botón GUARDAR BORRADOR adicional. Para esto estblazce en true por ET el feature UseAlternativeButtonSetOnEdit 2. 
El HTML Editor GRIS presentaba un error en el EDIT al momento de cerrar el panel en IE. 3. 
Cuando se hace la reasignación de responsables usando la Agenda de Pendientes del Administrador, ahora notifica a la persona destino, usando una plantilla de correo definida por el parámetro AccountableChangeEmailTemplatePath 4. 
Se creó un mecanismo para DMSISS (peer sinchronization) el cual permite en una via copiar tablas/vistas desde un peer "local" hasta un peer "remoto", con las siguientes consideraciones:  Es en una via, de Local a Remoto. El LOCAL expone sus tablas/vistas que son leidas por el servicio Windows ( el cual consume la API remota). No importa si en LOCAL son tablas o vistas, estas son creadas como tablas en el REMOTO sin llaves foraneas, indices ni validación de la llave primara (es responsabilidad conservar esta consistencia en el LOCAL). Si las tablas en REMOTO no existen, son creadas previo a la copia de datos.  Para configurar en LOCAL se debe llenar la tabla PeerSynchronizableObject asi: SourcePeerId es el PeerId LOCAL. TargetPeerId es el PeerId REMOTO. ObjectName es el nombre de la tabla o vista. DeleteBeforeSync borra la tabla destino y la crea de nuevo antes de copiar los datos. Debe definir en LOCAL y REMOTO el parámetro DefaultLocalSynchronizationSchema el cual define el esquema de DB propio por defecto de cada base de datos. Por defecto es dbo pero en ambientes de producción puede ser diferente. Defina la hora de inicio y frecuencia del nuevo ServiceProcess PeerObjectSynchronization. Tenga en cuenta que entre más grandes las tablas, menos frecuente debe ser la sincronización para evitar consumos de recursos de servidor y ancho de banda.  5. 
Se corrigieron problemas en servicio Windows: Algunos procesos arrancaban antes de su hora de inicio (apenas se iniciaba el servicio). Se dejó la ejecución del refresque del PermissionCache a una sola vez, definida por el tag TaskExecutionTime02, el cual debe ser fijado en horas de la madrugada, después de correr los procesos de sincronizació de AD y de avances automáticos de flujo. 6. 
Se ajustó la ejecución de los procesos del servicio Windows para que se ajusten a la siguiente tabla: [Breaking Change]:           ServiceProcessId Tarea Detalles  Frecuencia / Inicio configurable Frecuencia por defecto Parámetro en service.config Notas   1 ADSyncUp Sincroniza con AD SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   2 StaffSync Sincroniza con tablas externas de usuarios SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   3 ReplaceBadContents Remplaza contenidos erróneos en los htm de la raíz de Files (smartTags, etc) SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   4 ExecuteToExcel Exporta elementos a Excel programadamente SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   5 ObjectCacheCleanUp Limpia el cache de objetos SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   6 TempFilesCleanUp Limpia la carpeta temp SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   7 PurgeElements Borra físicamente los elementos marcados para borrado SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   8 ImportIndexDocument Actualiza el Índice de anexos SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   9 ScrapLinksFromElements Obtiene el listado de links a elementos encontrados en contenido HTML SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   10 ExecuteAutoProcesses Ejecuta cambios de estado basado en información de vistas SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   11 CreateDBBackup Crea un backup de la BD. No funciona/No probado NO Una vez al día TasksExecutionTime02 Corre Todos los días   12 CreateFilesBackup Crea un backup de la carpeta FILES No funciona/No probado NO Una vez al día TasksExecutionTime02 Corre Todos los días   13 ProcessOnDueSoonTasks Procesa tareas a punto de vencerse SI NO TIENE   Debe configurarse manualmente en ServiceProcess   14 ProcessSpecialNotifications Procesa notificaciones especiales SI Una vez al dia TasksExecutionTime01 Corre Solo entre semana   15 ProcessScheduledNotifications Procesa las notificaciones programadas para el dia actual SI Una vez al dia TasksExecutionTime01 Corre Solo entre semana   16 ProcessEMDVStampValueChanges Envía correos si hubo cambios en valores de EMDV SI Una vez al dia TasksExecutionTime01 Corre Solo entre semana   17 ProcessOnDueTasks Procesa tareas vencidas NO OBSOLETO   Se dividió en 33 y 34   18 CreateDBSnapshots Crea snapshots de tablas o vistas NO Una vez al dia TasksExecutionTime02 Corre Todos los días   19 ExecuteSummaryNotifications Envía correos agrupados SI Una vez al dia TasksExecutionTime01 Corre Solo entre semana   20 AuthProxyTableSync Sincroniza accesos contra fuentes externas de autorización de usuarios SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   21 CreateValueBasedNewVersions Crea nuevas versiones de elementos basados en valores de campos NO Una vez al dia TasksExecutionTime02 Corre Todos los días   22 ExecuteMetaDataAssignedNotification Envía notificaciones en una fecha especifica definida por una metadata SI Una vez al dia TasksExecutionTime01 Corre Solo entre semana   23 PeerSynchronization Sincronización de PEERS usando DMSISS SI NO TIENE   Debe configurarse manualmente en ServiceProcess   24 CopyAttachmentsForReading Copia anexos a un folder especifico, para lectura externa SI NO TIENE   Debe configurarse manualmente en ServiceProcess   25 MergeFaceBookElements Crea elementos a partir de posts/comentarios en FB SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   26 MergeEmailMessages Crea elementos a partir de mensajes de correo SI Una vez al dia TasksExecutionTime02 Corre Solo entre semana   27 BuildOutstandingTaskCache Reconstruye el cache de tareas pendientes SI NO TIENE   OBSOLETO, No poner a correr si no es necesario   28 ProcessEnqueuedNotificationsOnFixedTime Procesa la cola de correo a una hora específica SI NO TIENE   Si se habilita, se inhabilita ProcessEnqueuedNotifications   29 DoLogMaintenance Ejecuta el mantenimiento de tablas de LOG (no usar/no probado) NO Una vez al dia TasksExecutionTime02 Corre Solo entre semana   30 PeerFileSynchronization Sincroniza anexos entre peers usando DMSSIS (Solo una vía HQ-Cloud) SI NO TIENE   Debe configurarse manualmente en ServiceProcess   31 PartialPurge Borra elementos marcados para borrado pero solo con ciertas condiciones (edad, estados etc.) NO Una vez al dia TasksExecutionTime02 Corre Solo entre semana   32 ControlledSessionsKiller Elimina las sesiones huérfanas de aplicación web  SI NO TIENE   Debe configurarse manualmente en ServiceProcess   33 ProcessAutoAdvanceTask Avanza flujos vencidos SI NO TIENE   Debe configurarse manualmente en ServiceProcess   34 ProcessNotifyDueTasks Notifica vencimientos SI NO TIENE   Debe configurarse manualmente en ServiceProcess   35 PeerObjectSynchronization Sincroniza objetos (tablas /vistas) usando DMSSIS en una vía (HQ-Cloud) SI NO TIENE   Debe configurarse manualmente en ServiceProcess     ProcessEnqueuedNotifications Procesamiento cola de correos NO De acuerdo al tag TasksInterval (cada 1 minuto)   Solo corre si no esta configurado 28     AdjustLogFileBackup Crea un backup de log del servicio y crea uno nuevo, si llega al limite NO Una vez al dia TasksExecutionTime02 Corre Todos los días     RefreshPermissionCache Refresca el cache de permisos NO Una vez al dia TasksExecutionTime02 Corre Todos los días    7. 
Se hicieron ajustes de desempeño a los ServiceProcess  ProcessAutoAdvanceTask y ProcessNotifyDueTasks. 8. 
Se agregó el refresque de PermissionCache cuando se cambia un responsable en un elemento. 9. 
Ajustes a vulnerabilidades menores en el cargue de Archivos. Release Notes: Service Fixes, PeerObjectSynchronization, Minor Fixes, Changeset 1827 Explicación funcional y aplicabilidad 1. Adhoc ( a quien requiera aplicarlo). Los botones deben funcionar de manera adecuada 2. Cualquier aplicación con SENSE. 3. VIGIA 4. JMC Reclutamiento /PQRS /PD 5,6,7 Todas las aplicaciones. Verificar desempeño de servidor web y BD 8. Valorem 9. JMC UPDATE 2019-09-30 10. Se creó un cuadro para comentarios (obligatorio) en la reasignación de responsables en la agenda de pendientes del administrador. La "razón" del cambio que incluya el usuario administrador, aparecerá en el campo Description, del OperationLog. Se ajustaron además estilos visuales.   

Se solucionó un problema grave en la aplicación de MDVAGRestriction (restricciones de valores de metadata por pertenencia del usuario a grupos), en el cual ocasionalmente la metadata tipo lista no mostraba los valores correctos. 2. 
Modificaciones y mejora a la agenda de pendientes del administrador:  Layout general mejorado. Ahora es posible cargar la página sin realizar la consulta para TODOS (por desempeño se recomienda). Para esto configure el parámetro GeneralOutlookLoadsEmpty en true. La reasignación solo es posible cuando se obtengan los resultados de una persona específica (no para TODOS) Es posible reasignar solamente a personas en los grupos que pertenece el usuario origen. Para esto configure el parámetro ReassignmentOnlyToSourceGroups en true. Es necesario ahora que se incluya un comentario con la razón del cambio. Asi mismo, es opcional incluir un anexo (sujeto a una extensión valida, definida por el parámetro EnforceUploadExtensions). La información del cambio queda almacenada en OperationLog, definida por el OperationType 12 – TaskReassignation) y el anexo queda en la columna Attachment (se debe crear una carpeta en files llamada Admin).  3. 
Se crearon links hacia las consultas en los listados tipo árbol, en SENSE. 4. 
Se añadieron las opciones de impresión (horizontal/vertical) en SENSE. 5. 
Ahora es posible congelar los títulos en las caracterizaciones (las consultas de SpanList.aspx) 6. 
[Breaking Change]: Se cambio el mecanismo de password/salt para que no sea posible reutilizar salts entre usuarios. De esta forma no es posible compartir contraseñas o crear contraseñas por defecto (es decir, se debe utilizar el mecanismo de distribución de contraseñas). Para corregir las contraseñas que ya tengan el mecanismo de salt, utilice la página de AdminUtils.aspx y la opción “Apply Legacy-to-
Method” (sacar un backup primero). 7. 
Ahora es opcional tener que incluir un símbolo en las contraseñas. Para esto defina el parámetro SpecialCharacterInPasswordIsOptional en true. Tenga en cuenta que para cubrir la necesidad de que sean contraseñas de al menos media complejidad, el usuario ahora tendría que incluir al menos 2 números. 8. 
Se corrigió una situación en la cual al subir un archivo a un campo tipo FILE en SENSE, ocultarlo en un estado posterior por ETMDRestriction y des-ocultarlo más adelante en el flujo, el archivo desaparecía del campo. En este mismo sentido, no se borran los archivos PDF creados por uso del feature AddPDFVersionToTargetMetaData, cuando los archivos Word en el campo origen no están visibles. 9. 
Se corrigió un error en el árbol SENSE en el cual, al buscar 2 veces, ya no mostraba resultados. 10. 
Corregido el error que al buscar en el árbol y los resultados son tipo tabla y al quitar el filtro, se mostraban tipo resumen. 11. 
Se corrigió una situación en la cual, al ocultar un campo tipo texto, quedaba con el valor que se le había ingresado y esto afectaba la jerarquía con otras metadatas hija. 12. 



Explicación funcional y Aplicabilidad <!--[if !supportLists]-->1.     1. <!--[endif]-->BAT, mirar con JM. Debe funcionar de forma correcta la aplicación de MDVAGRestriction <!--[if !supportLists]-->2.     2. <!--[endif]-->BAT, mirar en general el funcionamiento de la agenda de pendientes del administrador. <!--[if !supportLists]-->3.     3 Nueva EPS. Verificar funcionamiento búsquedas árbol y de los links. <!--[if !supportLists]-->4.     4 <!--[endif]-->Nueva EPS. Probar impresión en SENSE <!--[if !supportLists]-->5.     5 <!--[endif]-->Nueva EPS.  <!--[if !supportLists]-->6.     6 <!--[endif]-->Todas las aplicaciones. Probar restauración de contraseñas. <!--[if !supportLists]-->7.     7 <!--[endif]-->VivaAir. Probar como se indica. <!--[if !supportLists]-->8.     8 <!--[endif]-->Valorem / Nueva EPS consultar con AJ. En general, reproducir la situación. <!--[if !supportLists]-->9.     9 <!--[endif]-->General <!--[if !supportLists]-->10.  10 General <!--[if !supportLists]-->11.  11 <!--[endif]-->BAT   1  12,13,14,15 Revisar cada 
de forma independiente. Release Notes: ChangeSet 1854, GeneralOutlook changes, pwd/salt fixes, Tree links.    

Se creó un mecanismo para presentar mapas de calor. Los mapas de calor son gráficas que presentan valores ubicados en un espacio bi-dimensional y que muestran colores de acuerdo al valor que se le asigne a la pareja (x,y).    Los mapas de calor se alimentan de información proveniente de una vista o a un procedimiento almacenado.  DocManager permite mostrar 2 diferentes tipos de mapas de calor: simples y filtrables. Los mapas simples estarán disponibles en la versión 20. Los mapas filtrables se alimentan de un procedimiento almacenado base y pueden cambiar los resultados mostrados basandose en la aplicación de una serie de filtros de MDV a partir de un tipo de elemento. Esto quiere decir que el procedimiento almacenado que se construye debe tener en cuenta que se aplicarán filtros a la consulta para obtener diferentes conjuntos de datos. Para configurar un mapa de calor filtrable primero cree un procedimiento como se indica en el siguiente instructivo    Posteriormente, agregué un registro a la tabla DashboardItem asi: DashboardItemTypeId = 6 (tipo Mapa de calor). Source, el nombre del procedimiento almacenado Custom. Title, el titulo. WidthDescriptor (ancho total, debe ser 3) y ColorsView, la vista que describe el juego de colores (Nota, el mapa de calor tradicional no incluye colores predefinidos y se deja que el mismo mapa los defina de acuerdo a los valores, pero es posible definir un juego de colores estático). Abra la página Sense/Chart.aspx?id<DashboardItemId>&ET=<ElementTypeId> donde DashboardItemId  es el id del registro en DashboardItem y ElementTypeId es el tipo de elemento base que sirve para aplicar los filtros por MDV.  La operación de la página entonces es como se define aqui:  Debe tener en cuenta que el mapa de calor se alimenta de lo que entregue el procedimiento almacenado, por lo que el orden los ejes, los textos y los contenidos, dependen directamente de la ejecución de la consulta.  2. 
Se ajustó en SENSE el mecanismo de despliegue de valores de MDV en listas internas/externas, para evitar que los saltos de líneas impidan el render del EDIT 3. 
Mejoras visuales en el markup de los embebidos y anexos (por ejemplo, se evita el overlap) en el EDIT Sense. 4. 
Se ajustó un error que impedía imprimir elementos con metadatas tipo LINK, si se usa HTTPS. 5. 
Se ajustó el valor de [TotalCount] en el uso de la plantilla de notificaciones de la Agenda de Pendientes del administrador, cuando se reasigna un responsable. 6. 
Ahora es posible utilizar procedimientos almacenados para calcular la jerarquia entre controles externos usando ExternalValueHierarchy. Para esto, en el campo formula, inicie el valor con sp<pipe> y luego el nombre del procedimiento. La guía de implementación se encuentra a continuación:    7. 
Se corrigió un error en la presentación de los responsables en cada estado, en la gráfica de flujo individual por elemento. 8. 
Se corrigió en una situación en la cual en Swift no refrescaba los responsables al guardar un elemento, cuando la cantidad de datos en el formulario era mínima. 9. 
[Critical]. Se corrigió una situación en la cual una persona sin permisos de crear un elemento, podia hacerlo en SENSE EDIT. Aplica también para el botón de Crear Elemento (+) en los listados SENSE. 10. 
Ahora se muestra el mensaje de éxito al embeber elementos en SENSE cuando el elemento padre es nuevo. 11. 
Se incluyeron los comentarios de cambio de estado en el historial de workflow legacy. 12. 
Se corrigió el mecanismo de guardado de los embebidos, para tener en cuenta de forma correcta el órden en que se establecen (SENSE), arrastrando y soltando en el formulario. 13. 
Se ajustó el mecanismo de creación automática de embebidos para dejarlos con la versión inicial establecida por el parámetro InitialVersion. 14. 
Se ajustó el mecanismo de creación automática de embebidos, para ejecutar los calculos de metadatas calculadas e infotext. 15. 
(Metadata no trae responsables de los permisos configurados). 16. 

[Breaking Change] La utilización de ExternalDefultsQuery en SENSE ahora limpia primero los controles tipo lista cuando se cambia el valor de metadata que dispara la obtención de datos desde el servidor. 18. 
Ajuste en etiquetas hover erroneas en EDIT SENSE. Aplicabilidad y Pruebas 1. Seguros Mundial: Verificar el cálculo correcto de cada mapa de calor, no solo su despliegue. 2. Aplicaciones SENSE que sean producto de migración/importación de data. 3,7,12,18 SENSE en general. 4. Nueva EPS 5,11. Todas las aplicaciones. 6. BAT 8. Itau 9,10: Eficacia. Verificar en general todas las aplicaciones SENSE donde los usuarios tengan restricciones para crear ciertos tipos de elementos. 13,14: VIGIA 17: Corbeta Contratos y en general todas las aplicaciones que utilicen tipos de elemento "plantilla" para asignar responsabilidades o permisos. Release Notes: Changeset 1876 , HeatMaps, SENSE fixes.

Se ajustó la presentación de ayudas para metadatas tipo Embebido en SENSE EDIT. 2. 
Ajuste visual para abrir el EDIT en la misma ventana del RO en SENSE. 3. 
Ajustes visuales varios a SENSE (scrollbar en menú, alturas de paneles en Firefox, botones en listados, posición de títulos y resultados, elementos responsive) 4. 
Modificaciones para poder hacer rastreo de los correos enviados, incluyendo los de la cola. [Technical Note] Los correos encolables (notificationqueue) ahora también son copiados al NotificationMessageLog. 5. 
Se genera mensaje de error cuando intenta descargar los adjuntos desde los comentarios del cliente desde el correo. Se implementó un mecanismo para asegurar los links en los correos, con una comprobación de seguridad. Tenga en cuenta que el mecanismo de links a archivos en contenidos HTML no verifica la identidad del lector, mientras que los anexos en metadatas tipo file, si, por lo que se recomienda que, si se deben enviar correos con links a archivos, se hagan a través de metadata tipo file. 6. 
Corrección en la utilización de las validaciones para metadatas tipo lista interna en SENSE EDIT (no funcionaban correctamente) 7. 
Las agendas de pendientes de aplicación y de modulo en SENSE ahora refrescan cuando se hacen cambios de estados en los elementos abiertos. 8. 
Se ajustó el mecanismo de los Custom_List para aceptar m=true en las url, que indican que el procedimiento almacenado asociado recibe como parámetro el id de la persona autenticada. 9. 
Guardado de respuestas incorrectas al finalizar las evaluaciones. Este aspecto es un by-design: las evaluaciones calificables están diseñadas para que las respuestas otorgadas sean borradas en caso de fallar la evaluación y se tenga que repetir. Si se desea NO usar este comportamiento, establecer el feature por addon DeleteAnswersOnFailure en true. Release Notes: Notification Fixes, DeleteAnswersOnFailure, SENSE UI Fixes, ChangeSet 1884. Aplicabilidad: 1. Consultar con AJ 2,3,6,7: SENSE en general 8. Revisar aplicaciones con reportes tipo lista.

Se corrigió el mecanismo de bloqueo de desactivación de control de cambios definido por DocTransformationRule.ChangeControlActivationStates, incluyendo en los estados donde el Word resultante no se modifica por fusión de metadatas con bookmarks. 2. 
[Breaking Change]: Se implementó el funcionamiento del feature AdditionalInfoSectionExpandedByDefault en RO Mobile/SENSE para que no se presente la sección "Información Adicional" de forma expandida por defecto, de tal manera que si no se establece el feature, la sección siempre aparecerá comprimida. 3. 
Se corrigió la opción de conversión de números a letras (en español) que ofrece ElementTypeMetaData.SemanticTransformation, para que se pueda usar con dinero y separador de miles. 4. 
Se corrigió una situación en la cual al aplicar permisos a personas presentes en una metadata, si la fuente de datos es un procedimiento almacenado, no permite presentarlos en el cuadro de responsables. 5. 

Corrección al mecanismo de obtención de listados en sense, cuando no se establece un ordenamiento, que ocasionaba un error irecuperable y no mostraba datos. 7. 
Se creó un mecanismo para evitar que se creen elementos embebidos si estos ya existen con ciertos datos. De tal forma que se creó el feature CheckExistentMetaDataForAutoEmbedded por ETMD o MD (para la metadata embebida en el padre), el cual tiene como valor una metadata (una por registro) el cual se verifica contra los elementos existentes (del mismo tipo) y si ya hay alguno con el o lo datos correspondientes, no lo vuelve a crear sino únicamente lo embebe al padre. Funciona únicamente con embebidos automáticos configurados por WFTElementAutoCreation 8. 
Se crean contratistas con NIT repetido y el campo está configurado como único. [Technical Note]: Se aplicó IsUnique en SENSE/Mobile. 9. 
En SENSE ahora no es necesario que la persona que abre las agendas de pendientes de resumén por módulo, tenga permisos para listar los elementos de los tipos correspondientes. 10. 
Se corrigió una situación en la cual no se enviaban los códigos 2FA para ejecutar transiciones en el flujo, cuando estos tenian menos de 6 digitos. 11. 
Se creó el parámetro SMTPFromName para indicar el NOMBRE DEL ORIGEN del envio de correos en el sistema (no la cuenta o el username/login), es decir, como le aparece al destinatario en su buzón de correo. Release Notes: Changeset 1898, Fusion Fixes, 2FA fixes, SENSE IsUnique, minor fixes. Aplicabilidad: EFICACIA todos los puntos excepto 10 (Aplica para Valorem). UPDATE 2020-01-14 12. 
Se corrigió en SENSE la presentación de los titulos de elementos cuando estos tienen saltos de línea. 13. 
Se habilitó en SENSE el funcionamiento del feature ROAdditionalInfoActionGroup con el cual se definen grupos que pueden visualizar la sección "Información Adicional" de los elementos en modo RO. 14. 
Se corrigió el ancho exagerado del editor HTML en la grilla al momento de editar un elemento existente. 15. 
En la agenda de pendientes SENSE tipo detalle, ahora se agrega el subtitulo "Fecha de Creación" para cada uno de los elementos. 16. 
Se solucionó un error crítico en la ejecución del servicio Windows en el cual un proceso que debierá ejecutarse en frecuencia Custom, solo iniciaba su ejecución el día siguiente al inicio de la ejeucicón del servicio (SM). UPDATE: 2020-10-16 17. 
UPDATE: 2020-10-21 18. Se creó un mecanismo que permite que cuando un elemento cambie de versión, se clonen los elementos embebidos de una metadata específica, en vez de relacionarlos directamente. Para esto, use por MDFeature (NO por ETMDFeature) el feature CloneREOnNewVersion (true). 19. 

Se creó un mecanismo para variar la fortaleza de password requerida paralos usuarios en el sistema. La fortaleza requerida por defecto era 3 (fuerte). Ahora se puede determinar un valor de 1 a 3 usando el parámetro PasswordStrength.   (1) Obliga a mínimo 8 carácteres, combinación de al menos 1 mayúscula con minúsculas,  (2) Obliga a mínimo 8 carácteres, combinación de al menos 1 mayúscula con minúsculas y dos números (3) Obliga a mínimo 8 carácteres, combinación de al menos 1 mayúscula con minúsculas, dos números y,  un carácter especial o 16 carácterés mínimo.  [Breaking Change]: EL parámetro SpecialCharacterInPasswordIsOptional queda sin uso 2. 

Ahora es posible escoger el formato de fecha en metadatas en SENSE, para metadatas tipo FECHA. Para esto utilice le feature FormDateFormat por Metadata, con estos posibles valores: yy-mm-dd, dd/mm/yy, mm/dd/yy. UPDATE 2019-02-07. También es aplicable a metadatas texto con mascara tipo MaskDateTime. En este caso, el value del feature debe ser yyyy-mm-dd hh:mm 4. 
Mejoras visuales a edición de permisos y responsables en SENSE para que se puedan usar en versión Mobile. 5. 
Ahora es posible aplicar preconfiguraciones de flujo sin tener condiciones. Para esto, una vez creada la configuración por la UI o por DB, vaya a la tabla WFPreConfig y establezca en 1 el valor de la columna NoCondition. 6. 
Ahora los elementos embebidos creados de forma automática (no usando plantillas), calculan sus valores infotext y calculados al momento de crearse. 7. 
Se solucionó una situación en la cual en los árboles de búsqueda (SENSE) aparecian incorrectamente como hijos de valores de metadata, valores de metadatas tipo Link. 8. 
Se ajustó en las agendas de pendientes de módulo y general (SENSE) para que aparezca la fecha de expiración en la vista tipo detalle. 9. 
Se ajustó la aplicación para que permita en SENSE usar el feature UseAttachmentSignature para restringir la edición de archivos de Word (generados a partir de plantillas) únicamente si se han bajado desde la aplicación. 10. 
Se ajustó el mecanismo que obtención de los menus de addons, que se repetian en el menu listados, en SWIFT. ReleaseNotes: PasswordStrength, WFPreConfig NoCondition, SENSE UseAttachmentSignature, ChangeSet 1917 Aplicabilidad y Pruebas: 1. VivaAir, General 4. General 5,6,8,9 Eficacia 7. Neps, General 10. General     

Se mejoró el desempeño del mecanismo de obtención de datos de los Charts usados en Elementos (franjas) en RO SENSE. 2. 
Solucionado el problema de referencia a http o https de las librerias de Javacript en la página de caracterizaciones. 3. 
Se mejoró el mecanismo de página de Inicio en SENSE para que permita abrir elementos en paneles a la derecha y cambia su tamaño cuando aparece el primer panel. 4. 
Las metadatas con mascara maskdatetime pueden aplicar el feature FormDateFormat con yyyy-mm-dd hh:mm 5. 
Se corrigió la consulta en los listados principales en SENSE para evitar duplicados. 6. 
Ahora es posible aplicar estilos CSS al header en la versión impresa, usando RO.css. 7. 
Ahora es posible incluir imágenes provenientes de metadatas tipo FILE (JPG, PNG, GIF) en el header del RO y de la versión impresa. 8. 
Se creó un mecanismo para que el sistema quedé a prueba de fallos en caso de encontrar un deadlock en la ejecución de comandos contra la base de datos. El sistema reintentará hasta 4 veces ejecutar un comando en caso de encontrar el deadlock. 9. 
Se solucionó un problema el cual ocasionaba la caida del application pool en caso de que un InfoText tuviese fallas en su ejecución. 10. 

Cuando una metadata heredaba información al flujo, y el valor de esta se borraba, el responsable en el flujo no quedaba eliminado. 11. 
Al momento de crear elementos Auto-Embebidos, ahora se tiene en cuenta el feature CodeUsesPutativeParentId 12. 
Se hicieron ajustes al mecanismo de cargue masivo de usuarios. La especificación completa está en OS-125-ACT-0011. Los cambios fueron los siguientes:  Ahora es posible subir pertenencias a grupos Cuando se utiliza PersonLegalId como llave, se comprueba además el lopin y el correo como únicos. Los resultados se presentan en español.  Nota: En NEPS debe usarse esta plantilla:  13. 
Se solucionó un problema en SENSE que impide mostrar el RO de un elemento si el titulo tiene saltos de línea. 14. 
Ahora cuando se generan nuevas versiones automáticas, el sistema recalcula los infotext al finalizar el proceso, para garantizar que se puedan ver en diferentes contextos, inluyendo el Edit Grid. 15. 


Ahora es posible dar permisos a grupos de personas, en estados específicos, para que creen elementos embebidos a pesar de no tener permisos de EDIT en el elemento Padre. Para esto, defina por ET padre, el feature CreateEmbeddedElementsSpecialConfig asi: ETHijo,ActionGroupId,Estado. Por ejemplo 4,1,5 habilita el elementos del tipo 4 al grupo 1 para que cree, cuando el flujo este en el estado 5 (recuerde que esto le aplica al ET padre). Si el ET padre no tiene flujo o se requiere que la configuración aplique en todos los estados, utilice solo los 2 primeros valores, Ejemplo 4,1. 16. 
[Breaking Change]: Se aplicó una configuración nueva para evitar que los nietos embebidos (embebidos de los embebidos) de un elemento, sean clonados cuando el elemento padre es clonado (cuando es una nueva versión o en las otras situaciones). Si desea que se clonen los "nietos", debe configurar por ET HIJO (es decir el embebido) el feature MustCloneGrandChildrenOnCloning, definiendo en el valor el ET NIETO (es decir, el embebido del embebido).  17. 
Debido a problemas de bloqueos en clientes que usan SENSE (en ambientes restringidos, espcialmente los que tienen VPN) se decidió implmentar el uso de librerias locales de js, css y fuentes, para ciertas funciones y elementos visuales (botones, textos, loaders). Release Notes: Changeset 1929, MustCloneGrandChildrenOnCloning, CreateEmbeddedElementsSpecialConfig, Deadlock fixes. Aplicabilidad y pruebas: 1,2,10,11,12,14,16: NEPS 3,5,6,7,8,9,13,15,17: General. 4. VivaAir 1. Probar los charts 2. Probar caracterizaciones usando https p http 5. Probar listados generales, busquedas y agendas de pendientes para comprobar exactitud. 8. Probar la aplicación que tenga altos volúmenes de datos. 9. Probar aplicaciones que tengan autoemebidos o infotexts en elementos padre e hijo.  

Se agregó el mecanismo de filtrado de resultados en las listas por ET en SENSE. [Breaking Change]: El nuevo filtrado reemplaza a los árboles de búsqueda. El filtrado tiene las siguientes características:  Se aplica solo sobre ET y se puede buscar por criterios múltiples: EMDV, Fecha de Creacion y Estado.  En los valores de MDV, en cada metadata se aplica un conector OR (por ejemplo Ciudad Bogotá OR Cali) y entre diferentes MDVs se aplica un conector AND (por ejemplo Ciudad Bogotá AND Tipo Documento). El conector AND aplica cuando se combinan fechas y estados del flujo. El filtrado se aplica sobre todos los elementos listados o cuando se aplica una búqueda por texto. [Known Issue]: MDVs son listas internas.  2. 
Se mejoró el mecanismo de búsqueda en RESUMEN y Lista por ET en SENSE, teniendo en cuenta en las búsquedas por texto, todos los campos en EMDV. [Known Issue]: No se busca todavía por BinaryContent. 3. 
En las agendas de pendientes por Módulo (Resúmen) se tiene en cuenta los elementos creados por la persona actual, que no han cambiado de estado inicial. 4. 
Se ajustó un error grave en la determinación del número de versión menor de un elemento, el cual aumentaba por decenas la parte entera (por ejemplo, pasaba de v2.3 a v23.1) 5. 
Se agregó el LINK a elementos en la vista RO en SENSE (Parte inferior derecha) 6. 
Se creó la posibilidad de agregar metadatas tipo ROList al GRID EDIT y GRID RO, para lo cual debe definir el Feature ShowROListInGrid. 7. 
Se agregaron los campos CreationDate y CreatedByName en la exportación del GRID. 8. 
Se agregaron a la visualización de CreationDate y CreatedByName en el GRID. Para esto utilice el feature ShowCreationDataOnGrid. 9. 
Se solucionó un problema en el cual no era posible sincronizar usuarios entre peers y se empezaban a repetir en ambas partes, cuando no eran sincronizados los grupos. Además, se amplió el timeout de acceso desde el Servicio WIndows a la API Remota.  10. 








Corregida una situación que no referescaba el outstanding task cache cuando se creaba el elemento por primera vez en SENSE. 15. 
Corregido un problema en el cual al deshabilitar un menu de la tabla menu, seguia activo en SENSE. 16. 
[Critical]:  Se corrigió una vulnerabilidad en la administración de usuarios que permitia ejecutar un procedimiento para potencialmente obtener el hash de password de un usuario. 17. 
Se creó el Feature MappedPersonAdditionalInfoMetaData que permite utilizar la página de suscripción asignando valores de entrada de suscripción a diferentes metadatas en el formulario mapeado de la persona. 18. 
Se creó el feature HideSenseTree que permite esconder selectivalmente por ET el Árbol (ahora filtro) de búsqueda. 19. 
El Word combinado y el PDF resultante de Word se generan ahora con el 1er guardado en SENSE. 20. 
Se creó la jerarquía de metadata entre INFOTEXT (padre) y los siguientes tipos de metadata hija (File, Embedded, Lista Interna, Lista Externa, Texto). 21. 
En la nueva versión de un elemento, cuando se clonen los hijos (feature CloneREOnNewVersion), se pueden borrar metadatas en los hijos, selectivamente. Para esto, use el feature DeletableChildMetaDataOnCloning por ElementtypeFeature donde en elementtype debe ir el ET del padre y en Value el Id de la metadata que se borrará. 22. 
Ahora es posible mostrar una serie de gráficas tipo dashboard en el inicio. Para esto se creo la página SENSE/Dashboard.html el cual recibe como parámetros los ids de los items de la tabla Dashboarditem. Por ejemplo Sense/Dashboard.html?ids=1,2,3,56 mostrará los items (gráficas por ahora) de id 1,2,3 y 56. Por ahora solo funcionan Gráfics de barras, gauges y mapas de calor simplificados. 23. 
Es posible definir desde que estado se creará la codificación (AlternativeId) de un elemento (es decir, no desde el comienzo). Para esto defina el Feature FirstCodeApplicationState. 24. 
En swift, ahora es posible definir grupos en vez de usuarios, para la asignación de "Leído y Entendido" . Para esto defina el Feature CheckStatusAssignableMetaDataStaffGroup. Release Notes: SENSE Multi-filter, OTC 
Dashboard v0.1, GRID fixes, Search Fixes.   APLICABILIDAD Y PRUEBAS   1,2,3,5,14,15,16,18,22 General4 NuevaEPS6,7,8 JMC PQR9 JMC que tengan peer remoto.17 Pendiente 19,20 Donde aplique21 Fanalca23,24 Viva   UPDATE 2020-05-05   25 
Se asjustó el mecanismo de surveys II en SENSE que presentaba fallas de operación.26 
Se creó el Feature AvoidNonAdminsToEditResponsibles que permite que solo los administradores (perfil) vean el botón de editar responsables27 
Se creó el parámetro AllowDisablePersonWithOutstandingTasks que permite deshabilitar personas asi tengan tareas pendientes activas.28 
Se ajustó el mecanismo que obtiene los elementos embebidos de un elemento padre en el RO y de paso, el orden de las preguntas en el survey. (conserva el de la plantilla). SPS RE_CompleteListByCriteria y RE_SimpleListFromCache29 
Se ajustaron los embebidos automáticos para que cuando se configure CheckExistentMetaDataForAutoEmbedded, retorne multiples elementos que concidan (no solo el 1ero). De esta forma, se creo el feature AutoEmbeddedExistenceCheckTakesFirst por ET para que solo sea el primero el que traiga.30 
Se ajustó el comando "ver" de los contenidos HTML en SENSE para que los muestre en un panel a al derecha. ShowHTML en mobile/eviewer.js31 
En SENSE RO no tenia en cuenta IgnoreMetaDataParent para mostrar los botones de Vincular embebido. (SP MD_CompleteListByElementType)32 
Ahora es posible copiar metadatas tipo HTML desde el padre a los hijos embebidos cuando estos se crear automaticamente (los que usan "auto" en la definición del embebido)   UPDATE 2020-05-09   33. Se implementó el mecanismo que permite abrir un elemento nuevo, prediligenciado con algunos datos, en el EDIT grid. Para esto, ingrese en la url el parametro DataPairs asi:  user/egrid.ashx?ET=1&CacheName=all&search=123&mdfilter=403&DataPairs=<metadata_1>|; |; ....   por ejemplo user/egrid.ashx?ET=1&CacheName=all&search=123&mdfilter=403&DataPairs=403;2034062|443;1599   En este caso, crear una fila nueva en el grid y pondrá el valor 2034062 en la metadata 403 y 1599 (metadatavalueid en esta caso) en la metadata 443.   UPDATE: 2020-05-28    34 
Se creó un mecanismo para realizar el proceso de doble autenticación (2FA) para personas que pertenezcan a uno o más grupos que lo requieran. Para esto, en la tabla ActionGroup, configure el campo Requires2FAOnLogon en true (1). En esta caso, al iniciar sesión, al usuario se le solictará introducir el código que le llegó al correo, si tal persona pertenece a al menos un grupo que tenga tal condición. El código tiene el tiempo de expiración definido para el 2FA de aprobación (parámetro 2FAExpirationTime). [Breaking Change]: Queda sin uso el parámetro Use2FAForAuthentication.

Se aplicó el estandar PDF/A a la generación de archivos de PDF (incluyendo el firmado de PDF usando firma digital). 
Solucionada una vulnerabilidad a la subida de archivos, que podría potencialmente admitir extensiones con peligro de ejecución remota. 
Corrección al mecanismo de sincronización con Azure Active Directory (cambió el mecanismo de obtención de los usuarios). Adicionalmente, ahora es posible sincronizar contra un grupo específico, para lo cual debe definir el parámetro AzureSyncGroupId con el GroupId asignado por AAD. [Technical Note]: SSO usando AAD no es soportado en Internet Explorer en ninguna de sus versiones por la imposibilidad técnica de cerrar la sesión existente de forma segura. 
Ajustado el mecanismo de forzamiento de cambio de contraseña para que no se la pida a usuarios que se sincronizan con AD o AAD. 
Solucionado un problema en SENSE con respecto a la validación de UseAttachmentSignature, el cual ocasionaba un error de “File does not exist” sin tener relación con el feature. 


Solucionado un problema en el cual la exportación de usuarios a excel/html dejaba unidos los nombres de los grupos a los que pertenece un usuario, desde la consola de administración de usuarios. 
Arreglos varios en la operación del GRID de edición/lectura:  [Breaking Change] Se ajustó el mecanismo de consulta para usar filtros múltiples, en vez del árbol tradicional (funciona de la misma manera que el filtrado en SENSE). En este sentido, es posible buscar por texto y aplicar filtrados por fecha, estado y valores de metadata. Los árboles admiten metadatas tipo selección simple múltiple/simple externos, con jerarquía simple (metadata externa a metadata externa) Se unificó la consulta con la que realiza SENSE, de tal forma que debería traer los mismos resultados si se aplican los mismos filtros. Las operaciones de cambio de estado ahora son asincrónicas: el usuario enviará a realizar la operación y podrá continuar usando la UI sin tener que esperar. Una vez completadas en background la o las operaciones, el resultado de éstas aparecerá en la sección mensajes (botón con el icono de la campana en la parte superior derecha). Se corrigieron los mensajes de éxito/falla en cambios de estado (más significativos y concisos). Se creó el botón “Guardar Todo” que guarda en la vista actual, todos los elementos que están en modo de Edición. Se ajustó la visualización del botón guardar para que aparezca en la parte izquierda y siempre esté visible. Se ajustaron tamaños de textos, colores, anchos y se mejoró el mecanismo de rendering usando una plantilla. Se creó el feature NonExportableFields por ET, para definir el nombre de los campos (uno por registro) que no aparecerán en la exportación.   
Los árboles en SENSE también admiten metadatas tipo selección simple múltiple/simple externos, con jerarquía simple (metadata externa a metadata externa).    
A los árboles SENSE/GRID es posible añadir una metadata tipo lista (interna o externa) para que quedé en el primer nivel del árbol. Para esto, defina por ET el feature TopForcedHierarchyMetaData. Tenga en cuenta que al hacer esto, se estará sobreescribiendo el comportamiento de jerarquía como hijo (es decir, saldrán todos los MDV para esa metadata). 
Se creó en SENSE el botón de pantalla completa para paneles. 
Corregida una situación en la cual los archivos protegidos mediante el prefijo SECURED_ superaban 260 caracteres en la URL ocasionaban un error 404 o 503, según el contexto. 
Ahora es posible que los documentos en formato XML sean convertidos a PDF. 
Ahora es posible que los campos Infotext y calculados puedan pasar información a permisos de elementos (usando WFPExternal). Para esto, separé en el resultado de su cálculo, los valores con ; (por ejemplo 1|;3|;9|). Solo aplica para SENSE/Auto Generados/API 
Ahora es posible que los campos Infotext y calculados puedan pasar información a flujos de elementos (usando ETMDWFTransition). Para esto, separé en el resultado de su cálculo, los valores con ; (por ejemplo 1|;3|;9|). SENSE/Auto Generados/API 
Se unificó el mecanismo de aplicación de ETMDWFTransition para que de manera consistente utilice el mismo mecanismo en la creación y en la edición de elementos. 
Se ajustó página de entrada para SSO. 
Se solucionó un problema en el cual no era posible usar certificados digitales personales si no se tenia definido un certificado global y su llave privada. 
Se ajusto en EDIT (SENSE) la visualización en cajas de texto y HTML , los valores que llevan '' '\' los cuales terminan cortados  
Release Notes: GRID Fixes, AAD Fixes, WFPExternal/ETMDWFTransition multiusers. Aplicabilidad y pruebas: 1. Revisar que la generación de PDF y firma de los mismos, tenga el formato PDF/A 2. Revisión general del mecanismo de subida de archivos en las situaciones donde aplique 3,4. Eficacia 5. General 7. Alpopular, En general probar que la exportación desde la consola de usuarios funciona de forma adecuada. 8. JMC en general 9,10,11,14,15,16 SENSE en general 12 PHQ (CAPA) 13. Eficacia?    

[BETA] Se creó un mecanismo para mostrar en estilo tracking, el avance de un flujo, de forma gráfica. Para esto, configure una metadata tipo link con la url ../Sense/Tracking.html?e={0}|ElementId|sense . Esto mostrará una gráica similar a la siguiente:   Tenga en cuenta las siguientes limitaciones: - La gráfica muestra en secuencia solo en nombre del estado y la fecha en la que se llegó a ese estado. - Si existen devoluciones, las muestra todas. - Solo muestra estados principales y los ordena basandose en NaturalOrder. - Es [BETA]   2. 
Se creó la opción de poder definir "administradores"por grupo. Estos no tienen atributos especiales ni privilegios por defecto, pero pueden ser usados para dar permisos a una persona específica, cuando se haga referencia al grupo (por ejemplo usando un infotext). Para esto, establezca el parámetro UseGroupAdmins en true. Se podrá administrar desde la interfaz de configuración de Grupos. [Technical Note]: La configuración queda en PersonActionGroup.IsAdmin   3. 
Se corrigió un error que repetia los submenus de addons en SENSE si habia mas de un permiso configurado.   4. 
Ahora es posible configurar una metadata tipo Text o HTMLContent para que lea el contenido del resultado de la ejecución de un WebService externo cuando el elemento que lo contiene llega a un estado específico. Para esto configure los siguientes features: - AutoServicedContentMetaDataStatePair: Pareja Metadata,Estado que indica que para la metadata especificada, al llegar al estado especificado, debe consultar el servicio web y colocar el valor correspondiente. Adicionalmente, se deben configurar los features que indican como conectarse al WebService - ServicedServer: URL Servidor del WS, ejemplo https://x.docm.co/TEST/InspektorDummy/InspektorDummy.asmx- ServicedMethodName: Método de consulta, ejemplo LoadWSInspektor- ServicedMethodReturnType: Tipo de dato de retorno. Valores posibles: XML, String, Json- ServicedInputMapping: pareja separada por ; que indica que metadataid corresponde a que parámetro del metodo. Ejemplo Numeiden;9 indica que el parámetro Numeiden debe llevar el valor de EMDV de la metadata 9.- ServicedIsSimpleExecution: indique siempre este valor en true.- ServicedHttpVerb: indica el verbo https a usar. Opciones GET o POST Tenga en cuenta lo siguiente: - La ejecución del servicio web se realizará con el cambio de estado full, es decir, cuando efectivamente el elemento llegue al estado que se defina (es decir, no con cambios parciales de estado como los que se realizan con los estados seriales o paralelos).- La información quedará depositada en el campo de texto o HTML y el configurador tendrá la responsabilidad de ocultar, mostrar o deshabilitar la metadata en cuestión, para evitar se borre su contenido por manipulación inadecuada.- La consulta al webservice podrá utilizar como parámetros, información de metadatas (valores de EMDV) del elemento donde se encuentra la metadata, de acuerdo a lo descrito arriba.- Si la consulta sufre un error (de ejecución, no de resultado del WS), se dejará la información en el errorlog y el resultado de la consulta será un espacio en blanco.   5. 
La API ahora devuelve en el metodo Element(Get) archivos de una o más metadatas tipo file, en . Para esto, configure el feature LoadSerializedFilesOnAPIConsume por MD o ETMD en true. Se ajustó el documento de la API a 1.92 (ver )   6. 
Mejoras visuales a página de administración de usuarios y de grupos.   Release Notes: Tracking Page, AutoServicedContentMetaDataStatePair, LoadSerializedFilesOnAPIConsume, GroupAdmins, ChangeSet 2068. Aplicabilidad y pruebas: 1,6. Todas las aplicaciones 2: Donde aplique 4,5: Valorem  

Se corrigió el mecanismo de consumo de los códigos QR para que puedan ser utilizados como src de imágenes, usando la API asi: WebApi/qrcode/element/src/[ElementId]. Por ejemplo https://x.docm.co/MicroDev/Opain/WebApi/qrcode/element/src/22881 devuelve el código QR para el elemento 22881.   2. 


Ahora los listados por ET en SENSE permiten exportar los resultados a Excel o a HTML. Para esto,, configure por ET el feature ExportableETGroup que indica un grupo (uno por registro de ETFeature) que puede realizar la exportación. La exportación por ahora lo hace con todos los campos convencionales (no embebidos, no archivos) del ET correspondiente. El feature ExportableETGroup también afecta la exportación desde el GRID.   4. 
Se cambiaron todas las librerias de JS y fuentes tipográficas locales a la aplicación WEB y desde ahora no se utilizarán CDN.   5. 
Ahora es posible firmar documentos de forma digital usando un servicio web externo. Para esto, configure los siguientes parámetros:  UseExternalDigitalSigningService:  establezcalo en true si se va a utilizar el servicio web externo, en caso contrario false. ExternalDocumentSigningURL: URL del servicio web que realiza el firmado digital. ExternalDocumentSigningIsSOAP: establezcalo en true si el servicio usa SOAP. En caso contrario establezcalo en false. ExternalDocumentSigningEnvelopTemplate: si usa SOAP, establezca el valor del SOAP envelope dejando en corchetes cuadrados [] los nombres de las metadatas que serán reemplazadas en el envelope. Por ejemplo:    ExternalDocumentSigningResponseFileTag: si usa SOAP, el TAG de respuesta que contiene el archivo firmado, en base64. Ejemplo: mensaje ExternalDocumentSigningResponseErrorTagValuePair: Pareja Tag/Valor que define si la operación fue un error: Ejemplo: respuesta,error. No lo defina si define ExternalDocumentSigningResponseSuccessTagValuePair ExternalDocumentSigningResponseSuccessTagValuePair:Pareja Tag/Valor que define si la operación fue exitosa: Ejemplo: estado:0. No lo defina si define ExternalDocumentSigningResponseErrorTagValuePair ExternalDocumentSigningHttpVerb: Si no usa SOAP, defina el verbo HTTP para el consumo del servicio. en Esta versión solo se soporta GET o POST.  Adicionalmente:  Se debe configurar el parámetro UsePersonalDigitalCertificates en true.  Si el servicio web requiere datos personales para validar la identidad al momento de realizar la firma digital, se debe configurar el parámetro PersonMappedElementTypeId, cuyo elemento mapeado se llenará de forma automática cuando el usuario realice la configuración de su certificado digital. Para que el usuario pueda configurar el mecanismo de firma digital usando el servicio web externo, lo podrá seguir haciendo desde el icono de configuración de usuario y luego en "Certificado Digital". Alli aparecerá un formulario que corresponde los datos que serán enviados al servicio web como parte de los datos personales de autenticación o de validación de la identidad (metadatas tipo lista y de texto del ET mapeado). Si usa SOAP debe configurar el feature ExternalServiceSigningTagMetaDataPair para el ET mapeado, indicando por parejas, que metadata corresponde a que marcador en el envelope definido en ExternalDocumentSigningEnvelopTemplate. Por ejemplo: TIPODOC:1 es el marcador TIPODOC el cual corresponde a la MetadataId 1.    6. 
Los métodos expuestos a través de la API (Versión de documento de API 1.92) ahora dejan registro en OperationLog. Los nuevos OperationType son:  APICheckToken: Cuando se verifica si un token es válido APIReadElement: Cuando se realiza una operación de lectura sobre un elemento. APISaveElement: Cuando se realiza un guardado de un elemento. APIListElement: Cuando se listan elementos APIExecuteTransition: Cuando se ejecuta una transición APISecurityIssue: Cuando un token no puede ser validado, la persona con que corre el método en la API no está autorizada o hay un problema de seguridad. APIGetToken: Cuando se obtiene un token.    7. 
Ahora es posible efectuar operaciones de exportación masiva desde el GRID, usando un excel con ElementIds o AlternativeIds. Al presionar "Exportar" aparecerá el siguiente dialogo:  El usuario podrá subir como se indica, un archivo de excel con IDs y la exportación entonces los tendrá en cuenta para exportar unicamente esos. Tenga en cuenta lo siguiente:  Los elementos deben aparecer en el GRID para que al exportarse puedan ser filtrados. Si desea exportar TODOS los elementos y filtrarlos por unos ID especificos, asegurese de usar los filstros en el GRID de forma apropieada. Si no se sube el excel como se especifica, la exportación no podrá ejecutar el filtro. Las columnas de exportación son las que aparecen en los resultados mostrados por el GRID, con la excepción de metadatas tipo FILE y Embebidas (ver desarrollo no. 8). Se debe configurar por ET el feature ExportCanFilterByIds (valor en true)    8. 
Ahora es posible exportar en el GRID, información de tipos de Elemento que incluyan además los archivos de una o más metadatas y los elementos embebidos definidos por una o más metadatas:  Para poder exportar Archivos físicos, la persona debe estar en un grupo definido por el feature PhysicalFilesExportActionGroup (por ETMDFeature o MDFeature, un registro por grupo). Los archivos quedarán comprimidos en un zip para ser descargados cuando termine la operación. Cada tipo de elemento embebido seleccionado quedará disponible para ser descargado de forma individual en el mismo dialogo, una vez termine la operación. Las columnas exportadas para cada elemento embebido quedarán definidas por metadataids separadas por comas, configurando el feature EmbeddedExportableVisibleFields (por ET embebido). De la misma forma, las metadatas tipo FILE de los embebidos, para que queden en el ZIP general de anexos, deberán ser configuradas por ET usando el feature EmbeddedExportableFileMetaDatas (metadataids separadas por comas). Si existen embebidos a exportar, se creará un archivo con las relaciones entre el ET padre y cada uno de sus hijos     9. 
En los Filtros por ET en SENSE y en el GRID, ahora es posible incluir metadatas tipo TEXTO asi:  Los valores mostrados serán todos los valores de EMDV creados hasta el momento, sin repeticiones y sin tener en cuenta espacios al principio o al final. Si hay 2 valores de texto en EMDV pero con difererentes caracteres mayúsculas/minúsculas, se mostrarán como valores diferentes. El texto se usará para filtrar los resultados, como si se estuvierá buscando el texto propiamente. Para que aparezca una metadata tipo texto en el árbol de filtrado, se deberá configurar en feature TopForcedHierarchyMetaData (definido en versiones anteriores). Tenga en cuenta que si hay demasiados valores de EMDV para la metadata mostrada, el sistema perderá agilidad (usualmente más de 2000).\    10. 
[Breaking Change] Para prevenir creación accidental de elementos mapeados cuando no se requiere, al momento de editar usuarios en la consola de administración de usuarios, se creó el parámetro ActionGroupsToBePersonMappedFromUserEdition que define en que grupos debe estar el usuario para que si el Elemento mapeado no existe, se cree. Esto soluciona el 
Release Notes: SENSE export, Grid advanced export, API logs, Text Filter Trees.   Aplicabilidad: 1,5 OPAIN 3,4,6. General. 7,8,9. Eficacia CD.   UPDATE:2020-11-25 11.  
Se corrigió un defecto en el cual no aparecen elementos que no tienen flujo en los listados. En el caso particular, los elementos tienen permisos para el grupo 1 y para la persona 1. La aplicación, al momento de escribir en permissioncache no estaba teniendo en cuenta registros de elementpermission para esa persona 1 ( los del grupo 1 no quedan en peprmissioncache). Adicionalmente, las busquedas no tenian en cuenta elementos sin flujo con permisos de lectura para el grupo 1.  

Se corrigió el funcionamiento de “Leído y entendido” en SENSE. El botón ahora aparece de forma correcta y apenas el usuario lo oprime, desaparece y muestra que efectivamente ya está leído y entendido. 
Ahora es posible tener un listado básico de pendientes por Leer y Entender (SENSE), el cual aparecerá como un panel a la derecha de los pendientes en la agenda de pendientes general y la del modulo correspondiente. Para esto, establezca en true el parámetro EnableReadCheckablesToDo. Para establecer que columnas adicionales se mostrarán en el listado de pendientes, se debe establecer el feature CheckStatusExtraColumns por ET, donde se incluyen, separadas por comas tales columnas (usar corchetes cuadrados [ ] para cada columna). 
Se reestableció la compatibilidad con SWIFT. Se requiere de ahora en adelante descomentar en el web.config el tag httpRuntime donde dice “Solo para SWIFT” y comentar el que dice “Solo para Sense”: 
Por temas de seguridad se removió un http header (removeServerHeader) en la aplicación. Sin embargo, en algunas aplicaciones esto presenta anomalías en el uso general de DocManager En caso de que se genere un http error 500 generalizado, se debe establecer en el web.config el tag en false:                                                                                                                                           
En SWIFT y SENSE, es posible restringir para que solo el perfil administrador pueda descargar las versiones de Impresión en PDF. Para esto, establezca el parámetro PrintingVersionDownloadRestrictedToAdmins en true. Alternativemente, puede definir que grupos (ActionGroupId) pueden bajar tal versión impresa, para lo cual debe establecer el parámetro PrintingVersionDownloadAllowableGroups con los grupos autorizados (si no se establece el valor, todos los grupos pueden bajar los documentos). Tenga en cuenta que se debe establecer en la tabla FileTypeViewOption para PDF debe ser 3 (PDF.js) y el parámetro ForcePDFToDownload en false. 
Se corrigió el parámetro EnforceUploadExtensions desde la API para que se case-insensitive. 
[Beta] Se creó un mecanismo para mostrar la historia de flujo y una explicación de que transiciones es posible ejecutar y cuales se han removido de la lista, con una semántica básica.                                                                                                                   El dialogo que sale muestra en la izquierda el transcurso del flujo y en la parte derecha se muestra la razón por la cual algunas transiciones se removieron. Establezca el Feature ShowWorkFlowHelpToGroupOnly con los grupos separados por comas que por ET pueden ver tal botón.  




Se hicieron correcciones varias de seguridad en el uso de la API. 
[Breaking Change]: Se crearon unas clasificaciones de permisos para los APIConsumer (Tabla ApiConsumer). De ahora en adelante, se requiere que para cada user se defina si tiene uno o más de los siguientes permisos: Owner, CanRead, CanWrite, SecretlessRead, SecretlessWrite.  Owner: Debe ser establecido para un APIConsumer cuyo personId sea 1 (es decir, el usuario genérico con que se hacen las operaciones del sistema). CanRead: APIConsumer que puede ejecutar operaciones de Lectura. CanWrite: APIConsumer que puede ejecutar operaciones de Escritura. SecretlessRead: APIConsumer que puede ejecutar operaciones de lectura sin necesidad de establecer un SecretId (para esta versión NO hay ninguna operación soportada bajo esta modalidad). SecretlessWrite: APIConsumer que puede ejecutar operaciones de escritura sin necesidad de establecer un SecretId (la única operación por ahora soportada es CREATE). Notas importantes:  Solo puede haber un APIConsumer Owner por aplicaciones. Las operaciones CanRead y CanWrite no son mutuamente excluyentes. Un APIConsumer que es SecretlessWrite o SecretelessRead no puede tener SecretId (debe ser NULL), CanRead, CanWrite o Owner. Para SecretlessWrite, se debe establecer los parámetros ReCaptchaClientCode y ReCaptchaServerCode y se obliga al consumidor de la API para este metodo a implementar la ReCaptcha.     
Corrección en búsqueda por texto en SENSE cuando no se tenia configurado el feature SerchableColumns. 
Corrección en la validación de HTML en la página de “Ayuda de campos de formulario”. 
Solucionado el problema en el cual no deja abrir el cuadro de cambio de contraseña (SWIFT) cuando la aplicación especifica un puerto en WebServerUrl.  Release Notes:  Changeset 2163, ReadCheckables SENSE, API Permissions, SWIFT ASPNET 4.6 Aplicabilidad y pruebas: 1,2 VivaAir 3,4,6,10,11,12,13,14 Donde Aplique 5. EBSA 7. SATO Se debe cambiar en OPAIN el html que consume la API para eliminar el SecretID en la generación del Token y dejar un APIConsumer Secretless para tal fin.

Se hicieron ajustes en el mecanismo del cache para obtener los responsable y quienes pueden editarlos en la interfaz de responsables. 
Solucionado un problema de render de archivos txt que no mostraba bien caracteres tildados. 
Ajustes en el mecanismo del QuickPrint para que se pueda usar correctamente metadata e información del elemento . 
[Breaking Change]: Desde esta versión es obligatorio encriptar el web.config en cualquier ambiente en que se encuentre la aplicación. Saldrá una alerta al iniciar la aplicación, cada vez que se haga un cambio en el web.config, en caso de que no este encriptado. De la misma manera, si la aplicación esta en modo de
=true, también se generará un mensaje intermitente de alerta ( recuerde que en producción debe estar de
=false). 
[Beta]: Se creó un mecanismo para encriptar el web.config (de aplicación y API) directamente desde la aplicación. Para esto entre a admin/adminutils.aspx y diríjase a Encrypt Configuration Files / Decrypt Configuration Files. 
Se creo el feature PriorityTransitions por ElementType en el que se indica la transición o las transiciones prioritarias a ejecutar cuando un elemento está en disputa, estas van separadas por coma(,) y tendrá en cuenta el orden.  
Se realizo ajuste en el mecanismo de la generación de nuevas versiones basados en metadata que ocasionaba que no quedaran las notificaciones en cola cuando estas tenían un auto-avance 
Solucionada una regresión que ocurria con la subida de firmas escaneadas, debido a los cambios en los mecanismos de seguridad de la aplicación. 
[Breaking Change]: El ServiceProcess ObjectCacheCleanup ahora pasa a llamarse ObjectMaintenance y ahora incluye el mecanismo de mantenimiento automático de los índices de tabla de la base de datos. 
Corrección al mecanismo que determina los campos obligatorios que no salían en el cambio de estado (Swift / SENSE). 
[Beta]: Se creó un mecanismo de multi-lenguaje para la interfaz de usuario (SENSE). Ahora es posible que una persona pueda cambiar el lenguaje de la interfaz, sin que esto implique que se cambie el lenguaje de la información guardada en los elementos (esto es, si una persona guarda la información de un elemento en inglés, las demás personas que tiene su interfaz en español, la verán en inglés). La información de nombres de metadatas, valores de metadatas, transiciones, estados. Para esto utilice las tabla que tienen el prefijo “Lang”: Language, LangAppModule, LangElementType, LangElementTypeTransitionInfo, LangMetaData, LangMetaDataValue, LangWorkFlowState, LangWorkFlowTransition. En la tabla language debe configurar el o los lenguajes que se utilizarán en la aplicación, asegurándose que IsBaseLanguage este solo para un lenguaje (el principla) y Enabled en true. Recuerde que cada idioma tiene una tabla de cache diferente, cuyo sufijo númerico indica el idioma al que pertenece (por ejempl CacheTable_26_3 es la tabla de cache del ET 26 del languageId 3). Por ahora solo español, inglés y portugués tienen entradas en la tabla message. 
[Breaking Change][Beta]: Se modificó el mecanismo de almacenamiento en las tablas de cache por elemento para no guardar en ella si no han habido cambios desde el último guardado. Si por alguna razón no funciona bien, se debe establecer el parámetro DisableCacheTableChangesCheck en true.  Release Notes: Multi-language v2, TC save changes, Minor Fiexs, Changeset 2211.   Aplicabilidad y Pruebas 1,3,8 Opain 2,4,5,9,10,12 General 11 KOF México/Brasil. El cambio a multi-lenguaje y mecanismo de tablas de cache obliga a probar de nuevo toda la aplicación, incluyendo el módulo de administración.

Se completó el mecanismo de multilenguaje. Siga las instrucciones de v25, adicional a lo siguiente:  No olvide que para cada feature debe haber su correspondiente en el idioma adicional que se configure. Lo mismo aplica para infotexts y listas externas. Cada persona tiene un PreferredLanguageId en la tabla person. Sin embargo, cada vez que entre, el sistema recordará mediante una cookie, cual es el último lenguaje utilizado. Se debe configurar el feature LangEmbeddedVisibleFields por ET con los campos correspondientes a EmbeddedVisibleFields en el idioma correspondiente. Debe recrear y llenar las tablas de cache de todos los elementos.    
[Breaking Change]: Debido a los cambios en multilenguaje (asi no use), la tabla Menu ahora es requerida de ser configurada de forma correcta, con las siguientes consideraciones:  La tabla Menu es obligatoria para los submenús de Administración. Cada submenú de administración debe tener com ParentId un 1. La existencia en la tabla Menu NO garantiza que se tenga acceso. [Breaking Change]: Para administradores y administradores de seguridad, se debe crear un grupo e incluirlo en MenuPermission para el submenú correspondiente. Debe marcar Enabled=0 a los menus que no se desean mostrar (excepto para Swift, donde además deben tener un valor en OrderBy).   
Se creó una interfaz para OperationLog (Reporte de Operaciones), para ser usada únicamente en SENSE. Esta ahora filtra por OperationType en vez de Permission, de manera que se pueden ver todos los registros que incluyen Intentos de Login fallidos y correctos, operaciones via API, etc. [Known Issue]: Los nombres de las operaciones están en inglés y son obtenidas de la tabla OperationType. 
Se creó un mecanismo para independizar en una base de datos, la escritura de OperationLog y ErrorLog, por temas de desempeño. Tenga en cuenta lo siguiente:  Esto se debe usar en aplicaciones que requieren altísimo desempeño. OperationLog se sincronizará (se copiará) por las noches desde la base de datos secundaria a la principal (Proces ObjectMaintenance). Esto implica que las consultas en el reporte de operaciones solo mostarán hasta lo del día anterior. La tabla ErrorLog no es sincronizada. Preguntar a Desarrollo por el script de la BD. Se recomienda montarla como un Azure SQL Server. Se debe configurar una segunda cadena de conexión en los .config (WebApp, API y Servicio) con el key LoggingStorage : <add key="LoggingStorage" value="Server=tcp:docm.database.windows.net,1433;Initial Catalog=DEV_LOGGING;Persist Security Info=False;User ID=docmanager;Password etc…     Release Notes: Multilanguaje 1.1, Menu Fixes, OperationLog Sense UI, LoggingStorage, ChangeSet 2230  Aplicabilidad y Pruebas:  FEMSA KOF. Probar toda la aplicación.  Todas las aplicaciones. Se debe probar bien que usuarios no tengan acceso a menus administrativos y administradores/administradores de seguridad puedan entrar a los menus configurados Todas las aplicaciones. Eficacia CD. Se debe probar desempeño de aplicación.    UPDATE: 2021-06-21   5. 
Se optimizó el método STORE de la API cuando hay configurado  elementInfo.KeyMetaDataId o el feature CreatableElementUniqueKeyMetaData.   UPDATE:2021-07-12   6. 
Ajustes en el render de página de responsables cuyos nombres salian montados en el borde de la celda. 7. 
El envío de correos no encolados ahora es sincrónico. 8. 
Corrección en el mecanismo de inserción de responsables pues la columna wfpexternalid no era incluida.  9. 
Corrección del mecanismo de validación de complejidad de password que no tenía en cuenta algunos simbolos.  10. 
Corrección mecanismo inserción en la tabla Itemworklowstateconfig pues al tener incorrecta la configuración de OnDueTransition, insertaba erroneamente un 0 en la transición  11. 
Mejora en el mecanismo que determina si hay o no responsables preconfigurados antes de incluir a administradores. 12. 
Corrección en el mecanismo de exportación a Excel para incluir de forma correcta el nombre del archivo exportado    UPDATE: 2021-07-23   13. 
Se corrigen los nombres de anexos antes de incluirse en el excel de exportación . 14. 
En el proceso de exportación se dividen los ZIP en archivos de máximo n MB, donde n esta definido por el parámetro SizeLimitPerExportZip, por ejemplo 1024 es 1024MB o sea 1GB (1 GiB para se exactos).  15. 
Ahora el proceso de exportación se puede configurar por ElementType para que sea offline. Para esto, configure el feature ExportIsOffline por ET. En este caso, el proceso se ejecuta por parte del servicio Windows según se configure en el nuevo ServiceConfig OfflineExportableResultsProcessing. Este debe configurarse para que inicie en horas no hábiles y sin frecuencia. Una vez ejecutado el proceso, la persona recibirá un correo indicandole los archivos a descargar. Por seguridad, la persona tiene 2 días para descargar los anexos. [Breaking Change]: La auto-limpieza de la carpeta temporal se hace para los archivos de más de 4 días. El proceso offline es preferido cuando existe tráfico intenso hacia la base de datos y no se desea que el sistema pierda desempeño. 16. 
Se corrigió una situación en la que el proceso de generación de las copias de PDF de anexos ocurría después de refrescar la tabla de cache, motivado desde la UI. También se ajustó para que el proceso de generación de las copias ocurra desde la API. 17. 


Ahora es posible ocultar el botón de ver columnas (donde aplique) en el GRID para ciertos grupos de usuarios. Para esto defina por ET el feature ForceHideColumnsButtonInROGridActionGroup 19. 
Se eliminó el bloqueo de inserción de password en la página de Login. Para reestablecerlo, use el parámetro DisablePasswordPaste en true. 20. 
Ajuste por el cual en una metadata tipo suggest interno con herencia, aparecia por defecto un valor fantasma. 21. 
Ajuste para que en controles suggest aparezca de manera correcta los valores definidos por ExternalDefaultsQuery. De la misma forma, ahora funciona ExternalDefaultsQUery sin parámetros opcionales. 22. 
Ajuste visual para cuando se usua un link a un elemento especifico en SENSE, no aparezca en el background la agenda de pendientes (blinking). 23. 
Ahora es posible consumir un servicio web externo para inyectar información cuando ocurra un cambio de estado. El consumo de los ws se realiza durate las trancisiones, estos pueden ser multiples durante la misma trancision  Paso 1 en la tabla AppService debe configurar el ws a consumir     en los que tenemos Name = Nombre de WS, Address=URL de WS y configuration= en el que va la configuracion del WS mediante un JSON encriptado el JSON debe tener la siguiente estructura:    {     "Parameters": [   /* Usuario y contraseña de autenticacion en la API */         {             "key": "grant_type",             "value": "password"         },         {             "key": "password",             "value": "escriba_password"         },         {             "key": "username",             "value": "escriba_usuarioAPI"         }     ],     "Body": "x-www-form-urlencoded",     "Credentials": [  /* usuario y contraseña para barer token */         {             "key": "User",               "value": "Uusario_BarerToken"         },         {             "key": "Password",             "value": "password.123"         }     ],     "Configuration": [         {             "key": "TokenURL", /* completa url para generacion del token */             "value": "oauth/token"         },         {             "key": "IsSoap", /* es SOAP */             "value": false         },         {             "key": "AuthenticationType",  /* tipo de autenticacion */             "value": "3"         },         {             "key": "methodURL", /* metodo a consumir durante por la trancision */             "value": "webservice/api/recibirEstadoCandidato"         },         {             "key": "HttpVerb", /* verbo a usar 2=post  */             "value": "2"         },         {             "key": "ClientId",             "value": null         },         {             "key": "EncryptedSecret",             "value": null         },         {             "key": "Secret",             "value": null         }     ],     "ResponseError": "mensaje",  /* captura mensaje error */     "ResponseSuccess": "Respuesta",  /* captura mensaje exito */     "Error": "Error",      "TypeError": "1"  /* tipo de error */ }   una vez realizada la configuracion configurar feature OnWTAppService de la siguiente froma:      el el cual van 3 parametros transicion,AppService,Custom_SP   NOTA: para encriptar el JSON solicitar al area de desarrollo            

[Breaking Change]: Se creó un nuevo mecanismo para el manejo de Surveys con las siguientes características:  Una vez creada una programación de evaluación/encuesta, no se crean inmediatamente los elementos por cada survey asignado. En cambio, estos se crean solo cuando el usuario entra a diligenciarlo. Esto beneficia el tiempo de respuesta. Si se desea utilizar el mecanismo anterior (no recomendado) se debe establecer el parámetro SurveysIsLegacyMode en true. Se agregaron features por AddOn (AddOnFeature) obligatorios SurveyFinishedWorkFlowStateId el cual debe establecer el Estado del flujo donde un survey se considera “terminado” completamente, SurveyQuestionMetaDataId que indica en el ET Pregunta, que metadata representa la pregunta y SurveyAnswerMetaDataId la que representa en el ET Respuesta, la metadata "respuesta". Los surveys ahora funcionan completamente integrados con SENSE, de tal manera que para llenar un survey, se presentará el mismo EDIT en el contexto de SENSE y no el Edit Mobile. En este sentido, tenga en cuenta que debe establecer por ETMDRestriction la naturaleza de los campos infotext que guardan información como el número de intentos y la calificación. Se creó el parámetro EnableSurveysToDo que indica que en el Inicio se mostrará en un panel en la parte inferior, los surveys pendientes de diligenciar por cada persona. [Breaking Change] La plantilla de correo para enviar a los usuarios definida por el feature SurveyAssignationEmailTemplate ahora debe usar el marcador [PersonName] para que sea reemplazado por el nombre de la persona y [Link] para que ubique el link hacia la creación del survey (antes usaba corchetes tipo {}). El correo que recibe la persona que debe diligenciar el survey lo lleva a SENSE a crear el elemento. Si la persona ya lo creó y esta en un estado “borrador” el sistema lo redirigirá a tal elemento. Si la persona ya lo finalizó, solo verá el ReadOnly correspondiente (se deben verificar permisos por estado). [Breaking Change]: Es obligatorio que las programaciones de Evaluación/Encuesta tenga definida una metadata “Título” texto (y se configure TitleMetadata).   
Se pueden crear como metadatas tipo Link reportes tipo lista estilo SENSE (por ejemplo, para surveys) usando en MetaData.Value el siguiente valor:  ../sense/List.aspx?T=[Titulo_Reporte]>&Q=Element%2FExecuteCustomQuery%2F[Nombre_Procedimiento_Custom_Encriptado]%2F%5BElementId%5D&EQ=Element%2FExportCustomQuery%2F[Nombre_Procedimiento_Custom_Encriptado_para_exportar]%2F%5BElementId%5D&E={0}|Sense Donde T es el título (UI) del reporte. Q representa el método de la API y el nombre encriptado del procedimiento (el método por ahora no cambia y corresponde en la API a Element/ExecuteCustomQuery), EQ representa el método de la API y el nombre encriptado del procedimiento para exportación (usualmente es el mismo definido en Q, pero puede ser diferente). tenga en cuenta El nombre del procedimiento almacenado, debe ir precedido de '%2F' (No confundir como parte del Nombre_Procedimiento_Custom_Encriptado). Por ejemplo: ../sense/List.aspx?T=Resultados&Q=Element%2FExecuteCustomQuery%2F5AF9F7B99B4975AC3887D2B7636A7372FC6FEC525078912BCB238A6759729CD1%2F%5BElementId%5D&EQ=Element%2FExportCustomQuery%2F5AF9F7B99B4975AC3887D2B7636A7372FC6FEC525078912BCB238A6759729CD1%2F%5BElementId%5D&E={0}|Sense  indica que el reporte para la UI y para la exportación usa el procedimiento con nombre encriptado 2F5AF9F7B99B4975AC3887D2B7636A7372FC6FEC525078912BCB238A6759729CD1. Fíjese que la URL viene codificada con urlEncode . Si se opta por utilizar la opción EQ, el reporte presentará un botón para exportar, cuya operación se hará en el background y un correo con los resultados le llegará al usuario que lo solicita. Las operaciones que ejecutan Element/ExecuteCustomQuery y Element/ExportCustomQuery dejan registro en el OperationLog.  
Se corrigió un problema en el cual al enviar códigos 2FA estos quedaban registrados de forma incorrecta en el operationLog. 



Release Notes: Surveys 2.5, ChangeSet 2298, API-dependable lists. Aplicabilidad y Pruebas: KOF

Corregida una situación en la cual el filtrado en listados de SENSE no funcionaba si el tipo de Metadata es texto. 2. 
Corrección a vulnerabilidades de XSS en EDIT SENSE. 3. 
Corrección a vulnerabilidad en la cual se permite subir una imágen, pero en realidad es de otro formato de archivo (por ejemplo HTML). 4. 
Corregida una situación en la cual la redirección a páginas internas cuando se utiliza autenticación LDAP, se realizaba de manera erronea. 5. 
Correcciones a vulnerabilidades: Se debe eliminar User/SearchResult.aspx y Admin/AvatarEdition.aspx por considerarse inseguras {BREAKING CHANGE} 6: 
{BREAKING CHANGE}: Ahora es posible parametrizar el tiempo de persistencia de la Cookies de Información General y de Lenguaje de aplicación. Para esto, configure respectivamente los parámetros GeneralInfoCookieExpiration y LanguageCookieExpiration con el número de días. Se sugiere dejar 7 y 365 respectivamente, a no ser que los requerimientos de seguridad del cliente indiquen que no se deben mantener cookies persistentes (con expiración), sino Cookies de sesión, en cuyo caso hay que dejaralas en valor 0. 7. 
Correcciones de desempeño en toda la aplicación:  Se corrigió el mecanismo de guardado de archivos con el formato "ele_" en los contextos donde no existia. Con esto, la aplicación no requerirá casi nunca consultar EMDV para extraer el elementid de un archivo, ya que se inferirá el nombre. Se aplicaron Caches en varios contextos de aplicación. Se eliminaron indices innecesarios en varias tablas Se corrigieron procedimientos almacenados de consultas, guardados, copia de información, etc. Se modificó el mecanismo de timeout de BulkInsert y se implemento la estrategia retry. Se granularizraon transacciones sobre EMDV para disminuir su impacto en el bloqueo de la tabla.  8. 
Corregida una situación en la cual los archivos css no quedan con el mime type correcto. 9. 


Se cambió el mensaje al usuario cuando intenta establecer una contraseña con una cadena de caracteres inválidad (12345, iloveyou, etc). 11. 
Corregidas vulnerabilidades por mantener versiones sin parchar de Jquery. 12. 
Corregidas potenciales vulnerabilidades por CSRF. 13.  
Se creó un mecanismo que a partir de la lectura de buzones por POP3, se guarde el PDF de una factura desde el ZIP en una metadata específica. 14. 
Se creó un workaround para poder mostrar en el menu de la izquierda como item principal de SENSE un link para el listado de evaluaciones pendientes de la persona. 15. 
Se creo un nuevo migrador de elementos basados en StoreProcedure en el cual se deben tener en cuenta las condiciones ya bien conocidas (campos obligatorios: ImportId (único por hoja de excel),CreationDate, CreatedBy, LegacyId(único en la aplicación) ; Responsables de los flujos y CreatedBy se indican con PersonId). Además, se cambió la forma de generar el Excel para llevar a cabo la migración, ahora las hojas indican el ElementTypeId y un embebido se indicará una sola vez sin importar si esta embebido en varios elementos. Para la relación de embebidos se mantiene de la forma habitual, en el cual indica el importId del embebido en celda correspondiente separados por punto y coma (;) 16. FIX Se realizo Ajuste en el sistema de balanceo de cargas el cual siempre quedaba asignado el mismo responsable. Release Notes: CSS, CSRF, Performance fixes, POP3 PDF Metadata, minor fixes. Pruebas y Aplicabilidad: 1,13 Donde aplique 2. Probar muy bien EDIT, en espcial cuando se suben anexos. 3. Probar edición de Avatar 4. Donde aplique probar redirección 6. Probar muy bien el mantenimiento de la sesión cuando los valores son 0. 7,8,11,12. Prueba de regresión completa a la aplicación, incluyendo panel de administración de usuarios y de grupos. 10. Prueba completa de estableceimiento y reestablecimiento de contraseña 14. KOF y donde aplique. 16.PEI  

Se creó un mecanismo para usar cajas tipo suggest, para filtrar información en los listados tipo SENSE, con las siguientes características:  - El texto seleccionado en el suggest se sumará al restro de opciones de filtrado (fecha de creación, árbol de metadatas, estado). - El suggest solo traerá máximo las primeras 30 concidencias. - Los valores que se seleccionen en cada suggest tienen la lógica AND y OR asi: Si son valores de la misma metadata, en la consulta se consideran como OR y si son de metadatas diferentes, en la consulta se consideran AND. - Se pueden utilizar metadatas tipo texto, lista interna y lista externa. - Para las metadatas tipo texto, se utiliza las concidencias que se encuentren en los valores de EMDV de todos los elementos que correspondan al ET por el cual se está filtrando. Si hay más de un mismo valor de texto en diferentes elementos (por ejemplo “Hola”y “hola”) se mostrará solo la primera coincidencia en la lista de opciones. - Para las metadatas internas y externas, se utilizarán todos los valores posibles (MDV en caso de las internas y el de la vista, en caso de externas), asi no haya elementos que los relacionen. - Esta versión no tiene en cuenta la jerarquía de metadatas, ni las restricciones o condiciones para los posibles valores que se pueden seleccionar. - El link a los resultados y la exportación tiene en cuenta la selección realizada. - Para mostrar una metadata como suggest, se debe establecer por MD o ETMD el feature ShowAsSuggestInSenseFilter en true y por lo tanto, si está configurada para mostrarse en el árbol, no será visible allí. - Este desarrollo resuelve o reemplaza  EFICSGI-017 - No aplica para el GRID.    
Se cambió el mecanismo de guardado de permisos, para agilizarlo. (Technical Note): los valores de ItemWorkFlowPermission se guardan en mas y no de forma individual. 
Se realizó una mejora de desempeño en los listados por ET, incluyendo búsquedas y filtrados. 
Se mejoró el rendimiento de la búsqueda de personas cuando se van a seleccionar para darles permisos específicos sobre los elementos. (Technical Note): La consulta anteriormente se realizaba sobre person_list, el cual solo dura 240 segundos en cache. 
Corregida una vulnerabilidad en la aplicación de permisos sobre un elemento específico. 
Se amplió el número de lugares donde se debe utilizar el formato de archivos ele_, particularmente en conversiones a PDF y fusión de bookmarks con metadata. 
Se corrigió una regresión en la cual no era posible acceder a un anexo recién subido desde el EDIT en SENSE. (Breaking Changes): Se eliminaron: la antigua página de configuración de permisos por elemento y el mecanismo de autenticación usando ParentDocManager. Avances de integración con API externas, se unifica configuración para llevar a cabo la integración con las distintas APIs REST que se basan en autenticación OAuth2 y se consumen durante transiciones especificas. Estas pueden ser usadas para enviar y recibir información                         Release Notes: Suggest Filters, IWFP_ADD, Cache_SearchWithOptions, Person_List fixes, ChangeSet 2500.   Pruebas y Aplicabilidad 1,3. Eficacia SGI y donde aplique: Probar todas las combinaciones de filtrado en tipos de elemento, los links a resultados y la exportación. 2,4,5. Donde Aplique: Probar guardado de permisos completamente. 6. Probar fusión de bookmarks con plantillas, PDF resumen y conversiones a PDF desde docx. 7. Donde Aplique. 9. PEI (Integracion Lexis Nexis)    

En SENSE, todo aquel usuario que sea responsable de flujo en el estado actual o que se administrador, puede imprimir el elemento. Para cambiar este comportamiento, se creo el feature por ET WFMemberRequireSpecificPermissionConfig, que define para una pareja workflowstateid,permissionid que el permiso en cuestión (por ejemplo impresión), para ese estado especifico, requiere definirse manualmente. Por ejemplo “3,6” indica que para el estado 3, se requiere definir el permiso 6 (impresión) explícitamente y si no está presente para el usuario actual, se oculta el botón de impresión y el de QuickPrint, si está presente.     
Se corrigió una situación en la cual, los anexos del editor HTML no quedaban con los permisos de lectura correspondientes a las personas o grupos con permisos para el elemento y por ende, cualquier persona podía consultarlos.     
Se corrigió una vulnerabilidad de XSS en el editor HTML. (Breaking Change): La opción de poder incluir archivos PDF desplegables en el editor HTML se considera insegura y no se recomienda su uso. Para aplicaciones que usen esta opción, se debe establecer el parámetro AllowUnsafePDFObjectEmbedding en true. Adicionalmente se corrigió una situación que permitía subir archivos sin estar autenticado, usando una cadena especialmente construida.     
Se corrigió el markup para el indicador de conversión de Word a PDF y del PDF con anexos, por lo que se requiere actualizar los parámetros RealTimePDFVersionMarkup y RealTimePDFVersionMarkupForEmbedded como se establece en la carpeta DB del instalador. (Breaking Change).     
Corrección de vulnerabilidad XSS en el editor HTML de comentarios de cambio de estado.     
El método de la API element/créate ahora tiene en cuenta feature CreatableElementUniqueKeyMetaData o parámetro de entrada KeyMetaDataId para crear un elemento (no lo crea si exite un elemento con el valor existente) y devuelve en el header OperationMessage cuando exista, una razón por la cual no se pudo crear un elemento.     
Corregida una situación en la que se repiten las opciones del menú de administración .     
Ahora es posible seleccionar que columnas son visibles en los listados por Tipo de Elemento en SENSE, con las siguientes premisas:     Solo funciona para listados individuales por Tipo de Elemento, cuando se utiliza Ver Tabla. No funciona para agendas de pendientes. La exportación por ET desde los listados no sufre modificaciones, por lo que seguirá exportando todos los campos. Por defecto tendrá seleccionados los campos que se establezcan el ElementType.ListsVisibleFields. Solo será visible y utilizable cuando se establezca por ET el feature SenseColumnsSelectionGroup que indica un grupo (uno por registro) en el que el usuario actual pertenece. Tenga en cuenta que, por seguridad, solo se debe configurar para grupos que requieran ver TODOS los campos en todos los estados del flujo. No aplican restricciones por grupo o ETMDRestriction.     
Ahora es posible que los HTML de inicio que se definen por ActionGroup, tengan un token que pueden utilizar para obtener a su vez un BearerToken para poder utilizar la API. Para esto, debe utilizar en su HTML el método userservices/staff.asmx/GetBearerToken .     
Se creó el feature por AddOn SurveyToDoListTopMenuActionGroup que indica un grupo (uno por fila) que puede ver el menú de Evaluaciones Pendientes como menú principal a la altura de los modulos, en SENSE. Si no se establece, se debe configurar para que aparezca en el modulo correspondiente.     
Ajuste al clonado de embebidos. Se solucionó un error en la generación de elementos clonados embebidos los cuales tenían configurado el feature RelinkOnCloneWithETMetaDataPair, el cual se presentaba porque no se tenía en cuenta el orden, y para ello se creó el feature OrderEmbedsToClone en el cual se indica los elementTypes Embebidos separados por coma(,), el cual será el orden que tendrá en cuenta. 
Ahora es posible extraer información de una factura electrónica cargada en una MetaData tipo file (XML o ZIP) durante una transición para ello configure el feature “DataExtractionMetadatasFileByWFT” por ET indicando la transición y el feature por metadata MetadataToSendForXmlExtraction que indique cual MetaData contiene la factura. También debe agregar en appservice el servicio “ExtractXML” y demás features que indiquen donde quedará la información extraída. VER CHANGELOG V27 documento Configuración POP3 Extract XML    Release Notes: HTML Editor XSS fixes, SENSE List columns, OrderEmbedsToClone, Minor Fixes. ChangeSet 2514   Pruebas y aplicabilidad:   1 PEI: Probar que aparezca botón de impresión cuando corresponde. 2,3,4,5,7 General: Probar editor HTML, subiendo archivos y desplegando el ReadOnly. Solo las personas autorizadas pueden ver los anexos, aun copiando el link a otra ventana del browser. 6,10 General, probar donde aplique 8 Probar búsquedas combinando filtros. 9 General, probar HTML de inicio 11 Probar NEPS  12 Viva AIR, PEI   UPDATE: 2022-03-22   13. 
Ajuste en el mecanismo de despliegue de valores de EMDV en el árbol de filtro, que erroneamente no mostraba valores hijo en el 3er nivel. Aplica para KOF y en otras apps que tengan árbol en varios niveles.
R28-FT-01: 
Se creó un mecanismo para mostrar los pendientes en forma de calendario, con las siguientes características:  Mostrará para cada día, las tareas que se vencen (de acuerdo a su fecha de expiración del flujo). Debe corresponder al listado de tareas que se muestra cuando se usa una agenda de pendientes normal. Debe establecerse en ActionGroup.LandingPage como página de inicio, usando la siguiente URL: ../sense/calendar.html?ds=4A331EB783C2B633D2FFA861258746B89AFDF1A4E47176D647894CB27D39E1B6 para los grupos que deseen tener esta característica. Se debe crear un registro en CustomQuery para el SP Element_ListToDosForCalendar y darles permisos en la tabla CustomQueryPermission para los grupos correspondientes. Solo tiene la visualización de mes y de semana, aunque se puede hacer clic en un día, para poder ver las tareas que expiran tal día:    Las tareas de la persona se verán en color rojo, independiente de su criticidad. Funciona en español, inglés y portugués. Es posible configurar el calendario para ver los de otras personas (con la precaución correspondiente). Para esto debe configurar en la tabla CustomQuery un segundo SP (el cual puede tomar de la base de datos de desarrollo como modelo y que se llama Custom_SearchUserByCriteria) y darle los permisos correspondientes. Luego, configure la url de ActionGroup.LandingPage como ../sense/calendar.html?ds=4A331EB783C2B633D2FFA861258746B89AFDF1A4E47176D647894CB27D39E1B6&othercalendars=C1F35B5576E8C0DAEDE2B0EA66AA52801D3CA6A805C0EF153A54376F8F218662 (asumiendo que el SP de la consulta es Custom_SearchUserByCriteria ya que en caso contrario, el valor cirfrado de othercalendars debe solicitarse al área de desarrollo). Si esta correctamente configurado, verá un botón Otros Calendarios, que, al hacer clic, ofrece un control suggest para seleccionar las personas correspondientes. Cada persona tendrá un color diferente. Solo se podrán mostrar calendarios de hasta 20 personas simultáneamente. En resoluciones de pantalla diferentes a la desktop, el calendario se adaptará consecuentemente al tamaño (ancho) disponible. La vista de calendario utiliza un token que debe ser renovado cada 20 minutos, por seguridad. Cuando esto ocurre, el calendario le advertirá al usuario que la sesión venció y que debe refrescar la página (la aplicación redirigirá luego de 5 segundos al usuario automáticamente).  Aplicabilidad y pruebas: KOF y en general donde se requiera: Verificar que solo se muestren pendientes válidos, se muestren los requeridos y que funcione de manera adecuada con diferentes navegadores soportados por DocManager.   R28-FBU-01: - 

"Al aplicar filtro por metadata suggest, obtiene los elementos que tiene coincidencia en todas las metadatas”.   R28-FREG-01: 
Corregida regresión en conversión en PDF en tiempo real, en la cual se dañaba el render de la página cuando se usaba el nuevo formato de markup definido en 27.3. Aplicabilidad y pruebas: General, probar conversión a PDF en tiempo real.   R28-FIX-01: 
Se ajustaron varias instancias de la aplicación en SENSE donde se requiere descargar los archivos con el mismo nombre con el que se subieron (metadatas tipo FILE desde RO, EDIT, Listados, Editor HTML y resultado de mezclar Word con metadatas). Aplicabilidad y pruebas: General, probar descargas como se indica (si no funciona, posiblemente requiera reconstrucción de tablas de cache).   R28-FIX-02: 
Corrección en terminación indebida de hilo de ejecución cuando se bajan archivos anexos. Aplicabilidad y pruebas: General, probar descargas de archivos de diferentes extensiones y tamaños de hasta 30MB.   R28-FIX-03: 
Ajustes en la consola de edición de usuarios de SENSE:  Es posible guardar los datos de un usuario actualmente deshabilitado. Ahora se muestra el dominio al cual pertenece un usuario. No se pueden modificar ciertos datos de un usuario cuando este pertenece a Active Directory o Azure Active Directory.  Aplicabilidad y pruebas: General, probar completamente la consola de administración de usuarios, cuando la autenticación es normal, LDAP o híbrida con autenticador DM (AAD).   R28-FT-02: 
Ahora es posible ejecutar la primera transición cuando se guarda por primera vez un Survey asignado. Aplicabilidad y pruebas: Donde sea requerido. Probar completamente el ciclo de vida de los surveys.   R28-FT-03: 
Se ajustó una función no documentada previamente, en la cual se puede abrir una página HTML en el inicio de aplicación dentro de SENSE, indicando un Link. Para esto, utilice sense/landing.aspx?OP=<Página_Encriptada> donde <Página_Encriptada> es la ruta relativa al página, encriptada por el área de desarrollo. Ejemplo sense/landing.aspx?OP=A99AS8FD8A8S8A8S. Aplicabilidad y pruebas: KOF. Probar links externos con usuarios autenticados y no autenticados.   R28-FT-04: 
Ahora es posible tratar los valores de elementos embebidos (por ejemplo, valores de indicador), como 0 (Cero), si el valor es nulo o vacio. Para esto, defina por ET Padre (por ejemplo, en indicador), el feature TreatNullOrEmptyAsZeroInSeriesRendering en true. Aplicabilidad y pruebas: NEPS. Revisar completamente el comportamiento del dashboard de indicadores.   R28-FIX-04: 
Se corrigió una situación en la que se determina de manera incorrecta el MIME Type de archivos con extensión DWG.   R28-FIX-05: 
Se corrigieron algunas deficiencias en la redirección de usuarios desde links externos, cuando el usuario no está autenticado. Aplicabilidad y pruebas: KOF. Probar links externos con usuarios autenticados y no autenticados.   R28-FIX-06-BC: 
(Breaking Change). Por temas de solución de vulnerabilidades, la página de EDIT de Swift devolverá un error 404 0 400, en caso de que se quiera acceder si se está utilizando SENSE. Aplicabilidad y pruebas: General. Probar tales páginas si SENSE está configurado.   R28-FIX-07: 
Solucionadas vulnerabilidades de baja criticidad en Landing de SENSE. Aplicabilidad y pruebas: General   R28-FIX-08: 
Ajustes al mecanismo de consumo de API externas (extracción, creación de elementos, obtención de archivos). Ver Documento manual de consumo de API externas .   Release Notes: Changeset 2552. API-based Calendar.


Se ajustó error en la creación de la creación de plantilla de migración que ocasionaba ciclo infinito cuando un ElementType tenia como hijo uno del mismo tipo. Pruebas y aplicabilidad: General.     

Ajustes en la extracción de información de facturas XML. Ahora es posible extraer diferentes tipos de metadata (Text, Date, HTML, SingleSelection y MultipleSelection). Para ello se cambió la configuración de del feature ExtractValueXML en la que indicamos la ruta JSONPath del valor de la metadata. Pruebas y aplicabilidad: PEI, VivaAir.     

Avances en el consumo de API externas y se actualizó el documento explicativo. Pruebas y aplicabilidad: EficaciaCD. Probar integración SURA y Aportes en Línea.     

Se desarrolló CNT-028-ESP-001 que consiste en completar las capacidades de DocManager de mantener un histórico textual de cambios cuando se guarda un elemento, se modifican embebidos o se cambian permisos o responsables. Esto incluye cambios motivados desde la API. Los cambios están registrados en la tabla ElementHistory.Se debe configurar el feature MustRecordChanges por ET. Pruebas y aplicabilidad: VIGIA. Revisar los reportes generados y contrastarlos contra los cambios ejecutados.     

Se creó el feature SaveConfirmationRequiredWFState que permite configurar por ET, el o los estados donde se requiere confirmación (SENSE) antes de guardar (guardado full, no guardado borrador). Pruebas y aplicabilidad: VIGIA y donde aplique.     R28.1-FBU-01: 

Se ajustó la aplicación para poder de manera adecuada los caracteres & y ' en nombres de elementos y valores de metadata, y consecuentemente poder consultarlos de manera adecuada (por texto). (Breaking Change): El caracter & se guardará escapado en la base de datos, por lo que en los casos que aplique, se deberán actualizar los valores de EMDV y taabla de cache, reemplazando & por & amp ; (sin espacios) . Pruebas y aplicabilidad: General. Probar guardado de elementos con los caractéres descritos y verificar que sean visibles en las consultas por texto. De igual manera, verificar que se sigan ejecutando los mecanismos que impiden guardado de secuencias de caracteres peligrosas.     

Solucionado un problema en el que cuando se hace un filtro y se exportan resultados se descargaban correctamente, pero cuando se remueve el filtro y se intenta exportar nuevamente, hacía la descarga tomando el filtro inmediatamente anterior. Pruebas y aplicabilidad: General.     

Ahora es posible exportar el listado de usuarios desde la consola de usuarios de SENSE. La exportación utiliza el mecanismo de envío del link al email. Pruebas y aplicabilidad: General.      

Se ajustó el mecanismo de consulta del BearerToken por parte de HTMLs en la aplicación, para que no arroje problemas de timeout: (Nota técnica): Este problema debe seguir bajo observación, dado que no ha sido posible reproducirlo directamente en el ambiente de desarrollo de la línea base. Pruebas y aplicabilidad: General. Probar el borrado de elementos sin flujo, el calendario SENSE y HTMLs que utilicen funciones de la API via BearerToken.     Release Notes: ElementHistory full, Users Export, API Consumption fixes, Changeset 2574.     UPDATE: 2022-05-05     

Se ajustaron varias situaciones en las que el filtro por elemento en SENSE arrojaba doble resultados, los filtros por lista externa no funcionban adecuadamente y los links a resultados en ciertas situaciones eran erróneos. Pruebas y aplicabilidad: General            

Se ha reestructurado la nomenclatura que debe seguir el valor en MetaDataValuepara los listados externos (suggest) mediante un procedimiento almacenado cuando se necesita calcular con el ElementId del padre: Custom_ABC {0}|PutativeParentElementId. Además, se ha ajustado la visualización de los valores almacenados, ya que no se obtenían correctamente en los modos de edición (Edit) y de solo lectura (RO).   
El nuevo reporte pivot no interpretaba correctamente la información que contenía etiquetas HTML provenientes de las vistas. Se realizó un ajuste en el procesamiento del reporte pivot para asegurar la correcta interpretación de los datos con etiquetas HTML.   
Se identificaron problemas de saltos de línea inesperados al aplicar la funcionalidad de fusión en documentos de Word, especialmente en párrafos que se contienen en MetaDatas HTML o están configuradas para ser interpretadas como HTML. Se introdujo un mecanismo para controlar los márgenes de fusión en estos casos. Se han creado dos nuevos features por ETMD, MarginFusionTop y MarginFusionBottom, para definir los márgenes superior e inferior, respectivamente, y así evitar los saltos de línea no deseados durante la fusión.   
Se ha llevado a cabo una reestructuración en el procedimiento almacenado PC_AddAll. En esta nueva versión, se ha implementado un proceso MERGE para la inserción de permisos, utilizando como fuente de datos vListForCache. El objetivo principal de esta modificación es optimizar los tiempos de ejecución y prevenir la duplicación de registros en la tabla PermissionCache.  Pruebas y aplicabilidad: General; edición de flujos cuando se requiera agregar permisos en estados.   
En el marco de las mejoras continuas en nuestras integraciones con APIs externas, se ha realizado una actualización significativa en la integración con Adobe Sign. Es importante mencionar que las mejoras “Envío de Archivos a Adobe Sign” : A diferencia de muchas APIs que utilizan base64 para el envío de archivos, Adobe Sign emplea un método basado en form-data. Este proceso genera un ID único para cada archivo enviado, el cual es necesario para etapas posteriores, como el envío de documentos para su firma. Se han realizado ajustes en el mecanismo de WorkFlow External para adaptarse a este comportamiento. Del mismo modo, es posible activar el mecanismo de WorkflowExternal mediante una transición específica. Esta transición se configura en la nueva columna WorkFlowTransitionId de la tabla WorkFlowExternalConfig y son aplicables de manera general a otras APIs que requieran un enfoque similar. Configuración Específica para Adobe Sign: En la columna parameters de WorkFlowExternalConfig, se debe incluir la palabra SendFiles para indicar que se trata de un envío de archivos a Adobe Sign. Las demás columnas de configuración se deben completar siguiendo el procedimiento estándar. Siguiendo las mejoras implementadas en la integración con APIs externas, como Adobe Sign, es crucial considerar configuraciones adicionales para asegurar un funcionamiento óptimo: Esta configuración es para especificar cuáles metadatas de tipo archivo (file) deben enviarse durante la transición y el consumo de la API. Para ello, se debe ajustar el feature MetaDataFileSendExternalAPI por metadata, definiendo claramente los archivos a enviar. Se debe establecer el feature ElementUsesExternalIds por ElementType, asegurando que estos elementos estén correctamente identificados para el proceso. Esta configuración determina la ruta específica en formato JsonPath para localizar el externalID en la respuesta de la API. Para ello ajuste el feature APIResponseExternalIdPath para definir la ruta JsonPath correspondiente. Los externalID obtenidos se almacenarán en la columna ExternalId de la tabla ElementMetaDataValue.  Aprovechando la configuración de las características de WorkflowExternal, es posible definir condiciones específicas para la ejecución del próximo appservice, el envio a firmar. En la tabla WorkFlowExternalCondition, configure las condiciones bajo las cuales se ejecutará el siguiente servicio de aplicación, según lo considerado pertinente. Para el envío a firmas es el método /api/rest/v6/agreements  Ese nuevo Appservice se configura de la manera ya conocida aprovechando los external id en la formación del Json Al igual que en las condiciones, se permite la edición de elementos (tomar de ejemplo PEI con LexisNexis) Recuperación de Archivos: La recuperación de archivos en nuestro sistema sigue un procedimiento análogo al utilizado con DocuSign, enfocándose en la configuración eficiente del AppService y la gestión de las APIs. Inicialmente, se configura el AppService1 para /api/rest/v6/search, ajustando los parámetros necesarios y aplicando los filtros pertinentes. Es crucial configurar el feature ExternalAPIEndpointExecution para este AppService, lo cual señala que se ejecutará en conjunto con el servicio windows. Posteriormente, se debe configurar ExternalAPIEndpointExecutionInChainBasedKey para este AppService. Aquí se especifica la estructura {appService2}|{ruta JSON Path de la colección de agreements}|custom_getMethod. El término custom_getMethod es clave, ya que define el método para la próxima ejecución de la API, enlazándose con la configuración previa. Este enfoque se puede observar en ejemplos de nuestra base de desarrollo. Para optimizar la recuperación de archivos en el sistema, es esencial configurar adecuadamente el siguiente AppService y asegurar la correcta gestión de los documentos. A continuación, se detalla el proceso Se debe configurar el feature ExternalAPIEndpointExecutionInChain para el AppService2. La estructura de configuración será {appService3 }|{custom_getMethod}|{ruta JsonPath del documentId a ser descargado}. Esto establece claramente el flujo de trabajo y los parámetros necesarios para la recuperación del documento. El AppService3 encargado de descargar el documento debe incluir un parámetro adicional en su JSON de configuración: contenttype: None. Esta configuración es crucial y se detalla en el documento de APIs externas. Este paso asegura que el tipo de contenido se maneje adecuadamente durante la descarga del archivo. Configuración para el Auto Avance y Gestión de Metadatas: AwaitsExternalProcessing: Configure el feature AwaitsExternalProcessing por ET (ElementType), especificando {AppServices}|{estado en el que espera}. Esto permite que el elemento espere adecuadamente durante el procesamiento externo. ExternalAPIEndpointExecutionAddOrEditMetaDataValue: Para el AppService3 de descarga de archivos (el último en la cadena), configure {metadata}|{Metadata Llave que contiene el id}|{Metadata destino}|{AppService 2}. Esto asegura que los metadatas se gestionen y almacenen correctamente tras la descarga. AutoAdvanceAfterExternalProcessing: Finalmente, configure AutoAdvanceAfterExternalProcessing por ET (ElementType), indicando si el elemento debe avanzar automáticamente tras el procesamiento externo. Para información de los métodos de AdobeSign ver la respectiva documentación  Aplicabilidad y pruebas a realizar: Ramo   
Ahora en la sincronización de usuarios por Azure active directory o Okta es posible sincronizar grupos por default ya existentes en la aplicación para ello configure el parámetro IdentityProviderDefaultGroup indicando los diferentes grupos a sincronizar separados por coma (,)  Aplicabilidad y pruebas a realizar: FemsaKOF   
Ahora es posible que los usuarios inhabilitados debido al máximo número de intentos fallidos de inicio de sesión puedan restablecer su contraseña. Para habilitar esta función, se debe configurar el parámetro UserEnablementByResetPassword con el valor 'true'. Este mecanismo se aplica a los usuarios creados desde la plataforma y que no hayan sido inhabilitados por un administrador a través de la administración de usuarios. Aplicabilidad y pruebas a realizar: PEI; restablecimientos de contraseñas, gestión de usuarios desde la consola de administración.   Release Notes: Changeset 3162, Adobe Sign, DisabledByAdmin, Okta Groups

Se estableció el mecanismo del ambiente genérico de pruebas generales en la ruta . Para completar la ejecución del release en la DB vacia, se debe aplicar el release a la base de datos asociada (SQL2017/ TEST_DocManagerGen)   
Se ajustó el mecanismo de element/list de la API que presentaba demoras en su ejecución. Pruebas y Aplicabilidad: Aplicaciones externas que usen element/list   
Se creó un mecanismo para no presentar el cuadro de comentarios en los cambios de estado (por transición) SaveWithoutCommentsTransitionId. Para esto, defina por ET, un WorkFlowTransitionId (uno por registro) para el cual no se presentará el cuadro usual. Nótese que esta funcionalidad es diferente a la de SaveWithoutComments en la cual no es obligatorio el comentario, pero el cuadro correspondiente aparece. Pruebas y Aplicabilidad: Aplicaciones que requieran la funcionalidad de no pedir comentarios. La ejecución de la transición debe ocurrir de inmediato.   
Ahora es posible mostrar controles HTMLReadlonly en el ReadOnly. Para esto defina ReadOnlySectionVisible = 1 en ElementTypeMetaData y oculte el titulo (de requerirlo) con el feature HideTitleInHTMLReadOnly. Pruebas: Donde aplique. Revisar visualización correcta del HTMLReadonly, en especial las que tienen HTML complejo (tablas y divs con anchos variables, etc).   
(Breaking Change). Cancelada toda la funcionalidad de ItemWorkFlowTransitionPersonBackup en base de datos y aplicación, por estar mal planteada conceptualmente, ser lenta e ineficaz. Pruebas y Aplicabilidad: Todas las apps. Hay que probar listados y grillas en todas sus versiones.   
Se creó un mecanismo de Auto-Versionamiento de Embebidos basado en Condiciones. Consiste en que se puede designar una metadata embebida para que los elementos allí incluidos cambien de versión, cuando se ejecuten ciertas transiciones en el elemento contenedor (el padre) y optativamente cuando se cumplen ciertas condiciones (valores de lista o texto) en el padre. Para esto, configure las siguientes tablas:  WTBasedAutoVersioningConfig: Configure ElementTypeId (padre) y WorkFlowTransitions (las transiciones separadas por coma que disparan el autoversionamiento. WTBasedAutoVersioningMDConfig: Configure WTBasedAutoVersioningConfigId (id de la tabla anterior), EmbeddedMetaDataId (la metadata embebida) y IsMinorVersion si el versionamiento es de forma (cambio menor). WTBasedAutoVersioningCondition: Configure WTBasedAutoVersioningConfigId, MetadataId y Value o MetaDataValueId (excluyentes), por cada condición que debe cumplir el padre.    Nota: el auto-versionamiento de los embebidos solo ocurre si se cumplen las condiciones normales de versionamiento, es decir, que el estado actual de cada elemento embebido permite ejecutarlo. Pruebas y Aplicabilidad: PHQ SGC.   
Se implementaron 4 nuevos tipos gráficas para dashboard (Pie, Timeline, StackedBar y StackedLine). Para su configuración en la base datos ver documento (Pendiente por subir). Pruebas y Aplicabilidad: Ver 

Se implementó un dashboard genérico multiIdioma el cual cuenta con:  Una gráfica de línea de tiempo, dónde muestra la cantidad de elementos creados por ET en los últimos 12 meses esto filtrado por el id del usuario autenticado. Una gráfica tipo torta que muestra los 12 usuarios con más tareas pendientes en el sistema (Esta gráfica solo se muestra si el usuario es administrador). Una gráfica tipo barra que muestra los inicios de sesión exitosos del usuario autenticado en los últimos 12 meses agrupado por mes en la aplicación. Listado con los pendientes generales del sistema (Sp Custom_Element_ListToDos) Calendario de pendientes  Esta se puede copiar de Test/DocManagerGen/Adhoc/DashboardExample Pruebas y Aplicabilidad: Revisar consistencia de los reportes en los diferentes idiomas.   
Se ajustó una situación dónde en el cuadro de responsables permitía editar los responsables de una transición la cual estaba configurada para que llegaran los responsables desde una metadata (ETMDWFTransition) Pruebas y Aplicabilidad: PEI, General.  (Rollback)   
Se creó un Sistema de envío de correos usando una API en vez de una conexión a un servidor SMTP (por ejemplo Office365/Exchange Graph). Para configurarlo debe tener en cuenta los parámetros EmailSystemUsesAPI: en true indica si el sistema de correo usado es mediante API; EmailSystemBodyByAPIS: Mediante un procedimiento custom debe formar el cuerpo del correo según indique la API utilizada (ver EJ : Custom_EmailAPI base de desarrollo); esta recibe los siguientes parámetros  @Subject (Indica el asunto)  @Body (el cuerpo en HTML) @to (correo destino) @cc (Copias de correo)  @File (files a enviar) @FileResource (archivos recursos del correo)    Ejemplo: EXEC Custom_EmailAPI '@Subject','@Body','@to','@cc','File;[File]|File2;[File2]','FileResource;[FileResource]|FileResource;[FileResource]'   Resultado: {     'message': {         'subject': '@Subject',         'body': {             'contentType': 'html',             'content': '@Body'         },         'toRecipients': [             {                 'emailAddress': {                     'address': '@to'                 }             }         ],         'hasAttachments': true,         'attachments': [             {                 '@odata.type': '#microsoft.graph.fileAttachment',                 'name': 'File',                 'contentBytes': '[File]'             },             {                 '@odata.type': '#microsoft.graph.fileAttachment',                 'name': 'File2',                 'contentBytes': '[File2]'             },             {                 '@odata.type': '#microsoft.graph.fileAttachment',                 'name': 'FileResource',                 'contentBytes': '[FileResource]',                 'contentId': 'FileResource'             }         ]     } } RegexEmailLabels: Indica una expresión regular con la cual se determina el formato de la metadatas. Por ejemplo ((\[)(?!.*?endif)(?!.*?if\s!?mso)(?!.*?if\sgte\s!?mso)(?!.*?x-apple-data-detectors)(?!.*?style\*).*?(\])) indica un match con todo lo que esta entre corchetes exceptuando lo que contenga palabras claves endif, mso, x-apple-data-detectors ya que de esto depende que se pueda ver en diferentes dispositivos de manera correcta. Para configurar los datos de servicio de la API se crea el AppService EmailSystemAPI con la configuracion habitual de APIs esternas basadas en JSON Pruebas y Aplicabilidad: Donde sea requerido.   
Se solucionó un problema en el envío de correos que ocasionaba que quedaran imágenes rotas en los casos que el correo contenía recursos png, jpg o gif. Pruebas y Aplicabilidad: General. Probar Envío de correos desde todos los orígenes, validando la integridad del correo recibido.   
Se implementaron nuevos métodos en Oauth2 (Los cuales que ya existían en Legacy): AddRelatedElement: {{urlBase}}/WebApi/element/AddRelatedElement ExecuteStateChange: {{urlBase}}/WebApi/elementworkflow/ExecuteStateChange/ Workflowtransitionslist: {{urlBase}}/WebApi/elementworkflow/workflowtransitionslist Workflowstateslist: {{urlBase}}/WebApi/elementworkflow/workflowtransitionslist ListMetaData: {{urlBase}}/WebApi/MetaData/ListMetaData ListSelectableValues: {{urlBase}}/WebApi/metadatavalue/ListSelectableValues Ver ejemplo de implementación en el WorkSpace de postman 0b80121c-e813-45b8-b60b-cdb0cf4da71a   
Recalcular antes de obtener permisos no editables, responsables de flujo durante el cambio de estado. Pruebas y Aplicabilidad: Donde sea requerido. Probar configuración de elementos durante cambios de estado, asignación correcta de los permisos y responsables en el flujo    
Corregido un problema de desempeño relacionado con el mecanismo que obtiene información del nombre real de un anexo, cuando este se almacena como parte de contenido HTML. Pruebas y Aplicabilidad: Probar carga y descarga de anexos en campos tipo FILE y parte del contenido de HTMLContent.  Especial atención en Eficacia CD, ya que se busca eliminar las consultas demoradas hacia EMDV que pueden causar locks largos ocasionales.   Release Notes: Changeset 2787, 
OAuth Methods, Dashboard Model, Graph MailSend, WT Based AutoVersioning.   UPDATE: 2023-01-20    
(Breaking Change): Se removieron las referencias al parámetro IsMobile, que no tiene efecto ahora en la aplicación. Aplicabilidad y Pruebas: Entrar con versiones de escritorio, tablet y mobile (max 380px) a la aplicación y verificar que entra a SENSE directamente.   
Solucionados temas diversos en la mezcla de Word con bookmarks: Tabla de contenido, numeración y estilos de Titulos, Subtitulos, etc. Aplicabilidad y Pruebas: Cualquier aplicación que realice fusión metadata-bookmarks. Revisar PEI contratos.     
Se creó el feature HTMLEditorMarkup para que por Metadata (no por ETMD) se defina un markup especial para el editor HTML. Tomar como base el ejemplo de la BD de desarrollo. Aplicabilidad y Pruebas: PEI   UPDATE: 2023-01-20    
UPDATE: 2023-01-31   
Se agregó el feature ExternalApiUseOriginalFileName por AppServiceFeature, para cuando se envíen archivos a API externas (Solo si NO esta configurado el feature ExternalAPIFormDataFilesMultiple) envíe el archivo con el nombre original con el que fue subido a la aplicación. Aplicabilidad: Alpopular (SmartSupervision)   UPDATE: 2023-02-02   
Se agregó un mecanismo para poder utilizar la API con OAuth2 usando http (no recomendado) cuando no es posible utilizar https. Para esto establezca el parámetro AllowInsecureHttpOAuth en true. Aplicabilidad: Donde se este usando http (intranets)   UPDATE: 2023-02-07   29.4.-RB-01: Se hizo rollback de 
por un defecto general.   

Se adicionó a al tabla WTBasedAutoVersioningConfig la columna NewCreatorMetaDataId que define la metadata (en el elemento padre) que contiene el valor del PersonId del elaborador de las nuevas versiones de los embebidos que tienen autoversionamiento, según se define en 
Si no se define, se usará el PersonId 1.   
Se hicieron correcciones finales al mecanismo de conversión de Word/XML/Excel a PDF (metadata destino, incluyendo pdf a pdf). Aplicabilidad y Pruebas: Todas las situaciones donce se convierta automaticamente anexos a PDF (incluyendo copia de PDF a PDF).      

Se modificó la funcionalidad del mecanismo de CanIgnoreStaff (el que permite que para ciertas transiciones en estados tipo serial o paralelo, si una persona ejecuta la transición, automáticamente cambia de estado al siguiente, ignorando a los otros participantes, de haber alguno). Ahora funciona también en SENSE y con las transiciones principales y secundarias. Aplicabilidad y pruebas: Ver 
Dado que se modificó el mecanismo de obtención de tareas en un estado específico, se debe hacer una prueba de humo sobre las transiciones de principio a fin en flujos comunes.   
Se corrigió un potencial problema de seguridad sobre el mecanismo de la API para ejecutar tareas/transiciones, en el momento de realizar la validación de la identidad del ejecutante. Aplicabilidad y pruebas: Probar junto a 
la ejecución normal de las transiciones. (Pentesting) prueba de enviar payload a la API en ElementWorkflow/SaveAction sin el ServiceToken.   
Se creó una opción para que cuando se usa el AppService de ContentRender (renderizado del HTML de reportes y otros apartados de la aplicación que requieren markup exacto cuando se generen los PDF de versión impresa). Ahora es posible incluir el título de la metadata (link externo) dentro del contenido del PDF, estableciendo en true el feature ShowPrintedHTMLMetaDataTitle por MetaData. Aplicabilidad y Pruebas: NEPS y donde aplique.   
Ajustada una regresión, sobre un fallo usando CheckAndProcessEmbeddedAutoVersioning (
que con ciertas configuraciones no funcionaba de manera correcta. Aplicabilidad y Pruebas: Donde aplique 

Se corrigieron varios problemas en la administración de valores de metadata (administración de listados): Permanencia en cache, autoselección de valores dependientes, campos en multi-idioma y repetición de los valores dependientes en la tabla, al abrir y cerrar continuamente. Solución a   Aplicabilidad y Pruebas: Todas las aplicaciones. Se debe probar completamente la página mencionada.   
Se corrigieron problemas en la página de edición de Metadatas: permanencia en cache de la ayuda, valores multi-idioma y layout. Aplicabilidad y Pruebas: Todas las aplicaciones. Se debe probar completamente la página mencionada.   
(EG, HR) Se creó un mecanismo para poder utilizar el importador de elementos en 2 contextos nuevos: desde listados SENSE y desde “ver/editar en tabla” cuando se crean embebidos desde el grid (grilla). En ambos casos, se presentará la grilla para validar la importación. Notas:  Aplican las mismas reglas de completitud del importador en general. Se pueden configurar para grupos en general para toda la aplicación, configurando el Parámetro ImportActionGroups, separando por comas los grupos que verán en todas las listas de SENSE de elementos (no agendas) y en las grillas, el botón importar. De la misma forma se pueden configurar grupos para tipos de elementos específicos, configurando el Feature ImportActionGroup (un registro por grupo). Solo es posible importar tantos elementos se definan en el parámetro ImportLimitOfElements, que por efectos de rendimiento y respuesta, no debería ser superior a 500 elementos. En el modo de importación desde los listados de SENSE, el grid se abrirá e inmediatamente ofrecerá el dialogo de importación. Cuando se importe correctamente, se mostarán solo los elementos importados en el grid. Se puede repetir la operación tantas veces como sea necesario. En el modo de importación de elementos embebidos, al importar los elementos, si estos fueron creados de manera correcta, serán automáticamente vinculados al elemento padre y se refrescará el grid mostrando todos los elementos embebidos de tal elemento padre. Tenga en cuenta que la importación no es una tarea trivial, por lo que es importante obtener comentarios sobre el proceso para mejorar las instrucciones.  Aplicabilidad y Pruebas: Todas las aplicaciones.   
Se agregó la columna IsDate tipo bit a la tabla ETMDWFTransition la cual indica si la configuración ingresada es para bajar una fecha al flujo, para lo cual debe ir 1 como valor; en caso contrario debe ser NULL o 0. Es importante esta configuración para determinar si debe bloquear la edición de los responsables o la edición de la fecha en el grid de edición del flujo (responsables) del elemento. Aplicabilidad y Pruebas: Se debe probar muy bien la edición de responsables, cuando exista la situación en el que se herede información desde el formulario del elemento hasta el flujo.   
Ahora cuando una transición está configurada para que el responsable baje desde una MD (es decir, se herede desde el formulario), si está habilitada la edición del grid, este agregará o eliminará los responsables modificados en la edición del flujo en la MD configurada (EMDV del elemento) y también actualizará el elemento en la tabla de cache si aplica (No aplica para metadatas tipo infotext). Para evitar que no elimine los responsables que se quiten del flujo, configuré el feature DisableDeleteEMDVInResponsibleEditionWorkFlowTransition por ET indicando el id de la transición. Aplicabilidad y pruebas: ver 

Es posible habilitar la edición de responsables cuando exista una configuración en ETMDWFTransition en el grid configurando el Feature AllowDirectResponsibleEdition por ET indicando el id de la transición. Aplicabilidad y Pruebas: Donde aplique.   
Se ajustó una situación en CacheTable.aspx dónde la opción Refresh Files Mapping View no funcionaba. Aplicabilidad y Pruebas: Ejecutar la opción y revisar la tabla FileMap.   
(BETA) Ahora existe un endpoint en la API parameter/guide que devuelve un html con la auto documentación de la aplicación, como parámetros se deben pasar el id del lenguaje y el id del ElementType que se va a consultar.  Para configurar lo que va a mostrar ese html se crearón las tablas GuideConfig y GuideConfigMarkup.   En la tabla GuideConfig configuramos en la columna Name un nombre de gúia y en la columna ShowAsTable se establece 1 si el resultado se desea ver en forma de tabla, o 0 en forma de párrafo, para mostrarlo en forma de párrafo en el Name se debe poner separado de un “|” la cantidad de parámetros que se vayan a pasar.   En la tabla GuideConfigMarkup configuramos el id del registro en guideconfig, el lenguaje a usar, en la columna Markup la estructura en html de la tabla a usar o la estructura del párrafo en html dependiendo el caso, en la columna Title el título a mostrar, y en la columna columns los títulos de las columnas a mostrar en caso de ser una tabla.     En los parámetros:   GuideAdditionalMarkup: Almacena la estructura en html en la que almacena la tabla o el párrafo configurado. GuideAdditionalMarkupStyle: Almacena una etiqueta style con los estilos generados por defecto para la tabla o el párrafo configurado.  Este será el resultado de la API en secciones sin desplegar cada registro configurado en GuideConfig   
Se ha creado un sistema de herencia entre elementos padre e hijos que permite heredar valores del padre cuando el elemento hijo cambia de versión. Para configurare sta función, se utiliza el feature MetaDataToInheritFromPutativeParent por metadata, en el cual seindica la metadata de destino en el valor correspondiente ElementTypePutativeParent en el que indica el ElementType padre que tendrá en cuenta para la herencia y para los elementos con flujo CurrentWorkFlowStateIdPutativeParent para indicar los estados que tendrá en cuenta para determinar el padre del cual tomara la información a heredar (Nota: la aplicación determinara como padre el último elemento basado en a la fecha de creación que cumpla las condiciones suministradas) Aplicabilidad y pruebas: Donde aplique   
Se creó un nuevo método de revincular viejas versiones de los embebidos en una metadata distinta cuando estos presenten una actualización, para ello configure el feature RelinkToPutativeParentInOldVersionInNewMetaData por ElementType (ET Padre) en donde indica la metadata en la que quedara vinculada la antigua versión del elemento. Aplicabilidad y pruebas: Donde aplique   
Se creó una nueva funcionalidad que indica en la clonación de embebido si estos toman la fecha original de creación o usaran la fecha del momento de la clonación. Para ello, configure el feature CloneDoNotUseOriginalCreationDate Aplicabilidad y Pruebas: Especial atención con NEPS.   
Ahora la preconfiguración de permisos es posible indicar si toma toda la configuración al no encontrar coincidencias, para ello debe configurar el parámetro AllWSPreConfigMemberByDefault en true. Aplicabilidad y Pruebas: SARA   Release Notes: ChangeSet 2849, Custom Import, AutoDoc b1, Relink fixes, MD Admin fixes.   UPDATE 2023-03-03   
Se creó una opción para que los campos tipo FILE en SENSE solo permitan subir de un archivo a la vez. Para esto, defina en true por MD o ETMD el feature FileUploadSingleSelection. Si la persona sube un archivo y ya existe uno en la lista, este se seobreescribirá.     UPDATE 2023-03-06    
Se realiza ajuste a la regresion de 
el cual ocasionaba que no se heredaran los valores de ParentElementId.     UPDATE 2023-03-08   
Se agregó la columna de cargo al listado de usuarios del módulo del administrador. Aplicabilidad y Pruebas: Validar que cuando se exporte este la columna con los cargos de los usuarios.   UPDATE 2023-03-23   
Ajustes menores y adicionales al Importador de acuerdo a 

Se ajustó el mecanismo de exportación de listas Custom (tabla CustomQuery) desde la API. Se habilitó el endpoint element/ExportCustomList en la API, la cual recibe los mismos parámetros de element/CustomList. Esto soluciona 
Aplicabilidad y pruebas: Donde se requiera. Tomar de base AdHoc/Generic/Generic.js   
Ajustes menores al layout de la ventana de dialogo de comentarios de transición, para que fuese más claro la obligatoriedad del comentario, en caso de requerirse. Aplicabilidad y pruebas: General   

Se ajustó el mecanismo que ofrece descargar anexos mediante AttachmentDownloadActionGroup. Ahora, si se define ShowLinksInPDF, se podrá en el caso que se requiera, mostrar el botón de descarga del anexo. Por otro lado (Breaking Change), si se configura FuseInContentsInPrintedVersion, esto tendrá mayor prelación sobre ShowLinksInPDF, en cuyo caso si FuseInContentsInPrintedVersion es true, se mostrará el contenido desplegado en la versión impresa, sin importar si en el RO está desplegado o no (es decir, no toma en cuenta ShowLinksInPDF). Aplicabilidad y Pruebas: Genral, todas las versiones de RO y de impresión, con o sin AttachmentDownloadActionGroup, con o sin ShowLinksInPDF, con o sin ShowLinksInPDF y todas las combinaciones.   
Ajustado el mecanismo de escritura de LOG del servicio windows, para que en caso de que haya una falla momentanea en la conexión a la base de datos, no se bloquee el servicio y quede en modo hung/stall. Aplicabilidad y Pruebas: Todas las aplicaciones desde v23 en adelante.   UPDATE: 2023-03-30   

UPDATE:2023-03-31   

UPDATE: 2023-04-03 


Se solucionó un error que ocurre en la conversión en tiempo real de Word a PDF, que genera un mensaje inscrito dentro del documento resultante indicando que es una versión de prueba no licensiada (aspose.words).   UPDATE: 2023-04-11   
Se ajustó el mecanismo de interacción con archivos PDF generados a partir de anexos subidos al Blob Storage, que no se renderizaban de manera correcta.   UPDATE: 2023-04-13   
Ajuste al importador (en el contexto SENSE o GRID) que arrojaba un error de servidor cuando se utilizaba por un usuario no administrador.   
Ajustes en la redirección que fallaba en ciertos contextos: Listados en SENSE, Listados con Filtro, ReadOnly, con y sin autenticación basada en Azure AD. Para este último se requiere actualizar el DMAuthenticator, que saldrá en v29.6.        

Se creó la versión Excel del Functional ChangeLog 
Es posible usar el "Monto Escrito", esto es, cuando se generen documentos de Word (cómo resultado de fusión de plantillas con información de formularios), se puede optativamente adicionar el texto en letras de un número. Ejemplo: 8, se vería como 8 (Ocho). 
Se corrigió una situación en la cual enlazar un formulario a otro (también conocido como "formularios embebidos") no lo hacía de forma correcta en Firefox 
Se corrigió la obtención de tareas pendientes en el sistema 
Se corrigión una situación en el cual la versión de solo lectura ignoraba la jerarquia de controles, es decir, presentaba información que no estaba seleccionada en el formulario original 
Se añadieron 3 caracteristicas al modulo de Contratos (en general, a cualquier modulo que produzca documentos de word): - Comprobación de que el doc de word subido sea correcto - Extracción del esquema (conjunto de titulos, subtitulos y formatos) - Visualización del esquema (únicamente en el Elemento que ""consume"" las plantillas) Restricción: Hay que guardar primero el elemento que consume, antes de poder ver una versión actualizada del esquema" 
Se corrigió/agrego el mecanismoa para copiar direcciones de correo desde los formularios hasta el cuadro de personas notiifcables en los cambios de estado. Esto aplica para el servicio de notificaciones, exceptuando las notificaciones de vencidos 
Se corrigión una situación el el caul el RO salia con formato erróneo (logos) y se amplió el largo de las cajas donde aparecen comentarios. 
Se corrigó la presentación de las columnas con contenido erróneo en las notificaciones especiales 
Se creó una pagina de utilidades de documentos, con la funcionalidad para borrar headers & footers de documentos de word 
Se configuró un nuevo parámetro para determinar la fecha de inicio de las consultas por defecto. 
Se creo la nueva versión del Readonly, basada en un PDF 
Ahora se incluyen gráficos SVG y contenido MHT en editores HTML 
Ahora es posible ocultar cuadros "relacionado por" 
Para que una persona perteneciente a un grupo puedar usar los permalinks, debe crearse el permiso correspondiente 
Se implementó un mecanismo que permite saber cuanto tiempo los usuarios permanecieron en una página de solo lectura 
Ahora crear un elemento y los subitems del menu "listados " aparecen en tabs 
Ahora es posible desligar un control de su control padre cuando se crean elementos "embebidos" dentro de otros 
El RO PDF fue reemplazado por RO HTML.  
Los archivos de word ahora son convertidos automaticamente a HTML en el visor ReadOnly, siempre y cuando sean anexos y esten configurados usando ShowLinksInPDF como false. La versión de impresión continua igual (PDF) Otros 
Solucionados: 







Los archivos anexos (aquellos que se suben o que son generados por el sistema -no los anexos en editores HTML-) se pueden bajar por defecto con el nombre original que le dio el usuario al momento de subirlos. 
Al utilizar las acciones fe lujo del visor ReadOnly Nuevo (HTML) se permite avanzar en cambios de estado sin tener en cuenta los escriptivios de cambio de versión (

Se corrigió una situación en que no funcionaba el mecanismo que trae información de las plantillas HTML a formularios que los consumen (

Ahora es posible utilizar una imágen, en vez de texto, para icluirse como Watermark en la versión impresa del ReadOnly Nuevo (HTML) 
Se corrigió el mecanismode guardardo de embebidos en-linea, el ccual en ciertas condiciones no guardaba. 
Se hicieron correccions menores al despliegue del visor ReadOnly Nuevo (HTML) Release Notes: Original FileNames, 

Inline Embedding fixes, RO fixes. 


Se corrigió una situación especifica cuando imágenes dentro de editores HTML son de formato BMP. Nota: No todos los browsers soportan BMP como formato de imágen en HTML. 
Se mejoró la parte de despliegue de informacion en el visualizador Read Only HTML Nuevo. Ahora los contenidos deben salir en su altura total y es posible ahora expandir o contraer totalmente el ancho de la visualización.  ______  Current Issues: Todavia no se despliega la barra de navegación en FF y los demás errores abiertos. Release Notes: 
ROHMTL Fixes. 

Ahora es posible incluir marcas de agua en los documentos de word generados en el modulo de controatos (en general para cualquier modulo que requiera Fusion de informacción de elementos con plantillas). Info Técnica:  Para esto se debe configurar las columnas WaterMarkAdditionWFStates, WaterMarkRemovalWFStates y WaterMArkText d la tabla doctransformationrule. (CM HR) 
Ya es posible incluir más de 255 controles ordenbales en los formularios, incluyendo el readonly tradicional.  
Se ampliaron tamaños de columnas para manejar situaciones en las cuales hay demasiados controles en los formularios.  
Se corrigió una situación en la cual al tener gran cantidad de metadatas, el sistema se quedaba en espera y no guardaba efectivamente. Para esto se corrigió el mecanismo de guardado de la información de los editores HTML.  
Se corrigión una situación en la cual los reportes jerarquicos presentaban error 400   ______  Current Issues: Todavia no se despliega la barra de navegación en FF y los demás errores abiertos. Release Notes: Fusion WaterMark, 255 Metadatas, HList Fixes Ruta: \\Integradom\registros\DD\I-SWIFT\3-D&D\Instaladores\v5.3\Swift Base 2013-07-18\   

Para el modulo de Proveedores, se envían correo a la dirección descrita para el proveedor. 
Ajustes menores a RO HTML 
Permalinks y links desde otros sistemas usando el RO HTML, a no ser que se establezca de otra forma, apuntan a la última versión (
parte 2) 


Notas de Release: Providers-Email, RO Minor Fixes, Notification Fixes. ----- Esta pendiente que la aplicación funcione el RO HTML con IIS6.


Release notes: Embedded HTML PDF 


El servicio corre los backups si las llaves están configuradas, DBBackupPath (base de datos) y FilesBackupPath (Carpeta Files).
Corecciones de gráfica de calor.
bat s para la instalación/desinstalación del servicio ReleaseNotes: Bundle Mode, Minor fixes  

Se convierten otros tipos de links en los elementos, cuando vienen de classic, al guardar. 
La imágen del logo del cliente usa en la versión impresa PDf usa la del skin 
Cuando se usan PDFs embebeidos en la versión impresa PDF, se muestran ahora como links 
Los links en los campos vinculados encontrados apuntan a la versión correspondiente. 
Las tablas de cache permiten campos computados.  ReleaseNotes: classic links Fixes, PDF Logo, Embedded PDF, Scraped Links fixes, computed columns in cachetables

los links en los correos enviados no apuntan a la última versión    ReleaseNotes: Change the classic links in 
HTML and Zips loaded, Clean HTML tags in Pivot, Minor fixes

Tamaño del zip en solo lectura se ve reducida (en algunos navegadores IE) 
Ya no salen repetidas las secciones de los documentos en el ROHTML, cuando un usuario pertenece a más de un grupo y los grupos tienen entradas en la tabla de permisos de secciones. 
Se corrigió una situación en la cual los flujos que se revierten quedan bloqueados. 
Se agregó un feature HideTitleInHTMLReadOnly que permite se oculten los titulos para los anexos tipo Attachment, en el ROHTML. 
En Firefox ahora sale la barra de desplazamiento vertical en el HTML RO. 
El HTML RO ahora tiene la distinción entre copia impresa controlada y no controlada, además que ahora pide los datos de destino, no. de copias y comentarios. Adicionalmente se añadé al log la operación de impresión. Se añadió el feature UseHighControlledPrinting para tal fin. Se agregó el parámetro DefaultNonControlledPrintedVersionImagePath para definir la ruta de la marca de agua en la versión no controlada. 
El módulo de proveedores ahora NO requiere que el ProviderModel sea SwiftExternal para que se envien correos a los proveedores. 
La apertura de ROv1 y Rov3 depende si el tipo de elemento soporta o no ROv3. Breaking Change: Los permalinks a ROv1 y la versión de edición fueron corregidos para soportar el ROV3 
Se corrigio el CSS base para solucionar algunos problemas de interfaz en IE10 
Firefox ahora funciona con el ROv3. 
Si los permalinks incluyen el nombre de la aplicación, antes no los abria. Solucionado  Notas de Release: ROv3 Zip, Section fixes, FF ROv3, FlowEngine interdependency fixes, ROv3 Printing, Providers External Fixes, Permalinks hybrid model.    

Es posible ocultar el historial de flujo de los elementos, usando el Feature HideLegacyWorkFlowHistory 
Links a PDFs usan la ruta real del archivo, en la versión PDF para imprimir. 
Links a XLS en PDF impreso ahora funcionan. 
Se incluyó un mecanismo de depuración cuando se crean versiones impresas que contengan links a archivos PDF. 
Se corrigió la posición del footer en el PDF para impresión, cuando el PDF incluye la conversión de un doc de word. 
Se corrigió una situación en la cual los links a PDF en Chrome y FF abrían solo simbolos. 
Se corrigió una situación en la cual algunos usuarios podían entrar al ROv3 sin tener el permiso correspondiente 
Ya aparecen los anexos (Files) tipo imágen en el ROv3 
Opcionalmente es posible que las versiones impresas PDF no incluyan activos los links a otros elementos (ya que se suponen son copias impresas). Para esto se debe configurar el nuevo parametro ForceUsingPDFLocalPaths (por defecto es false, solo se deb usar en caso extrictamente necesario). 
CM 

CM 

CM Utilización de resultados encriptados en la página de ejecución de scripts. 
se actualizó la librería que comprime/descomprime archivos zip. 
Es posible definir que para todo el sistema, se utilice el RO legacy, usando el parámetro UseLegacyROOnly 
CM. Los contenidos HTML Inline no se estaban mostrando INLINE en los listados. Se corrigió y se dejó como estaba 
Es posible hacer que el sistema salte los archivos corruptos de word al pasarlos a PDF.  Release Notes: Rov3 Fixes, 
fixes, Ionic library update, sqlscripts pwd. Nota: Tener en cuenta las recomendaciones de usar compilation de
en false en el web.config y la configuración de la carpeta Files en IIS6  

Es posible definir que para todo el sistema, se utilice el RO legacy, usando el parámetro UseLegacyROOnly (esto ya es posible en algunos casos en la versión anterior) 
CM. Los contenidos HTML Inline no se estaban mostrando INLINE en los listados. Se corrigió y se dejó como estaba (esto ya es posible en algunos casos en la versión anterior). SE DEBEN RECREAR TODAS LAS TABLAS DE CACHE QUE TENGAN CONTENIDOS HTML 
Es posible definir si el método de conversión a PDF desde WORD utiliza el archivo original o la versión HTML correspondiente. Se recomienda esta segunda configuración, para lo cual debe configurar el parámetro WordToPDFFromHTML en true.  
Los links a anexos no salen en hojas independientes. 
Se corrigió una situación en la cual links desde archivos PDF a versiones RoV3 abrian y dejaban la aplicación en un loop de ventanas abiertas. 
Se colocaron puntos de depuración en todo el proceso de generación de la copia impresa (ROv3). 
CM Mejora al elimina attachments por el nombre completo. 
CM Separación de opciones avanzadas al hacer y recuparar backups del modo bundle. 

Release Notes: ROv3 fixes, WordToPDFFromHTML alt method, bundle improvs.

Se corrigió una situación en la cual el sistema no es capaz de renderizar documentos de word en el Rov3 
Se corrigió una situación en la cual links a PDFs expuestos en metadata tipo "Contenidos HTML" quedaban con una ruta incorrecta. 
Se adicionó un mecanismo adicional para ayudar a los links a otros elementos que usan ElementViewer a abrir en ventanas diferentes, en el ROv3 
Se refresca el cache de contenidos de los elementos cuando se cambia "parcialmente" de estado (antes solo ocurria en cambios full) 
Se creó un folder en la aplicación web "Diagnostics" que contiene todas las páginas de diagnóstico de la aplicación. 
Se adicionaron opciones de Diagnóstico a la página config.aspx Breaking Change: La página general de diagnóstico paso a Diagnostics/Diagnostics,aspx 
Se creó la página BandWidthTest.aspx, que sirve para hacer diagnósticos de ancho de banda del servidor web. 
se solucionó un problema de compatibilidad en la presentación de HTML ZIP generado desde excel, en IE10 
se solucionó un problema puntual en los permalinks legacy, cuando este viene en diferentes presentaciones. 


Se corrigió una situación en la cual al ejecutar acciones en el ROv3, se requería llenar campos HTML Content y embebidos, que ya tenían valor.  Release Notes: Rov3 fixes, bandwidthtest, WF cache fixes.

Se agregó el Feature PrintedVersionHeader y PrintedVersionFooter, que cuando existe para un tipo de elemento, define el markup (con metadata) para un tipo de elemento específico, en las versiones impresas. Notese que se admiten metadatas entre [] como [Proceso] e información del elemento por ejemplo [ElementName]. En el footer es posible incluir $PageCount$ y $PageNumber$ (Ver ejemplos en BD Desarrollo) 
Se corrigió una situación en la cual no aparecía el titulo del elemento en la búsqueda de embebidos  
Es posible colocar optativamente datos en la primera sección del ROV3, usando el feature RODescriptionSectionItems (ver descripción del Feature) 
Correcciones cosméticas al ROv3 (posición checkboxes, links, scroll opcional de secciones) 
Es posible ahora adicionar y remover el watermark en archivos de word sin realizar fusión. 
Se incluyeron los features ROVersionHeader y ROVersionFooter que sirven de Header y footer especializados en el Rov3 (NO VERSIÓN IMPRESA) 
Corregido error session inválida al ejecutar acción desde el RO, lo que ocasionaba registros en ItemWorkFlowHistory con doble 0 
Correciones varias al modulo de Surveys  


Correcciones al mecanismo de tow en RO legacy (icetex) 
Cache (en bd) sobre los resultados que se generan en las búsquedas del índice.  
Al momento de indexar solo se toman los BinaryContent de los elementos que se modificaron desde la anterior indexación.  (Soluciona consultas que traen resultados adicionales a la búsqueda por código) 
Mejora en la búsqueda por palabra para que no se tome el id del attachment al hacer match del texto buscado.  
Corrección a una situación en la cual el RO legacy se demora mucho en abrir, ocasionado por un acceso latente al listado de elementos relacionados (liberty)  Release Notes: RO/PDF Header-Footer with metadata, nonFusionable WM, Cached index, BC Index fixes, ROv3 fixes, Minor fixes

es posible realizar adicionar o eliminar calificadores en el modulo de proveedores, si el proceso ya está programado. 
El sistema envía notificaciones a personas que son asignadas para ejecutar una tarea, estando el elemento en el estado correspondiente. 




Se corrigió una situación en la cual se requería que para visualizar metadata u otra información del elemento en el ROv3 y el PDF, debía tal información hacer parte del cuerpo del elemento visible. 


Otros 
relacionados con el desplegue del ROv3 
Se aplicaron mejoras en las búsquedas usando relevancias  Release Notes: In-situ notifications, prov qualifiers reassignation, H&F fixes, Search P1



Los links presentes en contenidos HTML que apunten a versiones de solo lectura ROv3 ahora deben abrir en una nueva ventana. 
Archivos PDF embebidos en HTML ya abren en Rov3. Sin embargo, se genero un workaround: links a PDF abren en la misma ventana del Rov3 en chrome, debido a que éste no permite que la respuesta no sea el propio archivo pdf y no una redirección al manejador de seguridad de archivos.  
Se corrigió una situación en la cual al generar un archivo PDF con contenido Excel-HTML, este se bloqueaba al interpretar el CSS de tal HTML. 
Se corrige por CSS una situación en la cual columnas de contenido HTML en los listados se ven demasiado anchas, deformando los listados. Verificar si la clase .HtmlContainer del CSS contiene la siguiente línea: width:expression(document.body.clientWidth > 300? "300px": "auto" ); 
Se corrige la situación en la cual el HTML producido por EXCEL se ve reducido en ancho en la versión impresa del Rov3 


Se añadieron unos botones para ayudar a correr el contenido a la derecha cuando el origen es Excel-HTML 
Los archivos Excel-HTML en la Rov3 salen ahora con los titulos de las hojas de excel de forma individual 
Se corrigió una situación en la cual al crear documentos de word con el modulo de contratos, se generaban 2 archivos word extra sin uso.  
Se corrige una situación en la cual no se establecía de forma correcta el GUID en los archivos de word generados en la fusión, por lo cual no se podían comparar archivos de word que se subían. 
Es posible adicionar/quitar el bloqueo sobre el control de cambios de archivos de word, en cualquier momento. Para esto configurar en DocTransformationRule los campos ChangeControlActivationStates y ChangeControlDeactivationStates 
Es posible ahora bloquear que solo se puedan subir archivos de word creados por la aplicación, en ciertos controles (Ver requerimiento) CM. 


Se corrige una situación en la cual cuando elementos tienen en ltitulo una comilla simple, se bloquea el Rov3 y los listados 
Se creó un parámetro ReplaceHTMLTargets para indicar que cuando se muestren contenidos HTML en el RoV3, se establezcan loslinks (diferentes a tow y anchors) para que abran en una ventana nueva. 



 
Mejoras generales en tabla de cache. 
Se corrigió una situación en la cual el Firefox no salía la barra de scroll vertical en el RoV3  Release Notes: Cache Fixes, HTML link fixes, Excel HTML Fixes, ChangeControlDeactivationStates

Se verifica que un elemento no haya cambiado de estado en otro lugar, cuando el usuario ejecuta una acción desde el Rov3 

Se corrigió la generación de elementos embebidos automáticos, en los cuales el creador era el que creo los elementos plantillas y no el creador del elemento padre.  
Es posible ahora utilizar listas externas con información de correo de proveedores, en el modulo de proveedores. 
Se comprueba ahora si un addon está habilitado antes de realizar una operación de guardado en la versión de edición de los elementos. 




Se implementa el condicionamiento de transiciones en el RoV3 dados ciertos valores de metadata (WTETMDCondition) 
Se implemento el sistema de condicionamiento de transiciones usando valores textuales y formulas. 



Existe ahora una forma para la Edición de Notificaciones, incluyendo Edicion de plantilla de Notificaciones  
Corrección problema cuando no se configura enviar notificación al administrador 
Construcción del e-mail a partir de la nueva configuración de notificaciones Breaking Change: Todos los features de metadata deben incluir de ahora en adelante el LanguageId 

Se corrigé una situación en la cual PDFs migrados embebidos en editores HTML no salen como links en versiones impresas Rov3 
Se actualizó la ayuda a la última versión disponible. En pruebas por favor REVISAR REDACCIÓN-ORTOGRAFíA 
Se pueden ahora usar los operadores mindate y maxdate para formulas de controles tipo "calculado" que utilicen datos de elementos embebidos. 
Ahora los campos calculados se re-frescan al guardar un elemento 
Tipos de metadata fecha ya se pueden usar en embebidos en línea, incluso con validación. 
Tipos de elementos que no tengan mascara de codificación no se ven afectados por el parámetro DeleteElementOnAlternativeIdFailure 
Se creo el Feature DisableRECopyInParentNewVersion que indica para metadatas tipo embebido, que sus contenidos (registros de elementos relacionados) no deben ser copiados cuando se crea una nueva versión del elemento padre. 
Embebidos automáticos (basados en plantillas) ahora se crean cuando se crea una nueva versión de un elemento Breaking Change: Se adicionó al web.config la configuración de las carpetas Files y Temp (buscar   <location path="Temp"> y   <location path="Files"> ) Breaking Change: Se implemento el uso del Feature CreateInLineButton para mostrar el botón de "embebido en línea" en controles de metadata embebida. Por defecto es false, luego hay que establecer en true el valor para las metadatadas que requieran ver el botón. 
Los cambios desde estado de los elementos desde el Rov3 ahora refrescan los listados y la agenda de pendientes de cada modulo. 
mejoras menores en RoV3 
Notificaciones en nuevas versiones y notificaciones a impresores en nuevas versiones. 



Release Notes: Rov3 fixes, WTETMDCondition txt & formula, help, mindate/maxdate emb. formulas, in-line emb date, feature lang, minor fixes.

Se mejoró el control de fecha para que no utilice una ventana aparte sino una dentro de la página llamante. Soluciona problemas de compatibilidad con IE metro y IE10 en algunos PC y tentativamente el 

Se creó la página de diagnóstico de servidor (IO, CPU) y adiciones a la página de prueba de transferencias (se incluyó upload) 
Se corrigó el 
de IE10 para pivot reports  
Se creo la mascara numbersonly que solo adminte números en metadatas pero no incluye formato de miles o decimales. 
Se completó la funcionalidad de consumo de servicios (web) externos (para campos texto. Ver ) 
Se corrigió el layout de tablas con celdas vacias en el Rov3 
Controles metadata de selección simple, cuando son obligatorios, por defecto muestran el icono de obligatoriedad y por defecto muestran el valor [Seleccione un Valor]. Para no usar esta opción, configurar el feature UseLegacyMandatoryListSelection 
Es posible deshabilitar el borrado de anexos en controles de metadata tipo file y displayablefile. Para eso, configure el feature DisableDeletionState (que indica en que estados del flujo se debe deshabilitar el borrado) 
Se implementó el mecanismo de cache para imágenes y skin. Debe actualizarse el web.config 
Se implementó el guardado en el log apenas entra al RoV3  Notas de Release: Diagnostics IO/CPU, UseLegacyMandatoryListSelection, DisableDeletionState, Minor Fixes   UPDATE: Ésta versión tiene un defecto sobre lista de selección simple: guarda en la DB los valores 0 "seleccione uno", por lo que degenera el elemento. Por favor usar la siguiente versión o establecer DisableDeletionState  para todas las metadatas.

Listas de selección múltiple (no suggest) internas y externas ahora muestran los items seleccionados al principio. 
se solucionó un problema en el cual se guardaban valores vacios cuando en listas se seleccioanaba "[Seleccione un valor"].  
se corrigió una situación derivada de la anterior en la cual se ignoraba la validación de campos obligatorios en el cambio de estado del ROv3. Para solucionar esto, abrir y guardar en EDIT los elementos afectados. 
: se corrige una situación en la cual no funcionaba la búsqueda indexada debirdo a un problema en el objectcache. 
Se corrige una situación específica en la cual no quedaban guardados los valores de resultado de los campos calculados. 
Se implemento el esquema de seguridad de las listas, basado en contexto. Esto es, que el usuario solo pueda ver en los listados, elementos a los cuales tenga permisos de ver/ver en listados/editar, tenga responsabilidad inmediata en el flujo, sea administrador, sea creador, etc. Para no usar ésta opción, usar el feature ShowListsToEveryone 
Se implemento un mecanismo para refrescar el cache de permisos de forma masiva, desde la página de tablas de cache. 
Se adicionaron por defecto los MIME Types .msg y .oft al web.config. ACTUALIZAR WEB.CONFIG 
La operación de remover elementos embebidos crea un registro en el operation log con la descripción "Related Element Removal" 





 
Surveys: Notificaciones y Ajustes.  Release Notes: SingleSelection Validation, ObjectCache 
ContextSecurity v1, Calculated MetaData fixes. Update de éste release 2014-01-17  
Se solucionó un comportamiento en el cual las listas suggest de selección única, conservaban en memoria valores anteriores, por lo que esto afectaba la herencia hacia otros controles. 
Se solucionó un problema en configuración de listados en el cual se quedaba "pegada" la dependencia de valores. 
Se solucionó un error inhabilitante (no funcional, no es evidente), en las listas de selección multiple, cuando no tienen valores. 
Se solucionó un problema con la copia de valores de metadata a fecha de flujo: Cuando había más de un valor de configuración hacia una misma transición (un responsable y una fecha por ejemplo) no tomaba la fecha. Fix/
Los elementos sin flujo, al ser creados, ahora incluyen en los permisos, los definidos en el modulo de administración para ver/editar/imprimir/ser notificado, fuera de los actuales (al creador y ver para el grupo todos). 
Se corrige una situación en la cual en el ROv3 no era posible entrar a un elemento sin flujo, a pesar de tener los permisos correspondientes. 
Se implementaron mejoras visuales al mecanismo de edición de responsables. 
Ya no hace falta que haya archivo de de
para que las tablas de cache se creen correctamente 
Se volvió a implementar el mensaje "por favor espere" al abrir un elemento en edit. 
Ss solucionó una situación en la que no se refrescaban los permisos en los listados después de guardar los permisos específicos en un elemento. 

Página de Administración de permisos de campos por formulario (ETMDRestriction) mejorada. Entrar por CONFIG.aspx Breaking change: No es posible usar listados externos con SPs que no comienzen por Custom_.  Caso colmena: RelatedElement_ListByElement {0} etc, no es válido y requiere ser cambiado. De la misma forma, no se pueden usar más de 3 parámetros en metadatavalues, para listas externas con SPs, incluyendo el CUSTOM_XXXX . 
Las lista de selección única y múltiple, internas y externas, ahora pueden utilizar consultas que deshabiliten opciones disponibles, así estén seleccionadas. Esto permite deshabilitar opciones, pero que por motivos históricos se requiera tener en las listas. Para listas internas, al entrar en "configuración de listados", al deshabilitar una opción de una metadata, ésta quedará reflejada inmediatamente. Para listas de selección única, en IE, esto solo funciona desde la versión 8 (dene funcionar bien en el resto de navegadores). Las consultas externas, OPCIONALMENTE,  para hacer uso de está funcionalidad, deben devolver en las consultas un campo llamado exactamente "Enabled", el cual debe devolver 1/0 o true/false 
Para listas externas, éstas son las posibilidades de configuración actualizadas:      
Se creó una página con la UI mejorada para listados. (Breaking Change: No utiliza resultados tipo detalle). Para no usar ésta página, por tipo de elemento, usar el Feature UseLegacyListsPage 
Se adicionó un mecanismo para poder copiar -en notificaciones a proveedores-, a uno o más grupos designados mediante el feature Prov_GroupsToBeEmailed (un id de actiongroup por registro) 
Se adicionó un mecanismo para que cuando se utiliza la característica de elementos embebidos automáticos, estos copien la configuración de flujo básica del elemento plantilla. Las condiciones que se cumplen en este punto son: 1. Todos los elementos plantilla que tengan flujo deben estar en el 1er estado y 2. La persona responsable en todos los estados del elemento embebido quedarán con el ID de la persona que dispara la creación del elemento padre (el que contiene los elementos embebidos). 
Se corrigió una situación en la cual en el ROV3 no se calculaban correctamente las acciones disponibles y permitia ejecutar acciones que no eran correspondientes, dada una configuración de condiciones de WTETMDCondition. De esta forma, ROV3 y EDIT deben mostrar para un mismo usuario, las mismas transiciones posibles, para un estado determinado. 
Corregida una situación en la cual, para una metadata embebdia no visible, sus elementos se desligaban del elemento padre (


Breaking Change: Los reportes tipo PIVOT ahora solo usan 3 tipos de gráficas: Lineas, barras y Pie.  
Se implementó un mecanismo en el cual en lso reportes PIVOT es opcional la gráfica y además, se puede mostrar bajo demanda (botón ver gráfica)  
Es posible que en reportes tipo PIVOT se pueda configurar de tal forma que se puedan abrir los elementos de forma directa, en el último nivel de detalle  
Se implementó el mecanismo de administración de secciones.  UPDATE: 2014-02-12  
Ahora es posible usar columnas computadas, provenientes de cache, en los headers/footers y en la sección "descripción" en el ROv3. Esto permite mostrar la fecha de vigencia o la de cambio de forma/fondo o cualquier otra, en el ROv3 y/o versión impresa. 









Release Notes: Listing.aspx, Separated-logic lists, PIVOT improvements, Autoembedded fixes, ETMDR admin, minor fixes, Prov email copy  

Corregido un problema cuando al intentar abrir el cuadro de permisos en el EDIT, el sistema ofrece guardar. Este guardado no funcionaba y bloqueaba la página. 
Se implementó un mecanismo para mejorar el desempeño de las páginas del EDIT y la nueva página de listados. Para tal motivo se creó el feature ViewStateProvider el cual debe tener el valor de TempFileCachePageStatePersister. Opcionalmente se puede usar el mecanismo tradicional HiddenFieldPageStatePersister o usar cómo último recurso PersistentCachePageStatePersister. Requiere hacer mediciones de desempeño (con tiempos) y fiabilidad (abrir varias sesiones, tabs, manipular jerarquías, etc). 
Se creó un mecanismo para utilizar ciertos Features (se irán anunciando) con ETMD en la tabla ETMDFeature. En el caso en que haya un feature que le aplique a una metadata (MetaDataFeature) pero también a un ElementTypeMetaData (ETMDFeature), prima lo que esté configurado sobre este último. En caso de no haber ETMDFeature, el sistema verifica MetaDataFeature. 
Se creó una sección opcional en el ROV3 "Información Adicional" que muestra opcionalmente Vinculos a otros elementos, Elementos padre donde el elemento es embebido y Elementos desde donde el elemento es vínculo. Los grupos que pueden ver ésta sección están establecidos por el feature ROAdditionalInfoActionGroup (aplicable a ET). Recuerde que este aspecto también se ve afectado por la columna HiddenReferenceFields en ET. Aplica de forma consecuente al PDF impreso. Esto soluciona de paso el 












Act 2318 Mejoras visuales ElementTypeAdmin.aspx parte 1  
Act 2319 Implementar Logo embebido en los correos  
Act 2320 Ordenar anexos alfabéticamente   
Act 2317 Edición de secciones por tipo de elemento  
Se mejoró el mecanismo de selección de columnas de metadata a buscar, en listados 2.0. Ahora oculta información de titulo/tags cuando no se usa y se ordenan (las md a buscar) según el orden el formulario. 
En las búsquedas sobre el ROV3, el término anteriormente buscado ya no se resalta. Queda pendiente revisar funcionamiento en FF y Chrome. 
Para las tablas de embebidos, listas de solo lectura, información adicional, secciónes y anexos, se definió el archivo app_themes/static/RO.css que permite manipular, junto a lo definido en la tabla parameter, las características visuales en el ROV3 y en su versión impresa. Preguntar a HR al momento de la configuración para detalles.  UPDATE: 2014-02-26  





El importador de elementos ahora permite importar elementos con WorkFlow   Release notes: List2 fixes, TempFileCachePageStatePersister, Rov3 additional info, attch sort, minor fixes.

Se creó un mecanismo para que listados internos de selección simple o múltiple, sean filtrados con base en la pertenencia del usuario a un grupo específico. Esto significa que se puede configurar para un MetaDataValue, con que grupos aparece, en la tabla MDVAGRestriction. Esto solo aplica si el feature EnableMDVAGRestriction está activado para la MD o ETMD. Una vez esto suceda, el resto de valores que no cumplan con que el usuario pertenezca al grupo correspondiente, no aparecerán. 
Se creó una versión preliminar de la asignación de permisos por elemento, para ser usado inicialmente en el ROV3. Si no se desea usar, ajustar el feature HidePermissionsButtonInRO por tipo de elemento. Nota: ésta versión preliminar solo muestra los permisos editables, es decir, no muestra los permisos heredados de metadata. 

No se pueden eliminar files cargados en un elemento. 

Data en Gráfica Pivot desaparece al ampliar 
Se mejoró el tiempo de respuesta para consultas en los listados v2, cuando el indexamiento está activado. Fixes: Ajustes menores.  Nota: El Archivo RO.css (en la raíz del instalador) es para clientes que no lo tengan aún. En tal caso, debe copiarse a App_themes\Static UPDATE: 2014-03-14   
Se creó un nuevo tipo de operador concat para campos calculados, que dependen de datos de embebidos. Éste entrega de forma concatenada, los valores de una o más metadatas de los elementos embebidos. Un ejemplo de la formula es: concat(rm[208],rmv[1,14])     que significa que para la metadata tipo embebido 208, se concatenarán los valores de metadatas 1 y 14 de los elementos embebidos. Esto entregará una cadena como la que sigue: "Colombia (en español)  - Ecuador". Los separadores de valores de metadata, de las propias metadatas y de los elementos concatenados, están definidos por los features ConcatValSeparator, ConcatMDSeparator y ConcatRowSeparator respectivamente. 
se integro al proceso de corrección de html-zip al momento de subir, el que corrige los links tipo tow, para que sea removido el target=blank en ellos y el tag con la misma función que se define a nivel de documento. 
Se solucionó una situación específica en la cual no se refrescaba el cache de permisos al utilizar el nuevo botón de permisos en el ROV3 Hot
Se ajusto el esquema de colores de mapas de calor, para que "No tolerable" sea (val >= 15). Pendiente desarrollo para parametrizar este tema 
Se implementó un mecanismo que permite mostrar metadatas tipo ReadOnlyList en los listados. 
Se ajustaron los "link desde otro sistema" en el ROV3, que en algunas ocasiones no mostraba el puerto http. 

Error al ingresar a sitio DocManager 

No importa elementos 

No se muestra la misma información en la agenda de pendientes 

No se exporta reporte  Release Notes: Permissions v2, MDVAGRestriction, Indexing fixes, Minor fixes, Concat, Imp/Exp Fixes


No funciona FusionOverWrites 
Se corrigió la forma en que se muestran labels del eje X en las gráficas chart embebidas. De la misma forma, se muestran todos los labels correspondientes. Nota: se requiere configurar de forma correcta el título de los tipos de elemento teniendo en cuenta que si HideTitleBox es true, no se debe usar TitleLabel y se debe establecer un TitleMetadata. 
Se implementó un mecanismo para poder mostrar en el EDIT gráficas Chart filtrable por fecha. Para esto se crearon 3 Features: ChartUsesDateFilter, que determina si la metadata debe usar o no filtro por fecha. ChartFilteringIniDateColumn determina la columna de metadata del embebido que se filtrará como fecha inicial. ChartFilteringEndDateColumn determina la columna de metadata del embebido que se filtrará como fecha final. ChartDefaultDataCount determina el número de datos que por defecto. Si se usa con el filtro de fecha, deberá automáticamente determinar las fechas inicial y final de filtro. ChartFilteringIniDateColumn y ChartFilteringEndDateColumn solo son aplicables si ChartUsesDateFilter está implementado. 
ROV3 ahora permite ver el chart con un link a opciones de filtrado. 
Se puede usar la clase de estilo ROListTable Generic.CSS para las tablas embebidas en los listados. (si no está la clase en el css, revisar con HR) 
Listados embebidos usando Tablas de Cache  

No actualiza Word 

No importa modulo 
Se modificó internamente la creación de embebidos in-line, por lo que requiere ser probado completamente. 
De manera provisional se colocaron links a pestañas separadas en los embebidos del ROV3.   Release Notes: Embedded Charts Filter and fixes, Transformation Fixes, mini edit cx, Embedded CT tables. PD: Classes del Generic.CSS para mostrar en listados los ROLists: /* @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */ /* Embedded Tables */ .ROListTable    { font-size: 10px; border: none 0px; margin-top:1px; width:100%} .ROListTable th { background-color:#CECECE; font-size: 10px; padding: 0px; border: none 0px; } .ROListTable tr { vertical-align:top; padding:0px; border: none 0px } .ROListTable td { vertical-align:top; padding:0px; border: none 0px; width:100px }


Se muestran opciones de lista sin estar en grupos configurados 

Diferentes funcionalidades. 
El sistema no ejecutaba FusionOverwrites cuando se borraba el word existente. En estos casos, toma de nuevo la plantilla. 
Todas las ventanas emergentes de los editores HTML ahora abren en DIVs flotantes, en vez de popups. 
Listas de selección simple y múltiple ahora remueven valores deshabilitados, salvo si el (los) valor (es) está(n) seleccionado(s) previamente.  

Al crear un indicador con sus respectivos valores no muestra la grafica en el edit, pero al buscar en los listado la grafica se muestra en el RO 
Tablas de embebidas en ROv3 muestran ahora los nombres de columnas de forma correcta, no los que por defecto usa la base de datos. 
El nuevo cuadro de permisos ya está disponible en el EDIT. Para no usarlo allí (y para usar el anterior), establecer para el tipo de elemento el Feature UseLegacyPermissionsBox. Nótese que en el EDIT y en ROV3 se utiliza el mismo cuadro, de manera que los cambios realizados son guardados de forma automática (esto es, en el EDIT no se requiere presionar "Guardar"). Cómo en algunas configuraciones de tipo de elemento se heredan permisos desde la metadata, estos se muestran en un cuadro en la parte inferior. Para esto último, establezca el Feature UseROPermissionsTable 

No se muestra ROList en Embebido  
El botón de crear embebido en ROv3 ahora sale si el usuario tiene permisos para crear el elemento embebido y ETMDrestriction lo establece como visible y editable. 
Limpieza de código fuente en ROV3. Por favor revisar permisos en botón Editar y log de lectura del elemento en ROV3 

No se muestran en orden las secciones en el RO  UPDATE: 2014-04-22   
Limpieza de código 
Al momento de crear logs de operaciones, se verifica la sesión y si es el caso, se re-crea. 
Se completó el mecanismo de soporte de FullSSL, incluyendo redirección automática de http a https. 
Ahora aparecen las gráficas chart en el EDIT apenas se guarda el elemento (no requiere refrescar) 
Ahora aparecen los elementos vinculados en el EDIT apenas se guarda el elemento (no requiere refrescar) 
Se mejoró la actualización de contenido proveniente de Classic al momento de guardar el elemento (ReplaceClassicLinks).  Release Notes: FusionOverwrite fixes, Chart fixes, Permissions v2 completed, ROv3 Embedded Button permissions, Full SSL

Se creó un mecanismo para llenado rápido de elementos, denominado LiteEdit (Light Edit). Este tiene las siguientes características:               - Permite CREAR elementos desde el EDIT y desde el ROV3.              - Hace validaciones de campos obligatorios              - Hace validaciones en campos fecha y en campos texto que utilizan expresiones regulares.              - Sirve con las metadatas tipo: Text, SingleSelection, MultipleSelection, Date, MultiLineText (pero como una sola línea), ExternalSingle, ExternalMultiple y HTMLContent.              - 99% de los elementos visuales son modificables por CSS                   Esta versión NO INCLUYE:                - Jerarquía de Metadata              - Otro tipo de metadatas a la especificada.              - Validaciones de otro tipo a las especificadas.              - Edición de Elementos.              - Información de flujo (aunque si crea todos los datos del flujo del elemento)     Para usar el LiteEdit para elementos embebidos en el EDIT (a cambio del Edit-en-línea), usar el Feature InLineButtonUsesLiteEdit (por metadata EMBEBIDA). Para usar el LiteEdit en el ROV3 (a cambio de abrir una nueva pestaña) use el Feature UseLiteEditInROWhenEmbedded (por tipo de elemento EMBEBIDO)      
Se impementó el registro en la tabla SystemOperation del llenado de tablas de cache.  
Se mejora el rendimiento de las tablas de cache excluyendo las metadatas tipo html (BinaryContent) que no se vayan a mostrar en los listados. Depende de ElementTypeMetaData.NonCacheable  
Se mejora el rendimiento de las tablas de cache al poder obtener externos (ReadOnlyList) de forma masiva. 
Se mejoró la generación de consecutivos de los alternativeId. 
Se tiene en cuenta el estado para enviar las notificaciones de devolución y seriales.    Release Notes: LiteEdit 1.0, SystemOperations Cache, CT improvements, CodeManager fixes, Notification fixes.  

Ajustes ROv3 en todas las listas de la app 
Las personas seleccionables para ejecutar tareas en el cuadro de responsables ahora solo pueden ser las habilitadas 
Se corrigió una situación en el LiteEdit en cual no presentaba de forma correcta las listas de selección múltiple. 
No funcional: se hicieron mejoras en la manera de mantener el listado de grupos de usuario en la sesión. 
Se calculan los campos ElementInfotext y los calculados de los embebidos automáticos en su creación. 
Se incluyó un el tipo operador sd (desviación estándar) de campos calculados que usan embebidos. Ejemplo: sd(rm[81],rmv[77]) Calcula la desviación estándar de los EMDV 77 de los elementos que corresponden a la metadata embebida 81. 
Se incluyó el feature HideSearchButton para ocultar el botón "buscar" en embebidos (por metadata o ETMD) 
Se implementó un mecanismo para guardar los cambios de valor de una metadata en un elemento. Para esto, habilite por Metadata o ETMD el feature UseEMDVStamp. Adicionalmente, se implementó un mecanismo de notificaciones (que corre con el servicio de rutinas) basado en los cambios de metadata (que se activa con el parámetro Use EMDVChangesNotification). Éste envía al siguiente responsable un mensaje (configurable desde la consola de notificaciones) sobre el cambio de la metadata. Una vez hecha la notificación con respecto al valor anterior, no se vuelve a notificar. El nuevo tipo de notificación es EMDVChange. 
Es posible utilizar una serie nueva de datos en las metadatas tipo chart. Para esto, utilice el feature ExtraSeriesInfo (por metadata) y configurelo asi: <ColumnaX>,<ColumnaY>,<Tipo de Gráfica>. 
Se implementó el guardado de logs de acceso a la aplicación. 
Se implementó un mecanismo para usar la página de login para validación de credenciales de sitios addon cuando están fuera del dominio de aplicación. Para esto, las aplicaciones externas deben redirigir a default.aspx con el querystring addon=xxxxx y Redirecturl=yyyyyy y la aplicación devolverá un token de validación guardado en operationlog. 
Los archivos en la raíz de al carpeta TEMP solo se borran si tienen 2 dias de vida al menos.   ChangeLog: Calculated Field Improvements, AddOnRedirect, SD, Minor features.

Los cuadros de cambio de password ahora obligan el uso de password seguro. Probar con autenticación normal y SSL. Breaking change: La creación de usuarios ahora no permite crear el password de forma inmediata (en la pág de admón de usuarios). Para establecer el password, crear primero el usuario y luego establecer el password con el botón en la grilla. 
Reset password. De acuerdo a las prácticas de seguridad recientes, el sistema ya no envía por correo el password en caso de olvido. En el caso correspondiente, el sistema envía un correo al usuario con un link para que pueda reestablecer su contraseña. El link tiene una duración de 7 días, que al vencer tal plazo, el usuario debe solicitar de nuevo otro link (puede hacerlo desde la página de inicio). No es posible utilizar el link de otra persona. 
Los passwords ahora deben tener la característica de "fuerte", es decir, tener mínimo 8 caracteres, incluir una mayúscula, un número y un símbolo. Esto también basados en las prácticas mínimas de seguridad y no es opcional. 
Para usar la característica de reestablecer la contraseña para todos los usuarios (incluyendo el usuario de soporte), entrar a la página de diagnóstico y buscar la opción First Password Advertencia: Esto tiene efectos irreversibles. 

Se puede imprimir el contenido desde el RO V3 sin tener permisos 
En transformaciones que deriven en documentos de word (módulo de contratos) es posible ahora definir tipos de elementos que, al ser embebidos ( y hereden desde el padre un anexo generado por la transformación) la utilización de los bookmarks definidos por el último elemento-plantilla utilizado en el padre. Deben cumplir las siguientes reglas: 1. WorkFlowState.AllowTemplatesFusion en las transiciones requeridas. 2. Registrar una regla en DocTransformationRule usando como MasterTemplateElementTypes el o los mismos del padre y además debe tener una metadata definida en VersioningMetaDataId. 3. Debe configurarse el feature UseParentMasterTemplateForBookmarks por AddOn, en el que se definen los tipos de elementos embebidos que requieren esta característica. Ver Base de datos DEV01\SOS_HR2 para el ejemplo. 

No calcula promedio ni desviación estándar ni Meta. Se corrige una situación en la cual los campos calculados fallan alguans veces al ser usados en otros campos Calculados. 
Las acciones de flujo ejecutadas en el ROv3 ahora ejecutan la fusión del archivo de word (e.g. contratos) directamente. 

Error al generar un comentario obligatorio. Workaround: 
No se pueden cerrar las pestañas de ROV3. Se implementó un mecanismo de cierre de las pestañas utilizando un descriptor adicional de iframes. 
Se creó el SP Element_Kill_ByAppModuleAndET que permite eliminar elementos por AppModule or ET  

(no reproducible).   Release Notes: Password security fixes, Attachment media print, UseParentMasterTemplateForBookmarks, Transformation on Rov3, fixes. 


No se conserva el orden en metadata Externa 
Se refrescan los listados en cambios de responsables. 
Las gráficas de chart pueden usar columnas con nombres Unicode 
Las gráficas tipo chart ahora ignoran datos "-" y ponen 0 

Cada vez que se guarda un elemento hijo putativo (embebido) se crea un nuevo registro en RELATEDELEMENT 

No genera permisos para los embebidos automaticos 

Bloqueo de elementos al cambiar tipo de tarea 

Mejora. No 
No se envía notificación de cambio de valor de metadata 
Se creó una página para consultar los GUIds de todos los usuarios de una ruta LDAP. Disponible desde la página de configuración. 

Cálculo de FECHA DE VIGENCIA 

Error 7167. Ahora se calcula de forma correcta el primer folder que contiene información sobre los htmls que componen las hojas de un Excel-HTML 
Prototipo funcional básico del calendario. Uso: CalendarRender.aspx?S=TablaFuenteDeDatos&I=[ColumnaFechaHoraInicio]&E=[ColumnaFechaHoraFin]&L=[Label].             Ejemplo: CalendarRender.aspx?S=CacheTable_89_1&I=[Fecha y Hora de Inicio]&E=[Fecha y Hora de Finalización]&L=[Nombre de la actividad]  
Solucionado de forma definitiva el problema en que el ROV3 pedía llenar datos de la operación de flujo a pesar de que el usuario los ingresaba. 
Se solucionó un problema en el cual no era posible vincular elemementos usando el botón correspondinete en el editor HTML, cuando el tipo de elemento vinculado usa ElementName como titulo del elemento. 

. Se envía mensaje erroneo en notificación 

. Se envían notificaciones en plural 

. Se muestra un cuadro de aprobaciones muy largo 
Solucionado el punto 3 del 
(Problemas de contenido PDF)  Release Notes: Calendar Beta, Fixes.
UPDATE 2, VER ABAJO.    
Es posible ahora cambiar el skin de aplicación (archivo .css) de acuerdo a la pertenencia a un grupo:             - Los archivos .css personalizados deben ubicarse UNICAMENTE en la nueva carpeta Styles, creando allí una subcarpeta:        Y ubicar el archivo .css dentro de la subcarpeta. Se pueden crear tantas carpetas como sea necesario, dejando un único .css por cada carpeta. - (Nota técnica: Se creo un THEME sin css, en App_Themes/Empty. Este se usará de ahora en adelante en vez del tema genérico. No ubicar nada más en esta carpeta.    En el resto de la aplicación no se deben usar otros archivos .skin. Copiar el .skin de App_Themes/Generic a App_Themes/Empty cuando sea necesario) - En la tabla ActionGroup, se crearon los campos StyleFile, IsPreference y Logo:    StyleFile define la ruta del .css , para ese grupo. Ejemplo ../Styles/Corporation01/Corporation01.css   IsPreference define, en caso de que un usuario pertenezca a más de un grupo, cual es el .css que prima sobre los demás   Logo es el NOMBRE del CompanySkin (siguiendo la misma regla de CompanySkin de parameter) que se mostrará en el caso correspondiente. Ejemplo Nestle    (No usar nombres de archivo completos, el sistema adiciona la parte _Logo.gif cuando sea necesario). Ubicar como siempre los logos en la carpeta Images/Custom - En esta fáse, los skins no cambian los juegos de botones. - El css debe tener las mismas clases que el .CSS generico - En caso de no definirse un .css para un grupo de un usuario, éste seguirá usando App_themes/Generic/Generic.css - En caso de que por ejemplo un usuario pertenezca a dos grupos y estos tengan definidos cada uno su .css, primará el que tenga IsPreference  = true.    Si ambos tienen tal condición, el sistema tomará el primero que encuentre. Ejemplo en la BD de desarrollo:         
El sistema ahora permite definir por ET el alto del Header y del Footer en la versión impresa, para evitar que se sobrelapen los contenidos. Para esto configurar los Features PrintedHeaderHeight y PrintedFooterHeight. 

Se activo Feature para no ver etiqueta de un campo en el RO, pero se sigue viendo 
Se soluciona parcialmente el 
Páginas en blanco al imprimir. Por ahora se implementó un método para quitar páginas adicionales al final, pero los contenidos HTML a partir de EXCEL y otras fuentes empiezan en páginas separadas. 
Se soluciona un problema encontrado en las listas externas de selección múltiple, en las cuales en edición, se mostraban de forma persistente valores des-seleccionados de la lista. 
(AvVillas). Es posible definir grupos asociados a cargos, de tal forma que cuando un usuario toma un cargo, éste toma los grupos correspondientes. Al cambiar de cargo, se quitan los cargos que por su naturaleza fueron heredados por el cargo anterior, para reemplazarlos por los del nuevo cargo. Para que todo esto sea posible, se debe configurar el parámetro ActionGroupsMappedMetaDataId. Ésta funcionalidad está presente en la ejecución del servicio. 
Indicadores de Lectura 
Importación de usuarios desde otra fuente. (ACT-3334Sincronización de usuarios AvVillas) 


Solución al problema en el cual no aparecía la página de calificación de proveedores, debido a un cambio/efecto colaterales en Business.Element.ListByIds 
Se pueden especificar los procesos de un servicio para que corran dependiendo de un ServiceId (1 por defecto) . CM queda pendiente de incluir aqui guía de configuración. 
Mejoras en configuración de mensajes de notificación  
Se soluciona de forma definitiva un problema de carácteres chinos en las versiones descomprimidas de los zip.  UPDATE 2014-07-18 : 
Es posible autenticar y sincronizar contra 2 dominios diferentes, siempre y cuando haya relaciones de confianza. Para los detalles de implementación, Ubicar a CM. (Corpbanca) UPDATE 2014-07-22 : 
Se cambian los links de los htmls de los zips que contienen vml markup para que funcionen como HTML (Icetex) al momento de subirlos.   Release Notes: Multiple Skins, Chinese Chars, RO Fixes, External User Import, Minor Fixes, 2-domain auth/sync      

Corregida una situación en la cual no es posible cambiar contraseñas de usuario pues el control parece no identificar el sitio web correctamente. 

Duplica grupo Todos 

No se muestra en los Listados Embebidos de un elemento la fecha de ejecución de una transición, pero si se muestra en los Listados y en la Agenda de Pendientes  

Error al aprobar desde el RO V3 (Valida incorrectamente campos externos con jerarquía no visibles) 
Corregida una situación en que incorrectamente el sistema pide validaciones de campos multipleselection en el ROv3 al ejecutar una acción. 

La opción que se despliega al dar clic en la pestaña del botón de aprobación, no se oculta al hacer clic en la pestaña. solo se oculta al hacer clic en otra parte del elemento 
Mejoras menores en botones del Rov3 
Mejoras al importar elementos, ajuste para identificar la transición inicial, adición de LegacyId, no se requiere transición inicial (Crear).  
Mejoras al importar/exportar módulos asociadas a llave foraneas de actiongroup.  
Aplicación Survey con recursos en Inglés.   Release Notes: Fixes, import/export enhancements. UPDATE 1  
Critical. Se corrigió una situación en la cual, cuando se involucran elementos mapeados a usuarios, estos quedan mapeados erroneamente u obliga al usuario a crear la información de nuevo. Parte del 
Otros  


Se soluciona un problema en el cual en ciertas versiones de IE no funcionan los vinculos a archivos PDF. 
Se incluyen nuevos tipos de archivo que reconoce la aplicación como extensiones manejadas (por ejemplo PPS, XLM, POTX, etc)   
Breaking Change: En el módulo de proveedores, al guardar una plantilla de criterios, ya no se redirige a la página de pesos (quitar specialaction del ET). En cambio, se debe configurar una metadata tipo Link que abra tal página dentro del formulario de la plantilla. 



Se tradujeron las páginas del módulo de proveedores a Inglés. 
Se creó cómo prototipo (desarrollo no completo) un mecanismo para poder incluir imágenes condicionales en los listados (por ahora los de ET). Para esto, configure el parámetro ConditionalImageColumnConfig (asociado a ET) de la siguiente forma: (VER ABAJO UPDATE 1)  Las opciones disponibles de condición son: Date_GreaterThanToday,Date_LessThanToday,Date_DayEqualsToToday,Date_DayNotEqualsToToday,Date_DayGreaterThanToday,Date_DayLessThanToday, EqualsTo, NotEqualsTo  
Ahora es posible configurar una transición para que se ejecute con automáticamente con el primer guardado. Se requiere como precondición que los estados subsiguientes tengan responsables heredados de metadata y que ésta sea obligatoria en el primer guardado. Por ahora se ejecuta con el botón "guardar" únicamente. Para esto, configure por ET el feature WFTransitionToExecuteOnFirstSave 
Rov3 se puede utilizar en diferentes idiomas. 
Se creó una página para ver gráficas a partir de fuentes de datos (vista o SP). Para eso usar User/Chart.aspx y configurarlo como se indica en Chart.aspx?help=1  
LA vista calendario ahora permite abrir elementos haciendo doble-clic. Para esto, se debe adicionar el parámetro IDC al querystring de consulta.                Uso: CalendarRender.aspx?S=TablaFuenteDeDatos&I=[ColumnaFechaHoraInicio]&E=[ColumnaFechaHoraFin]&L=[Label]&IDC=[ElementId] Ejemplo: CalendarRender.aspx?S=CacheTable_89_1&I=[Fecha y Hora de Inicio]&E=[Fecha y Hora de Finalización]&L=[Nombre de la actividad]&IDC=[ElementId]  
Los reportes ahora se pueden basar en stored procedures.  
Arreglo en la búsqueda general para que tome los wf minor y major, 
Ajustes menores de palabras quemadas en español en correos, 
Mejora en el servicio windows para que se instale en modo Manual cuando se instala y esta activada la opción RunOnlyOnce, 
Mejora en el servicio windows para que corra 2 min luego de iniciarlo cuando la opción RunOnlyOnce está activa 
Ahora es posible crear todos los embebidos requeridos desde el ROv3. 
Se creó AppModule_Kill para eliminar toda la estructura de un módulo.   Release Notes: Conditional Images, Calendar doubleclick, Multi-language improvements, Search fixes, minor fixes UPDATE 1: 2014-09-11.  
Se tradujeron botones, controles y mensajes a Inglés. 
Se dejó opcional el cache de las gráficas de la página Chart.aspx  
Se incluyeron los operadores EqualsTo y NotEqualsTo a las columnas de imágenes condicionales, para compararlas con un valor específico. Se modificó la forma de configuración. Para esto siga este patrón:  [<Columna-de-comparación_desde_tabla_de_cache>]#<Condición_de_Comparación>:[<Opcional_Valor_de_Comparación>]:[<path_relativo_imágen>]; <Condición_de_Comparación>:[<Opcional_Valor_de_Comparación>]:[<path_relativo_imágen>]; etc Ejemplo 1:   Cuyo resultado es:   Ejemplo 2: [CurrentWorkFlowStateName]#EqualsTo:[En Curso]:[../Images/Status/1.png]; EqualsTo:[En Elaboración]:[../Images/Status/2.png]; NotEqualsTo:[En Elaboración]:[../Images/Status/3.png];NotEqualsTo:[En Curso]:[../Images/Status/3.png] Cuyo resultado es:  

Rov3 ahora puede mostrar por defecto el contenido expandido totalmente. Para esto configure el feature Rov3IsFullWidthByDefault por ET. 
Se incluyó el botón refrescar en ROv3. Se ajustaron posiciones en dialogos emergentes. 
Chart.aspx permite SP con parametros, ver Chart.aspx?help=1  
Mejoras generales en AppModule_kill  
Autenticacion Hibrida (AuthenticationMode = Hybrid): Consiste en permitir simultaneamente autenticación LDAP y Normal. Los usuarios no registrados/sincronizados en AD deben ser redirigidos a la página de autenticación de Swift . Probar autenticación, sincronización, admon de usuarios, etc. 
Traducción completa al inglés del PivotReport  
Si se define un HomeLandingMedia, es posible quitar la compatibilidad con IE7 para mostrar páginas que de otra forma tienen problemas para desplegarse, por ejemplo Chart.aspx. Para esto establezca en true el parámetro EnableEdgeCompatInHomeLandingMedia . Solo si es necesario. 
Los logos del Rov3 y el PDF usan la configuración de Skin por grupo. Para esto recuerde colocar {0} en src de la imágen en la definición del header ( a cambio de la ruta de la imágen del logo). Ver BD de desarrollo para el ejemplo.  Release Notes: Hybrid Auth, ROv3 improvements, Chart Improvements, Minor Fixes  

Soporte para subir archivos .mp4. En IE se muestra para bajar (ofreciendo el link correspondiente). En otros navegadores abre el player HTML5. 
"No actualiza valores en la lista paralela (Metadata Gemela)" 
Se creó un mecanismo para acceso público (no requiere hacer logon en la aplicación) de elementos de swift.  En ésta versión, se muestra un listado de los elementos públicos, ordenado descendentemente por fecha de publicación. Los elementos muestran por ahora todas las secciones , el header y el footer (en la siguiente versión esto quedará opcional). Para configurar los elementos públicos, establezca los siguientes parámetros:      Parámetro   Descripción   Valor Ejemplo     PublicAccessMetaDataId   MetaData que indica si el elemento es público o no   443     PublicAccessMetaDataValueId   Valor de MDV que indica si el elemento es público   1599     PublicAccessWorkFlowStates   Estados en los que los elementos son públicos   6,7     PublicAccessPublicDateColumn   Columna de la table de cache que indica la fecha de publicación   Fecha Versión (AAAA-MM-DD)     PublicAccessHeader   Header de la página de acceso público         PublicAccessHideElementH&F   Oculta header y footer de los elementos   true     PublicAccessGeneralSections   Secciones "generales" a mostrarse en acceso público (hace referencia a "Descripción" e "Información Adicional"). Las otras secciones se configuran como se indica abajo.   G1,G4     Adicionalmente se requiere configurar la columna "VisibleInPublicAccess" en la tabla ElementTypeSection. La página de Acceso público es /Public/List.aspx. Se requiere probar TODO el contenido y links del ROv3.  
Arreglos a la importación de datos .  
En algunos contextos, es posible mostrar en los tabs el código del elemento en vez del nombre. Para esto, establezca por ET el valor del feature UseAlternativeIdAsUITitle. En contextos donde no se pueda determinar el nombre o código (por ahora) seguirá mostrando 'DocManager' New/Breaking Change: Se cambió el mecanismo con el cual se vinculan otros elementos en el editor HTML. En vez del botón usual, saldrá un listbox con los posibles elementos a vincular. Los elementos a vincular se definen de dos formas: 1. (Tradicional) con la columna LinkableETId de ElementType. 2. Con el feature HTMLLinkableElementTypeId (por ETMD o METADATA). Es preferible el 2do método ya que con él se pueden definir tantos tipos de elementos como se necesiten (un registro por combinación Metadata-ET).  
Con el punto anterior, es posible crear un mecanismo de "Glosario" en los editores HTML. Para esto, el usuario ya puede señalar una palabra en el contenido del editor HTML, hacer clic en el ET a vincular y el cuadro emergente automáticamente busca la palabra seleccionada (sin embargo, se puede cambiar la palabra). Si no hay palabra seleccionada, se presenta el cuadro emergente con la búsqueda desde el árbol. 
El ROV3 se actualiza cuando el EDIT guarda sus cambios. 
Solucionado un error en el cual, al haber solo un elemento embebido en otro, y el primero se Desvincula, al guardar, vuelve a aparecer. 
Se creó el SP para llenar la tabla mensajes de notificaciones de forma automática, con mensajes por defecto. Para los eventos de cambio de estado se llena la tabla incluyendo las transiciones. Forma de uso:  [NotificationMessage_Fill] {AppModuleId}, {ElementTypeId} Opcional, {LanguageId} Optional  
Solución a    
Ventana de seleccion de usuarios (nuevas versiones, surveys) trae solo habilitados.  
Mejora menor en agenda de pendientes (problema con formato de fecha con conexiones en otro idioma)   Release notes: Public access with altRequestFileHandler, mp4, multi-link html editor, NM Template, Tab fixes, minor fixes. UPDATE: 2014-10-01   
Se creo el feature NonConstrainedMetaDatas por ET para definir, separadas por comas, las metadatas que no hacen parte de un WF Constraint.   


"NO RECUPERA LUEGO DE TIEMPO LARGO DE INACTIVIDAD" 
LiteEdit ahora permite editar elementos (no se ha desarrollado la funcionalidad de MDHiereachy). Para editar un elemento desde su ROV3, habilitar el Feature UseLiteEditInRO (por ET).  New/Breaking change: Los botones hacia el ROv3 de los widgets de inicio ahora abren en ventanas separadas del browser, a no ser que se especifique el parámetro OpenWindowsInLegacyFloatingDiv en true (comportamiento original). 
Si el parámetro UseLegacyROOnly está en false, los elementos de los listados jerarquicos abren con el ROv3. 

"Notificaciones de impresión no funcionan según lo deseado" 
En últimas versiones de chrome (37 y superior) se bloqueaba el ROv3 al usar la opción de buscar. 
Se creó el parámetro LogNotificationConfigIssues que establece si se debe o no guardar en el errorlog registro de los errores o falta de configuración, en las notificaciones. 
"No se refrescan los listados" 
(Critical): Flujos paralelos parciales al ser ejecutados ahora actualizan las tablas de cache. 
Los elementInfoText son calculados automáticamente en el primer guardado (con o sin uso de WFTransitionToExecuteOnFirstSave) Fix/Critical: . La aplicación estaba creando los elementos embebidos automáticos basados en plantillas con el tipo incorrecto en la tabla de elementos relacionados. Esto ocasionaba doble grupo de elementos relacionados cuando el elemento contenedor guardaba cambios. 
Las acciones disponibles en el EDIT y ROV3 ahora utilizan el prefijo "por" cuando incluye el nombre de la persona asignada. Este texto se puede cambiar en la tabla Message, MessagebaseId = 390 (tener en cuenta que tiene un espacio al final). 
(viene del Update 1 del 6.5): Se creo el feature NonConstrainedMetaDatas por ET para definir, separadas por comas, las metadatas que no hacen parte de un WF Constraint. 
Ahora el conjunto de transiciones disponibles toma en cuenta la característica de FullTransitionCompleted, en caso que una persona vaya a repetir transiciones en caso que el flujo se haya devuelto. Esto soluciona el inconveniente del flujo loop de ACT. Para usar el modo clásico (sin tener en cuenta FullTransitionCompleted) usar la columna UseLegacyDPTransitionFiltering (en true) de la tabla WorkFlow.  
Ahora es posible establecer el valor de los margenes izquierdo y derecho en la versión impresa PDF. Para eso , establezca los valores de los features (por ET) de PrintedLeftMargin y PrintedRightMargin. 
Se corrige una situación en la cual en archivos excel-zip se encuentran cortes de página que ocasionan problemas en la impresión PDF. 
Es posible configurar el estilo en que se muestran los items de las listas de acceso público. Para esto configurar el parámetro PublicAccessListItemTemplate. 
Es posible configurar el paginador (Estilo y script) de las listas de acceso público. Para esto configurar el parámetro PublicAccessListPagerScript. 
Ahora es posible filtrar por estados del workflow, los elementos que se buscan en la utilidad de vincular elementos dentro de los editores HTML. Para esto, establecer por ET el feature EmbeddedInHTMLStatesPreFilter New/Experimental: Es posible definir por tipo de elemento, si el personal definido en el cuadro de Responsables es guardado automáticamente con cada cambio, por lo tanto modificando en el EDIT el listado de acciones disponibles sin necesidad de guardar el elemento completo. Para esto configurar por ET el feature ResponsibleStaffIsAutoSaved. No aplica para herencia de metadata a flujo (esto requiere un guardado del elemento).  Release Notes: LiteEdit v1.1, ElementInfoText on 1st, Parallel WF fixes, Rov3improvements, Loop Flow fixes, minor fixes.

Se creó un nuevo permiso llamado "CanCreateNewVersion" que permite a personas o grupos por tipo de elemento crear una nueva versión de un elemento (aparte del administrador y elaborador -en ciertos casos-). Para esto, utilice la ventana de configuración de "Formularios". 
(Viene de la versión 6.6). El sistema de sincronización de usuarios de AD ahora funciona  cuando el modo de autenticación es "hybrida". Se requiere colocar un PIPE de separación y luego el nombre del dominio de sincronización después de la ruta LDAP en el Parámetro SyncUpLdapPath. 
Es posible ahora enviar tareas a los calendarios de los usuarios, en vez de correos. Para esto, utilice el NotificationTypeId = 2 en NotificationMessage. Restricciones: No es posible que el usuario de la cuenta SMTP sea un destino del envío: debe ser una cuenta diferente. 
La página de acceso público (../public/List.aspx) ahora cuenta con un buscador de elementos. Utiliza las mismas reglas (precisión) del buscador general de la aplicación (el orden de los resultados sigue siendo del más reciente al más antiguo). ÉSTA VERSIÓN NO FUNCIONA CON AUTENTICACIÓN LDAP, UNICAMENTE CON NORMAL. 
El sistema ahora es capaz de sacar "snapshots" o copias de vistas o tablas, que terminan congelados en el tiempo. Estos snapshots se almacenan en una tabla llamada Snapshot_<nombre_de_origen> donde nombre_de_origen es el nombre de una tabla o vista (ej. Snapshot_ProveedoresActivos). Esta tabla de destino (que se crea de forma automática) tiene los mismos campos que el origen, más un campo adicional llamado SnapshotDate. Este campo contiene la fecha en la que fué sacado el snapshot. De este modo, todos los snapshots de una misma fuente se almacenan en la misma tabla de destino, pero se diferencian por la fecha del snapshot. Para configurar un snapshot, cree uno o más registros en la tabla Snapshot con los siguientes campos: Source: Nombre de vista o tabla de origen (ej. ProveedoresActivos). FrequencyId: Frecuencia con que se saca el snapshot (ver tabla Frequency). Enabled, indica si está activo o no. El campo LastExecutionDate se actualiza de forma automática cada vez que se ejecuta el proceso (dejelo en null cuando configure por primera vez el snapshot). La creación de snapshots se ejecuta con el servicio usando TasksExecutionTime02 y la frecuencia la determina internamente el sistema como se indicó anteriormente. Note que debe haber un registro en ServiceConfig con el ServiceProcessId = 18 (18 es el id de de está tarea). La mínima frecuencia es "diaría". 
Corregida una situación en la cual los registros de permisos read-only en el cuadro de permisos, se repetían. 
Ahora es posible seleccionar el skin (la empresa) en la cual se quiere continuar la sesión en la aplicación web, cuando se utiliza la característica de skins asociados a grupos. En este caso, aparecerá en la parte superior derecha un nuevo botón de selección, para aquellos usuarios que pertenecena más de un grupo y tales grupos tienen diferentes skins. También está disponible para usuarios administradores. En todo caso, el botón aparecerá si hay más de un skin disponible. Esta opción (el botón) debe ser activada con el parámetro EnableActionGroupBasedSkinSelector. Para identificar las empresas ( o el nombre del skin) utilice la columna StyleName en la tabla ActionGroup. 
Solucionado un problema en el cual en las listas embebidas del EDIT, al no haber al menos un campo con VisibleByDefaultinEmebeddedLists ( de los requeridos por VisibleByDefaultInEmbeddedList), el sistema generaba un error en la consulta y no mostraba nada en a lista embebida.  
Se solucionó un problema en el cual el botón de buscar embebidos aparecía luego del postback, cuando se supone debería estar oculto.  UPDATE 2014-11-13  

Fecha de vigencia incorrecta en el ROv3  UPDATE 2014-11-14  
Se creó un feature ElementInfoTextAltConfigOnEmbedded para establecer un valor de ElementInfoText alternativo, en caso que el elemento está embebido (es decir, no usa el value normal sino que usa una configuración diferente). En este caso, este feature se configura asi:  . La primera parte antes del triple-pipe, es el tipo de elemento padre (el que embebe). La segunda parte es la configuración de elementInfoText para este caso.   Release notes: CanCreteNewVersion, SnapshotViews, Public access search, AG-Based skin selector, minor fixes.


No se envía appointment  Solo es posible enviar appointments si hay fecha de expiración de la transición. En el resto de los casos queda un warning en el errorlog.  

No se muestra vinculación de glosario. Solucionado en js del plugin dado un problema con las últimas versiones de Webkit  

Pantallazo amarillo al hacer clic en Vincular.  Solucionado en Js del plugin del editor HTML. 

Notificaciones de impresión no funcionan según lo deseado.  Corrección definitiva (no tenía en cuenta de forma correcta las transiciones que ocasionan nuevas versiones) 
Solucionado un error en el cual se obtenía de forma errónea la información de sesión de usuarios LDAP e Híbridos, en la cual el nombre y otros atributos de los usuarios autenticados quedaba nulos. 

No funciona la autenticación hibrida.  Se modificó todo el sistema de autenticación híbirda, permitiendo ahora a clientes LDAP y externos, entrar al sistema. Para esto, se debe usar siempre una página de inicio (cuyo ejemplo está en  media/inicio.html y debe establecerse en parameter como página de inicio de la aplicación) donde la persona tendrá 2 links: usuarios LDAP (empleados) y usuarios externos. En el 1er link, el sistema hará la correspondiente validación LDAP y entrará a la aplicación. En el segundo caso, el sistema enviará el usuario a otra página de inicio de sesión con credenciales. Es obligatorio usar la página de inicio para la autenticación híbrida (se deben conservar los links y el código js para que ésta funcione). Por otra parte, se requieren los siguientes cambios para que la autenticación híbrida funcione de manera correcta:            IIS: - Folder Raiz: Anonymous Enabled, Windows Disabled.                  - Folder ProtectedZone: Solo autenticación Windows.                  - Folder Public: Solo autenticación anonymous.           Web.Config: - authentication mode="Windows" y allow users="?" para éste nivel:                      Adicionalmente, en el web.config hay 2 entradas de autorización para ProtectedZone y Public, las cuales NUNCA deben ser modificadas.           De esta forma, la autenticación híbrida funciona con usuarios LDAP dentro y fuera de la organización (éste último, en el escenario donde el browser requiere la contraseña del usuario autenticado si éste está fisicamente fuera de la red) y para los usuarios externos. Recuerde que solo se puede usar una única URL general de sitio y se debe utilizar SSL cuando se sepa que se está accediendo externamente la aplicación.           La sincronización de usuarios LDAP (en LDAP e Hybrid) funciona como en versiones anteriores.            La página de inicio del login publico es /Public/Login.aspx y la imágen de fondo se puede manipular editando la clase ContentBackground de static.css  
Producto de lo anterior, es posible ahora utilizar la zona pública cuando la autenticación es LDAP. 
Se creó una página donde el sistema verificará su propia configuación. Por ahora, como paso inicial, el sistema verificará las columnas visibles en todos los contextos, para todos los tipos de elementos. Para esto, entre a Config.aspx y ubique el menú "Verificación de configuración".   Release Notes: Hybrid Auth/Login, Protected Zone, ConfigCheck, Notification Fixes, Minor Fixes

Se creó el Feature ShowEditButtonInToDoLists (por ET) para mostrar el botón de editar en las listas de agendas de pendientes, cuando el ROV3 está habilitado. 
Se habilitó el historial de flujo antiguo en el ROV3 el cual aparece en la sección fija de "información adicional". Para esto deshabilite el feature  HideLegacyWorkFlowHistory para el tipo de elemento en cuestión. Por otro lado, recuerde que para aparezca la sección "Información adicional", debe habilitar establecer los permisos usando el feature ROAdditionalInfoActionGroup.Adicionalmente, se creó el feature HidePositionInLegacyWorkFlowHistory para establecer que en el historial de flujo legay no aparezcan el nombre del cargo (solo el nombre de la persona) 
Se creó un mecanismo para permitir que un control de selección simple deshabilite otro control de selección simple, si el primero toma uno o más valores. La condición es que el 1er control debe tener habilitado el valor 0. Para que funcione, debe habilitar el Feature DisableableControls por ET de la siguiente forma: <MetaData>,<ValorMetaData>,<MetaData_a_deshabilitar>. Ejemplo "1,109,2" significa que cuando la metadata 1 tome el valor 109, deshabilite la metadata 2. 
Corregido un potencial problema en el cual se mezclan las cookies de estilo y secciones de RO, entre versiones. New/Experimental: En la página de diagnóstics ahora salen los usuarios que tienen sesión activa en la aplicación (Cuadro "Current Sessions" ) 
Ahora los widgets de últimas publicaciones y las tareas pendientes (en inicio de app y de modulo) abren con el alto correspondiente a las tareas desplegadas por cada sección.   Release notes: ShowEditButtonInToDoLists, HideLegacyWorkFlowHistory in ROV3, DisableableControls, Preferred Style Fixes, TOdo Lists fixes.    

Los widgets de inicio se muestran hasta el borde de la página y se ajustan en tamaño a medida que la ventana contenedora se ajusta (el efecto colateral es que los widgets se autorefrescan cada vez que se ajustan). 
Ahora el sistema puede enviar notificaciones agrupadas, esto es, notificaciones que condensan en un solo correo, la actividad que le concierne al usuario, sucedida en el transcurso del día. Tiene las siguientes características:            - Se ejecuta con el servicio de lunes a viernes, una vez al día con TasksExecutionTime01. Recuerde configurar la tabla ServiceConfig para el ServiceProcessId 19 (a propósito, ya existe una tabla ServiceProcess que define los servicios).           - Si ocurre actividad el fin de semana, la primera ejecución del lunes incluye tales eventos.           - Solo funciona para cambios "manuales" de estado y asignaciones de responsabilidades. Hay una fila en una tabla por cada evento, así ocurran para el mismo elemento.           - En la tabla NotificationMessage, se debe marcar la columna IsDelayed en 1 para indicar que tal notificación es agrupada. Como es usual, en caso de no existir la configuración "específica", toma la genérica (si ésta existe).           - El correo enviado agrupa por tipo de elemento.           - Por ahora solo funciona con notificaciones normales, no appointments.           - El Template del HTML enviado está definido en el parámetro DelayedNotificationTemplate. Recuerde que Gmail no puede procesar CSS, por lo que los estilos son inline.           - Los estilos para las tablas de elementos del mensaje estan definidos por los parámetros: DelayedNotificationTableStyle, DelayedNotificationTHStyle, DelayedNotificationTRStyle, DelayedNotificationTDStyle  
en los listados embebidos ahora se ordena mediante la primera columna aunque no se garantizan resultados si ésta es una metadata html, dado que el sistema no hace parsing. 
Se agregó el feature ChartSortingColumn para indicar por Metadata o ETMD, la columna por la cual se ordenan las fuentes de datos de los charts basados en elementos embebidos. 

No se ordena por la primera columna los embebidos 
En los listados donde aparece el árbol se puede cambiar el ancho usando un handle.   Release Notes: DelayedNotifications, ChartSortingColumn, EmbeddedSorting fixes.      

Ahora es posible fusionar anexos PDF (no provenientes del editor HTML sino anexos directos) dentro del contenido del ROV3 y mezclados dentro del contenido de la correspondiente impresión. Para esto, defina por Metadata o ETMD el feature  FuseInContents. Tenga en cuenta que si el PDF anexado tiene headers/footers, estos quedaran debajo de los que incluya el actual. 

"No se visualiza contenido del documento RO1" 

"Las graficas del Edit y el RO no son iguales" 
Se implementó una nueva versión del editor HTML, en el cual se simplifica la operación y el sistema de botones. Este incluye además un workaround para dispositivos IOS en el cual se perdia el foco del control. Para esto, habilite el parámetro UseNewHTMLEditor. Adicionalmente se creó un parámetro StandardHTMLEditorProperties que define el rendering de tal control (para quitar o poner botones o plugins). 
Se adicionó el SP MDV_GetTwinInfo, que no aparecía disponible desde la versión 6.4 y ocasionaba errores en la configuración de listados. Breaking change: El modo de autenticación "Embedded" se descontinua por ser inseguro. Breaking change: Generic.css (y los css de las versiones multi-empresa) se modificó/modificaron para cambiar los anchos y posiciones de las metadatas en el EDIT. Para esto, configure las siguientes clases:  .Control:  width:97%; position:relative; left:-5px; height:100%; //El resto como está definido.ControlTitle: position:relative; top: 5px; left: 6px;width:165px; text-align: right; //El resto como está definido.ControlContainer: position:relative; top: -10px; padding-left:180px; //El resto como está definido.ExpandedControlContainer: position:relative; top: -10px; left: 180px; width:79%; //El resto como está definido Tenga en cuenta que si no se corrigen los css mencionados, la aplicación presentará los controles de forma errónea. Release Notes: FuseInContents, 
HTMLEditor, EmbeddedAtuh deprecated   UPDATE: 2015-01-29:  Se ajustó de nuevo el alto del header impreso ROV3 para que tenga en cuenta de manera efectiva el feature PrintedHeaderHeight 

Corrección al nuevo editor html para evitar que pierda el rendering al guardar un elemento en chrome, firefox. 
Se actualiza el con modificaciones a los usuarios y grupos (servicio y UI). Workaround: En dispositivos IPad, la creación de nuevos elementos se abre en una nueva ventana. 
Se solucionó un problema en el LiteEdit que impedía refrescar los controles, en Chrome. 
Se solucionó un problema con los archivos .bpm que al intentar descargarlos se presentaban en el browser en formato zip. 
Solucionado el inconveniente en el cual la ventana de cambio de password no se cierra después de un cambio exitoso. 
Se incluyó un mecanismo en el servicio windows que permite añadir el GUID a aquellos registros de personas que no lo tienen, cuando se realiza la sincronización contra LDAP. Para esto, habilite el parámetro IncludeMissingGUIDsInSyncUp en true. La precondición es que el campo Person.PersonLegalId sea nulo. 
Se añadió a la página de configuración (admin/config.aspx) la opción "Utilidades de Administración de usuarios", que permite inicialemente crear los elementos mapeados a los usuarios que no lo tienen. Este proceso corre adicionalmente con el servicio de sincronización de usuarios desde tabla externa. 
Se corrigió un problema en el cual estaba deshabilitado el mecanismo de mascaras en el EDIT. 
Se modificó el mecanismo de envio de correos agrupados, para marcar los elementos relacionados como enviados para cada persona justo despues de ser enviados.  Release Notes: HTML Editor fixes, permission cache on group edition, IncludeMissingGUIDsInSyncUp, StaffUtil, minor fixes. UPDATE: 2015-03-11  
"usuario sin permisos puede ver botones en ROv3"  
Mejoras varias a la página de comprobación de configuración (en config.aspx) 
Ahora es posible para la versión impresa del ROV3, elegir entre vertical (por defecto) y horizontal. Adicionalmente, se incluyó una opción que permite deshabilitar el ajuste del ancho al contenido. No funciona con contenido PDF como anexo, ya que ese quedá con su orientación inicial. 
"Al guardar se muestra mensaje de Java Script" 

"Se demora la visualización de la pagina public/list" 
Se hicieron correcciones al mecanismo de sincronización con tabla externa. Ahora los cargos importados prevalecen con base en la tabla externa y el nombre es modificado. Adicionalmente se corrigió un problema en el cual no se creaba en ciertas situaciones el elemento mapeado al cargo. 
"No guarda comentarios en RO" 
Se creo el parametro MappedPositionDefaultMDVPairs que define parejas de metadata:metadatavalue (ejempo 875:35761) que tendran valores que se incluiran por defecto como EMDVs de los elementos mapeados a cargos. 

Se añadió el registro en el log de operaciones cuando se solicite el reset de contraseña. 
Se implementó un mecanismo que permite usar diferentes escalas de calificaciones en el modulo de proveedores (no solo de 0 a 5). Tenga en cuenta que se debe modificar tanto la tabla Prov_Score como Prov_ScoreRange. De igual forma recuerde que es posible alterar el resultado final utilizando el parámetro OverallScoreMultiplier del AddOn de proveedores. Ver BD desarrollo para ejemplo. 
Se incluyó un mecanismo experimental para poder suministrar credenciales de autenticación en caso de que el generador de PDF lo requiera (en casos donde no hay permisos suficientes de lectura de las carpetas de imágenes y otras). Para esto configure en el web.config las llaves PrintingVersionUserName y PrintingVersionPassword con las correspondientes credenciales de maquina o dominio. De la misma forma, si el mecanismo de conversión a PDF requierese autenticarse ante un Proxy, se deben configurar las credenciales en las llaves PrintingVersionProxyUserName y PrintingVersionProxyPassword. Breaking Change: Las versiones de STAG y Producción deben llevar cifrado el web.config obligatoriamente. 
Se incluyeron entradas de log adicionales en la conversión a PDF. 
Fase 1 aseguramiento de anexos: Los links hacia anexos (metadata file y contenido HTML) ahora cifran la URL correspondiente, la cual es expirable y solo funciona con el usuario que lo solicita ( y tiene permisos). Estos links tienen la palabra SECURED. Nota: No está implementada la función en los listados, solo en el ROv3. 
"Se repite notificación agrupada". Se cambió el mecanismo de registro de envió de las notificaciones agrupadas y se incluyeron los logs faltantes.  Release Notes: Prov_Score options, Auth/Proxy PDF options, PWDReset Log, Secured Attachments v0.1
Breaking Change: Tener en cuenta nueva entrada en el app.config del servicio windows.   
"Error al descargar archivo desde agenda de pendientes" Se solucionó una situación en la que en IE8 por error no puede permitir descargas de anexos al interpretar incorrectamente los headers de cache cuando la página ha sido abierta con window.open ver  . Por esta razón, los anexos ahora abren con un header cache:private expire=1 (nota de desarrollo).   
"Asigna un valor de lista por defecto al crear pre-configuración de flujo" No es un error, es una caracteristica de a aplicación en la que al haber una preconfiguración de flujo. Sin embargo, se agregó el feature DisableWFPreconfigDefaultValue por metadata o ETMD, que al ser  true, deshabilita esta funcionalidad.   
Se colocaron Traces y control adicional de error en la aplicación de la marca de agua en la versión impresa del Rov3, para control del 
cuando las imágenes son PNG, ya que no se reproduce en desarrollo. 
Se corrigió una situación en la cual no se referscaba la cookie con información del skin y usaba el anterior al momento de inciar sesión con un usuario diferente (autenticación normal). 
"No se visualizan todos los botones" Workaround en la que se bajó el titulo de la sección para dar campo a los botones superiores. 
Se añadieron features por tipo de elemento para definir cuando se envien appointments, que metadatas representan fecha inicio (AppointmentStartDateMetaData), fecha fin (AppointmentEndDateMetaData), hora inicio (AppointmentStartTimeMetaData), hora fin (AppointmentEndTimeMetaData) y lugar (AppointmentPlaceMetaData). Si no se define AppointmentStartDateMetaData se toma la de la transición (expiración). Si no se define hora de inicio se toma las 12pm. Si no se define hora final, se toma una hora después de la definida como inicio. 
Se implementó una página de Suscripción a DocManager, para que usuarios externos puedan crear sus propias cuentas de usuario. La página se puede usar con el link provisto desde public/Login.aspx. Para esto habilite el parámetro AllowUserSubscription. Adicionalmente el parámetro UserSubscriptionRequiresApproval permite determinar si las suscripciones las debe revisar el administrador (los usuarios quedan en estado deshabilitados por defecto) y el parámetro SubscriptionUsesCaptcha para determinar si se usa o no un CAPTCHA (versión cloud o cuando Google API esté disponible). Queda pendiente desarrollo de listado de nuevos usuarios pendientes de aprobación y correo de bienvenida a usuarios. 
Se creó el mecanismo de autenticación basado en "authentication proxy". Este permite autenticar los usuarios utilizando un servicio externo (servicio web). Tiene las siguientes caracteristicas: - Permite utilizar usuarios en varios dominios de aplicación, incluso externos. La creación de estos usuarios es manejada de forma externa a la aplicación. - Permite la sincronización (en una vía) de una fuente de datos externa (SQL Server), pudiendo configurar los campos que sea necesario traer y copiar a diferentes tablas de aplicación. Opcionalmente, se puede seguir usando el mecanismo tradicional de sincronización con objetos de una ruta LDAP - Si el usuario viene con credenciales desde otra aplicación, estas pueden ser utilizadas para autenticarse en DocManager, sin que necesariamente las solicite de nuevo. Si la sesión vence o no es posible autenticar con tales credenciales, se envía a la página pública de autenticación con Login y Password (public/Login.aspx) la cual ofrece las opciones de que dominio o "naturaleza" del usuario que se autentica (una naturaleza del usuario es ser "externo" o "colaborador"). El mecanismo de autenticación funciona como se indica en la siguiente gráfica:   AuthProxy es un servicio web, parte de DocManager, que se instala y se configura de forma separada. Este es el proxy que se encarga de hacer la intermediación, al momento de la autenticación, entre DocManager y el servicio externo. Utiliza un mecanismo cifrado para el intercambio de información con el resto de la aplicación.        Para lograr hacer funcionar este escenario, se requieren las siguientes configuraciones:  AuthProxy posee un web.config que debe configurarse con parámetros internos y externos a la aplicación: De
Mode debe ir siempre en false en producción (ya que en true autentica cualquier usuario sin importar su contraseña). De
File, es la ruta del archivo de depuración y en producción el valor debe ir vacio. El resto de parámetros son del cliente, incluyendo el parámetro endpoint (sección client) que indica la URL del servicio web del cliente.   El servicio Window funciona de la forma tradicional y se le agregó una tarea adicional "AuthProxyTableSync" (ServiceProcessId = 20) que realiza la sincronización con la tabla de SQL externa, mencionada anteriormente. Este proceso es opcional. Para configurar el mapeo entre las tablas externas e internas, utilice la tabla AuthProxyMapping asi: InternalTable, InternalField representan la tabla y campos internos; ExternalTable y ExternalField representan la tabla y campos externos; IsKey determina si el campo en cuestión es la llave virtual entre ambas tablas. Ejemplo:   En este caso, la tabla Interna Person obtiene datos de la tabla externa Usuarios. Observer que PersonLegalId y CodUsuario tienen la información que relaciona las dos tablas.  En la tabla parameter, configurar AuthProxyService con la URL del AuthProxy. Ejemplo http://app.docm.co:8889/ColmenaAuthProxy/AuthProxy.svc En la tabla parameter, configurar por pares separados por ";" los posibles dominios o naturalezas del cliente. El siguiente ejemplo indica 4 dominios o naturalezas: Colaborador, ARP_Externo, FS y TestingAD.     Finalmente, configurar el parametro AuthenticationMode con HybridWithExternalProxy.  El .config del servicio windows ahora tiene una llave "ExternalAuthProxyDataSource" que en caso de realizar la sincronización contra la tabla externa, debe llevar la correspondiente cadena de conexión. La configuración del web.config de la aplicación (docManager) es igual a la de Hybrid.    Release Notes: Auth proxy, UserSubscription, Appointment Data, minor fixes.  

Se corrigió un 
en que el editor HTML perdia su render después de que el edit presentaba un mensaje de validación de campos. 
Algunos avatars no aparecian en el cuadro de permisos. 
Se reestableció la deshabilitación de copia/selección en contenidos word en el Rov3 
Se ajustó el mecanismo de css de la barra de menú por tipo de elemento, cuando está habilitado/deshabilitada la opción de "Mis tareas". Para esto incluya la clase .MyTasksEnabled { width:510px } en su css (generic.css) y ajuste el valor de width.  
Se implementó un sistema para restringir posibles valores de selección de listas de selección simple y multiple internas ( y en general metadatas que usen valores de ETMD) por tipo de elemento, en el EDIT. Con esto, depende del tipo de elemento, la metadata presenta unos u otros valores. Para eso configure la tabla MDVETRestriction. Tener en cuenta las jerarquias entre controles para saber si un valor sale o no (debe ser consistente). No aplica para la administración de valores de metadata. 
Mejoras varias de navegación en la administración de usuarios y adecuaciones adicionales cuando el método de autenticación es híbrido o con authproxy. 
"No busca por código". Se cambió el mecanismo de satinización de Input para no tener en cuenta el carácter "/" 
Se incluyeron comprobaciones adicionales del contexto de los tabs cuando se crean embebidos, para evitar el 
presentado en el soporte No.025 de Alqueria. 
Bajo observación. Se implementó un mecanismo para evitar que los textos multi-linea se bloqueen luego de que la páginas haga validaciones o se guarde su contenido (EDIT). Release Notes: MDVETRestriction, Textarea 
UserAdmin Fixes, HTML Fixes.  

Seguridad de archivos: se completó el sistema de aseguramiento de archivos que son subidos a campos tipo File o DisplayableFile. Para que estos archivos sean consultados, el sistema valida si la persona tiene los permisos correspondientes. Nota: esto no es 100% funcional en los editores HTML, por lo que los archivos que se consideren "protegidos" deben usarse en File o DsiplayableFile. 
Se solucionó un problema en el cual la ruta del archivo resultante de la fusión de word quedaba guardado con una ruta relativa, por lo que perdia los atributos de seguridad. 








Feature FuseInContentsInPrintedVersion. Este feature permite definir si cuando se genere una versión impresa en el ROV3, los archivos de PDF deben fusionarse con el resto del contenido (es decir, no necesariamente aparecer como links). 
Solucionado un problema en el cual no quedaba registrado el dominio de usuarios nuevos al sincronizar con tabla externa en el modo HybridAuthProxy Breaking Change. Css: html,body ya no debe llevar 100%, solo body y footer cambió. Adcionalmente, en los .css se debe cambiar las siguientes clases:  .SingleTableRows td --> Adicionar word-wrap: break-word; .SingleTableAlternateRows td --> Adicionar word-wrap: break-word; .ExpandedControlContainer --> Eliminar white-space:nowrap; 
Feature DoesNotRequireCompleteData. Este feature por Workflowtransition permite establecer que la transición no requiere que todos los campos obligatorios esten diligenciados. Ssolo para el ROV3. No funciona para el EDIT. En este caso, se debe ocultar "acción" del edit, y ejecutar todo desde el RO (se oculta usando el Feature por ET "HideActionsInEdit") 
Feature Prov_MetaDataToBeAttached. Define para el addon de provedoresm que metadata tipo anexo debe inclurise en el correo enviado al proveedor al final del proceso. Solo tipo File. 
Feature Prov_DoNotSendSummaryPDF. Define para el addon de proveedores que no se debe enviar el PDF usual con el resumen al proveedor, al final del proceso. 
Se agregaron nuevos tipos de validaciones para fechas (están definidas en la tabla validationtype): Date_GreaterThanMetaData, Date_GreaterOrEqualsToMetaData, Date_LessThanMetaData, Date_LessOrEqualToMetaData, Date_EqualsToMetaData. Estas definen la comparación con el valor (de fecha) en otra metadata. Use el feature ComparisonMetaDataId (configurada para la metadata o etmd a la cual le realiza la validación). En value debe colocar el Id de la metadata a comparar). Notese que esto es una validación, no una mascara, por lo que es posible deba agregar un texto de ayuda. Ver ejemplo en BD de desarrollo. 
Las imágenes subidas al editor HTML ahora permiten ser abiertas en una página aparte. 
Se agregó el feature ServicedIsSimpleExecution (por MD o ETMD) para indicar que un servicio web consumido es "simple", es decir, devuelve una cadena de texto. En estos caso, solo se deberia configurar adicionalmente: ServicedServer, ServicedMethodName, ServicedButtonLabel ( y opcionalmente login y password). En la DB de desarrollo se dejó funcionando con un webservice que consulta el precio del dolar. Release Notes:  
validation items, security on files, fixes.

Servicio ahora ejecuta la sincornización LDAP en cualquier configuración de autenticación. 
Se adicionaron las dependencias de valores de metadata (padre e hijo) en la página de adminsitración de listados. 
Los widgets de mapa y últimas publicaciones ahora se les aplican los permisos por empresa. En el caso del mapa, se adicionó la columna "MapElementId" a ActionGroup (en cuyo defecto se usa la definida de forma tradicional). 
Los árboles (no custom) tambien se les aplica los permisos por empresa. Adicionalmente se solucionó el problema en el cual se mostraban valores a pesar de tener el atributo de "HideInTrees" 
Se modificó la forma en que se almacenan en el editor HTML los SVG para mostrarlo en los browsers soportados.  Release Notes: widgets, trees permissions, SVG 
minor fixes Update 2015-07-16:   
Se solucionó un problema en Auth.aspx en el cual al ser exitosa la autenticación, no redirecciona a la página deseada. 

Metadatas de elementos embebidos son fusionables en el word (sin admin).- 
Login nuevo se puede usar en toda la aplicación por defecto. Para usar la versión anterior, configurar el parámetro UseLegacyLoginPage- Breaking change: Se eliminó .ContentBackground de Static.css y se incluyó en un nuevo css llamado Custom.css- 
Solucionado un error cuando se intenta usar el anexador de elementos con el editor HTML nuevo.- 
Se arregló la posición de los botones en el control de embebidos. Para esto agregar lo siguiente a generic.css .ExtControlMandatoryWarning div{ padding-right:4px; height:18px; padding-top:1px;} - 
Notificaciones en cola: ES posible indicar para las notificaciones arrojadas desde la aplicación web (cambio de estado, por ahora) que se incluyan en una cola de envío, configurable. Para esto se crearon 2 nuevos parámetros: EnqueueNotifications. Indica si se debe utilizar el sistema de colas de envío de correosNotificationsQueueBatchSize: Indica el tamaño (No. de correos) que se debe enviar con cada iteración Adicionalmente se debe configurar en el App.config del servicio el parámetro TasksInterval, que indica cada cuanto (segundos) se procesa en envío de correos. El sistema de colas intenta enviar cada N segundos un total de C cantidad de correos. Cada intento de envio que no registre error en un primer intento es marcado como "procesado". El sistema como es usual solo detecta errores que la conexión al servidor SMTP lance y no detecta si los buzones de destino existen o no. En caso del error detectado, el sistema vuelve a intentar el envío luego de N segundos y si este intento no es efectivo, registra el error y marca el envío como "procesado". - 
Se implementó un sistema para visualización de PDF. Para habilitar la visualización utilizando el visor PDF.JS, establezca para "pdf" en la tabla [FileTypeViewOption] la opción 3 (PDF.js, ver tabla ViewOption). Release Notes: PDF Viewer, NotificationQueue, NewLogin  

Los campos calculados ahora pueden utilizar información de metadatas tipo ServicedText (21) 
Se corrigió un problema en el calculador (de campos calculados) en el cual las formulas no podían usar .ToString 
Feature ServiceTextBoxAlwaysDisabled (por metadata) Breaking Change: caja de texto ServicedText queda en una sola línea. 
El EDIT arroja un mensaje de confirmaciónde éxito de la operación, en "Guardar y Cerrar" (únicamente si se abre como tab). 
Botón Refrescar en listados oculta el filtro de selección avanzada. 

Es posible evitar que los usuarios cambien el tipo de transición (serial, paralelo, 1ero en llegar) usando la columna DisableStateTypeChange de WorkflowState. 
Proveedores: al terminar una calificación, el tab de agenda de pendientes (modulo) o los listados se refrescan. 
Release Notes: Calculated Filed fixes, DisableStateTypeChange, Minor Fixes

Se solucionó una situación en la cual al guardar un elemento se perdía el contenido HTML si la página arrojaba un mensaje de validaciónde otro campo.Breaking Change: El editor HTML Nuevo no se puede usar hasta nueva orden (particularmente si se va usar IE11)
Se implemento en el editor Legacy el mecanismo que muestra un link para abrir la imágen original subida al editor HTML.

La sección "Acciones y Responsables" utiliza como titulo el proveniente de la tabla "message" (messagebaseid 404)
La sección de acciones y sresponsables se muestra hoara expandida por defecto. Para NO utilizar este comportamiento, establezca el feature DoNotExpandResponsiblesByDefault por ET.
Es posible ocultar en las agendas de pendiente el botón del ROv3. Para eso, utilice por tipo de elemento el feature HideROButtonInToDoLists
Correcciones varias al modulo de proveedores  Al abrir la página de calificaciones desde un correo, debe abrir en un tab, en vez de abrir en ventana completa Si se abre la página de calificación desde la agenda de pendientes, al terminar la calificación se refrescan los penientes, quitando el que se acaba de revisar. Los calificadores no pueden entrar en el edit a no ser que tengan los permisos correspondientes. Si se utiliza el ROV3, a los calificadores solo les muestra el botón de calificar (en el estado correspondiente) a no ser que tengan otros permisos. De la misma forma, aplican las otras reglas correspondientes al RO (secciones, etc) A los creadores de las evaluaciones ya no les muestra "calificar" como opción de flujo, en el estado correspondiente.  A los creadores de flujo les muestra la opción de cerrar evaluación en el ROV3. Este ahora ejecuta las acciones adicionales del addon de proveedores. Un administrador ahora puede ser asignado como calificador. Se corrigió la forma en que se obtiene el listado de tareas pendientes, de tal forma que a los calificadores no les permite entrar a la calificación cuando no les corresponde.  Nota al release: Hay que probar de nuevo todo el sistema de tareas pendientes, en transiciones seriales, paraleas y primero en llegar, ya que la corrección mencionada afecta esta caracterísitica, no solo para el modulo de proveedores sino cualquier otro modulo de la aplicación 
Se colocó el toolitp a "Seleccionar" en la ventana emergente de búsqueda de emebebidos.   Release Notes: Providers UI flow, Fixes.  

Es posible ahora utilizar campos elementinfotext de elementos embebidos, en las formulas de sus padres. - 
Corrección del mensaje que se queda bloqueado en el RO cuando se da "Guardar y Cerrar" - 
Se corrigió una situación en la cual los mensajes de notificaciones se cortaban cuando encontraban un caracter de CRLF. - Breaking Change: EL password del servidor SMTP ahora siempre va cifrado. Si por alguna razón a un cliente no se le puede hacer el ajuste, establecer  el parametro DoNotEncryptSMTPPassword en true (completamente NO recomendado, todas las contraseñas del sistema deben ir cifradas según normatividad ISO27000) - 
Se corrigió un defecto en la página nueva de Login, en la que ésta no reinicializaba la cookie de autenticación de forma correcta.  - 
Se agregó una página para configuración de los parámetros básicos de aplicación, desde la cual se debe desde ahora configurar: WebserverURL, FilesPhysicialPath, TempPhysicalPath y los parámetros de SMTP. Está disponible desde la página de configuración de la aplicación. - 
body de generic.css debe ser ahora 98%, se debe corregir en todas las instalaciones UPDATE: 2015-10-13. - 
Se solucionó un problema en el mecanismo de resolución de formulas, el cual erroeneamente agregaba el sufijo Math. del CLR a las formulas en partes donde no se requiere. Se eliminó esa parte del código, y se debe revisar en todas las instalaciones de ahora en adelante los campos calculados que incluyan de alguna forma, operadores como: ABS, AVG, ROUND, FLOOR, CEIL, etc.  Release notes: SMTP Password encryption, paramconfig.aspx, minor fixes.

Se cambió el texto del control de anexos (metadata file) por uno variable, ver MessageBaseId = 405 
Se cambió el botón de Aceptar Selección en el cuadro de búsqueda de elementos embebidos, por uno con texto, usando el MessageBaseId = 178 
Se creó un mecanismo en el cual el código de elemento (alternativeid) de los elementos embebidos, puede usar como sufijo el código del padre putativo que lo contiene, respetando la secuencia correspondiente por cada colección de elementos embebidos para ese padre. Para esto, configure por ET el Feature CodeUsesPutativeParentId  
Se dejó optativa la recodificación de los elementos a los que se les cambia valores de metadatavalue de forma masiva en los listados. Para activar tal recodificaciòn, se creó el Feature MustRecodifyOnBulkMDChange por ET (

Al guardar un elemento desde el EDIT, este actualiza los campos calculados (y elementinfotext) del padre putativo (es decir, del elemento que lo contiene como embebido). 
Los correos a personas externas pueden optativamente incluir el link hacia la aplicación. Para esto defina por ET el feature ExternalsUseLinkInNotifications. 
UPDATE 2015-10-30:  Workaround: Se implementó una corrección [bajo observación] del mecanismo de repoblación de las tablas de cache cuando se involucran metadatas externas y falla en el último paso "RunEntries". Con esto se solucionó el problema persistente en STAG_ASIC 
Se corrigió la versión de Business a 8.4    Release notes: Changeset 66, CodeUsesPutativeParentId, MustRecodifyOnBulkMDChange, CalculateOnPutativeParent, ExternalsUseLinkInNotifications, minor fixes. 

Corregida una situación en el modulo de Surveys en el cual en los listados de asignaciones no salia ninguna, si no se definia una metadata titulo para el tipo de elemento que genera la evaluación. Aplica también para el listado de evaluaciones de cada persona de forma individual. 
Añadidas traducciones a partes de Login.aspx, Permissions y a ElementViewer. La tabla de mensajes en español debe ir actualizada a la versión de desarrollo. 
Se solucionó un problema en el cual los usuarios podian tener por defecto un idioma no habilitado en el sistema. 
Se corrigió la presentación de los archivos de word convertidos a HTML por la aplicación, que no aparecian en el visor que se abre desde las listas públicas. 
Se solucionó una situación en la que la aplicación de surveys no podia procesar notificaciones si tanto Surveys como Swift usan https. 
Se corrigió un problema en el administrador de seguridad de anexos, en el cual un usuario al abrir el anexo y luego volverlo abrir rapidamente (usualmente menos de 5 segundos), ocasionaba un error y mostraba código basura en la página de descarga (evidenciado en Redeban). Se corrigió para deshabilitar el cache de navegador para los pdf. 
En el modulo de surveys se corrigió la obtención del Id del usuario que viene de las notificaciones de evaluaciones. De la misma forma, se corrigió la operación de la funcionalidad "Contestar(prueba)" ya que ocasionaba un problema al momento de intentar falsamente un guardado. 
Se corrigió un problema en los listados publicos que impedia la presentación de resultados iniciales (o de búsqueda) si algún titulo de elemento tenia caracteres espciales como saltode línea, tabulado o comilla simple. Nota Técnica: Se agregó a datatype Time y MaskTime (solo funciona como definición de tipo de datos en el LiteEdit, pero no realiza todavia validaciones). 
Se corrigió un problema en el cual si un elemento sin flujo se editaba con el LiteEdit, este no refrescaba la tabla de cache correspondiente. 
Se adicionaron caracteristicas a los calendarios: Ahora es posible crear y editar elementos desde el calendario. Para esto utilice en el querystring del calendario los siguientes parámetros: IDC (Debe ir con ElementId)ET (Tipo de elemento)sdm (Metadata que representa Fecha inicial)stm (Metadata que representa la hora inicial)edm (Metadata que representa la fecha final)etm (Metadata que representa la hora final) Ejemplo: User/CalendarRender.aspx?S=CacheTable_89_1&I=[Fecha y Hora de Inicio]&E=[Fecha y Hora de Finalizaci%C3%B3n]&L=[Nombre de la actividad]&IDC=ElementId&ET=89&sdm=434&stm=435&edm=436&etm=437 Estas opciones solo están disponibles si se abre el calendario en una ventana aparte (no funciona en tabs debido a la compatibilidad de Swift con IE, a no ser que se remueva con el parámetro AddGeneralEdgeMetaCompat). Nota Técnica: La URL de calendarios necesita caracteres escapados (ejemplo, "ó" es %C3%B3) 
Es posible hacer que en la sincronización con AD se establezca uno o más grupos a cuyos integrantes el sistema les asigne el perfil administrador. Para esto, configure separado por Pipe, el Parámetro AdAdminProfileGroupsOrOUs.  
Se corrigió el mecanismo de sincornización de grupos y OUs, ya que despues de los cambios de v7.1 dejó de funcionar. Adicionalmente, la sincornización no tenia en cuenta la remoción de usuarios de grupos cuando esto sucedia en el AD. 
Ahora es posible utilizar la metadata tipo File (no zip) en el LiteEdit. Nota: Esta no realiza validaciones diferentes a verificar tipos de archivo válidos. 
Se crearon los parámetros DisableUIProfileManagement y DisableUIGroupMembershipManagement para deshabilitar por UI el cambio de perfil y de pertenencia de usuarios a grupos respectivamente (no debería utilizarse con autenticación normal) UPDATE 2015-12-09:  
ahora es posible utilizar metadatas tipo ElementInfoText para paso a de Metadata a flujo (cuando el elementinfotext hace referencia a listados de personas). Si el elementinfotext devuelve 3 secciones separadas por pipe y la última esta definida como "Group", entonces se entiende que lo que pasa al flujo son los miembros del grupo (definido por el ID de la sección 1). 
Las metadatas tipo HTMLReadOnly ahora no ocupan espacio en el EDIT cuando no están visibles. UPDATE 2015-12-14 (servicio solamente) - 
Es posible sincronizar desde AD primero los grupos y de estos extraer los usuarios correspondientes. Para esto utilice el parámetro SynchronizeADGroupsFirst. Release Notes: FullScheduler, Survey Fixes, LiteEdit Uploader, AD Container Syncup, Minor Fixes,  DisableUIProfileManagement , DisableUIGroupMembershipManagement, ChangeSet95.

En los listados de selección de responsables aparecia una imágen rota al seleccionar un usuario sin avatar. 
Es posible sincronizar desde AD primero los grupos y de estos extraer los usuarios correspondientes. Para esto utilice el parámetro SynchronizeADGroupsFirst. 
Se corrigió un problema en el modulo de proveedores en el cual al guardar los cirterios asignados a los responsables, después de haber sido creados la primera vez. no quedaban persistentes los cambios. Asi mismo, ya no se permiten hacer modifcaciones de criterios despues de que se programa la evaluación. 
Ahora es posible usar transiciones paralelas y primero en llegar, para evaluaciones de proveedores. Breaking Change: MessagebaseId 343 debe decir "Criterios de Calificación" 
Es posible desde ahora utilizar valores textuales en calificaciones de proveedores (tabla prov_score), siempre y cuando no utilicen comas. 
Ahora es posible presentar las preguntas de calificación de forma aleatoria. Para esto utilice el Feature (por Addon, solo proveedores) Prov_RandomizeSelection en true 
Es posible ocultar la sección de "acciones y responsables" antes del 1er guardado en el EDIT. Para esto, configure el Feature DoNotShowResponsiblesSectionOnFirstSave por ElementType 
Es posible hacer que por tipo de elemento, se presente el AlternativeId en el mensaje de confirmación de creación de elemento (no para embebidos). Para esto, configure el Feature ReturnAlternativeIdOnSave. Tenga en cuenta que el mensaje debe ser cerrado manualmente por el usuario, para evitar que se pierda el dato cuando el cuadro desaparece automáticamente. 
Es posible ocultar el botón de permisos en el RO y el link de permisos en el EDIT, para no administradores. Para esto utilice el feature por ET AvoidNonAdminsToEditPermissions Release Notes: SynchronizeADGroupsFirst, Prov Fixes, Prov_RandomizeSelection, DoNotShowResponsiblesSectionOnFirstSave, ReturnAlternativeIdOnSave, ReturnAlternativeIdOnSave, AvoidNonAdminsToEditPermissions, ChangeSet 106

Se corrigió el mecanismo tradicional de creación de embebidos automaticos (no basados en plantillas) usando la tabla WFTElementAutoCreation. Esta permite crear embebidos automaticos basados en cambio de estado del elemento padre. Anteriormente los flujos de los embebidos no se creaban de forma completa, por lo que estos quedaban sin la posibilidad de asignar responsables. 
Se agregó el feature por tipo de elemento AutoCreatedElementCreatorMetaDataId que una metadata en un elemento padre, cuyo valor ùnico sirve para definir el ID del elaborador de un elemento embebido autocreado con WFTElementAutoCreation. Defina el feature por ET padre. 
Los campos IsUnique ahora solo tienen en cuenta los elementos del mismo tipo del que se hace referencia. 
[Breaking Change] Por defecto ahora se oculta el botón "Guardar y Cerrar" en EDIT. Para verlo, utilice el feature UseSaveAndClose 
Ahora es posible ocultar el botón "Guardar" en el EDIT. Para esto, configure el feature HideSaveButton 
Los cuadros de detalles (drill-down) de los reporte tipo Pivot ahora muestran de forma correcta el HTML, en vez de mostrar el markup. 
Es posible especificar por cada reporte Pivot si cuando el usuario arrastra y suelta campos, el resultado se muestre de forma contraida por defecto. Para esto configure la columna DefaultReport.AutoCollapseAll en true 
Posición icono obligatorio en control de Fecha. 
Corregido el control de calendarios cuando al modificar un evento, al refrescar enviaba a la semana actual no a al semana donde se modificó el evento. 
Al crear de forma automática o manual las evaluaciones, es posible autosignar todos los criterios de selección para todos los responsables de calificación (si se asignaron por preconfiguración de flujo). Para esto, configure el feature (por addon) Prov_AutoAssignCriteria 
Ahora es posible crear metadatas tipo lista externa, que al mostrar una combinación de personas y grupos, estos bajen a los permisos. La caracteristica particular del caso es que tanto personas como grupos deben existir en las tablas Person y ActionGroup respectivamente y los permisos quedan registrados como personal "interno" (es decir, no usan las columnas de información externa de ItemWorkFlowPermission). Para esto, configure de forma usual la tabla WFPExternal (que de paso debe corresponder a lo especificado en MetaDataValue de la metadata externa) y la fuente de datos debe basarse en la vista vStaff o una similar que entregue tanto personas y grupos con los prefijos P y G respectivamente. Ejemplo:    Release Notes: WFTElementAutoCreation fixes, AutoCreatedElementCreatorMetaDataId, IsUnique per ET, Hide Buttons 
Pivot AutoCollapseAll, Pivot HTML, Cal Fixes, Prov_AutoAssignCriteria, WFPExternal fixes, ChangeSet 130      

En el modulo de proveedores, al usar el feature Prov_RandomizeSelection ahora tambien se vuelven aleatorias las opciones de respuesta por cada criterio. 
Al cambiar de forma automática de estado una evaluación de proveedores, cuando se encuentra en el estado "programado", la aplicación ahora puede calcular la calificación general basado en las calificaciones parciales existentes. También resuelve la calificación final cuando la acción fué configurada como "primero en llegar". 
Es pobile ahora mostrar en los listados (no solo en las listas to-do) el botón Editar, cuando se esta utilizando el ROv3. Para esto, utilice el feature ShowEditButtonInLists por ET 
Por defecto los logos del header son en formato .png. Para usar el formato .gif, establecer el parametro LogosExtension 
se cambió el control de embebidos para usar botones con texto en vez de los clásicos iconos. Para usar la versión anterior, establezca por Metadata el feature EmbeddedUseLegacyButtonSet 
Se mejoró la apariencia de la página de busqueda de embebidos y se corrigió un problema que ocultaba las opciones de búsqueda avanzadas. Nota Técnica: es posible utilizar el nuevo editor HTML en IE siempre y cuando se establezca la compataibilidad EDGE. 
Se solucionó un problema en el cual en elementos sin flujo, no ocultaba las metadatas con ReadOnlySectionVisible en false, en el ROV3. 
El servicio ya no registra error cuando se intentan borrar archivos de la carpeta temp y no hay alguno que cumpla el criterio de tener más de 2 dias de vejéz. New/
Ahora se pueden usar elementos sin secciones que se desplieguen de forma correcta en el ROV3. 
Se modificó el mecanismo que muestra responsables, para el cual también se tiene en cuenta las transiciones con Auto en NULL 
Se modificó el mecanismo de protección de archivos para permitir imágenes en HTML exportado desde excel (zip) 
Se modificó el mecamismo de ampliación de la altura de los iframes de contenido en el ROV3 para IE, Edge, Chrome y Firefox en versiones recientes. 
Se modificó el aviso "por favor espere". Debe modificarse en todos los .css 
Se corrigió la posición de las ventanas flotantes, botones, menus y posicionamiento del ROV3. Actualizar static.css Release notes: Prov_RandomizeSelection 
Prov partial scores, ShowEditButtonInLists, EmbeddedUseLegacyButtonSet, ROV3 UI fixes, minor fixes.

Ahora es posible mostrar en la agenda de pendientes de módulo, elementos agrupados por estado teniendo en cuenta si se ha definido información en WorkFlowStateEquivalence. De esta forma, si se usa el parámetro UseEquivalencesInToDoLists , los estados equivalentes se ocultan y las tareas de tales estados se ven en los estados "principales". Se requiere que tanto el estado "principal" como el estado equivalente tengan VisibleInToDoLists en true. 
En el EDIT, ahora se usará por defecto el sistema de botones en la parte inferior, para hecer los cambios de estado (ejecutar las acciones). De esta forma, la opción de usar el listado clásico de "Acción" solo se podrá usar si se establece el feature UseLegacyEditActionMenu por ET. Tenga en cuenta que el administrador puede seguir ejecutando acciones a nombre de otras personas, para lo cual cada se usa el messagebaseId 416 "a nombre de" el cual puede ser cambiado de ser requerido. Queda pendiente sin embargo, el desarrollo de poder utilizar un texto de ayuda (alias), el icono personalizado y la opción de ejecutar la acción directamente sin que se presente el cuadro "comentarios". 
Se implementó el orden de los botones del EDIT, apareciendo primero los de "Guardar". Release Notes: ChangeSet 152, UseEquivalencesInToDoLists, Edit Action Bar. Update 2016-02-24. 
Se solucionó un problema en el cual al cerrar la sesión de una aplicación en un mismo servidor, se borraban las cookies de autenticación de otras aplicaciones Swift. 
Se agregó a la opción "ExternalDefaultsQuery" la posibilidad de usar el elemento padre, cuando el propio elemento (hijo) es un embebido. Para esto utilice "SourceElementId" en la configuración: Ejemplo:   

Es posible enviar correos con attachments que provengan de metadatas tipo File. Para esto, configure la columna AttachmentMetaDatas de NotificationMessage con los id de metadata separados por comas. Funciona para correo sincrónico no agrupado y para el manejado por colas. No funciona por ahora en correos agrupados. 
Es posible restringir que valores se muestran en metadatas externas (listados) basados en la pertenencia a grupos (de la persona autenticada en el sistema). Para esto configure la tabla EVAGRestriction y el Feature por ET EnableEVAGRestriction en true 
Es posible ahora utilizar elementos tipo Plantilla que devuelvan una o más metadatas tipo File que son copiadas al elemento consumidor, si se logra la concidencia tipo match plantilla-consumidor. Para esto, configure por ETMD (del elemento consumidor) el feature FileTemplateElementTypeId con el ID del tipo de elemento plantilla. Release Notes: ChangeSet 160, AttachmentMetaDatas, EVAGRestriction, FileTemplateElementType.

Es posible definir la ruta de la ayuda general del sistema y de los videos. Para esto se crearon los parámetros HelpDocumentPath y HelpVideosPath respectivamente. En caso de no configurarse HelpVideosPath, no se muestra link alguno. 
Se implementó la ayuda por cada tipo de elemento (ayuda de formulario) que se presenta ahora en la parte superior derecha del EDIT. Para esto llene el campo ETHelpText de ElementType. [Breaking Change] Anteriormente se hacia con el botón de ayuda de la barra de botones superior, pero perdió significado al momento de implementar los tabs. 
Se adecuó el editor HTML al campo de cambio de estado con las acciones ejecutadas desde la barra de botones del EDIT. 




Se implementó un mecanismo para tener más de una metadata (n) en la configuración de MetaDataValue.ExternalDefaultsQuery. Ejemplos:   Select top 1 ElementId from Element where ElementId = {0} and ItemWorkFlowId = {1} l 332,345   Select top 1 ElementId from Element where ElementId = {0} and ItemWorkFlowId = {1} and X={2} l 332,345,356   Notese que el número de parámetros después del Pipe, corresponde an número de parámetros {} antes del mismo.  
Se creó una página simple para lanzar la búsqueda de un tipo de elemento. Para esto configure un menú o utilice directamente la URL    ../User/ETSearch.aspx?AppModuleId=<ID_DEL_MODULO>&et=<TIPO_DE_ELEMENTO_A_BUSCAR>    Ejemplo: ../User/ETSearch.aspx?AppModuleId=1&et=1  Una vez se presione el botón de buscar, este lanza la página de listados buscando el texto que se indicó. Tenga en cuenta que solo funciona para un tipo de elemento y los parámetros de búsqueda son los que tiene la página de listado correspondiente por defecto. Release Notes:   HelpDocumentPath, HelpVideosPath, ETHelpText 
ExternalDefaultsQuery multiple params, ETSearch, Fixes, ChangeSet 168 Update: 2016-03-08 
Se removió el ordenamiento por relevancia del procedimiento almacenado de los listados (debido al degradamiento con más de 10000 registros) y se trasladó la responsabilidad a la aplicación web. 
Se mejoró el mecanismo de protección del ROV3, ofuscando el código requerido.  
Es posible definir por tipo de elemento, que los contenidos del ReadOnly puedan ser copiados. para esto defina el Feature (por ET) EnableROCopy. No aplica para contenido ZIP-HTML. 
Se solucionó un problema que impedía pasar ElementInfotext con Fechas a Flujo. 
Se ajustó la altura de los widgets, cuando son 2 lado-a-lado.

Se ajustó la funcionalidad del menú "Mis Tareas"-->"Mis Pendientes", para que muestre los resultados de forma análoga a como lo hace la agenda de pendientes. Por defecto se muestran resultados en los estados que generan pendientes.  
[Breaking Change] Se ocultó "Todas mis Tareas" ya que no representa valor funcional para la aplicación. 
Se ajustó el refresco de los listados cada vez que se modifica un elemento que se abre desde tal listado. El refresco no mostraba información real basada en la visualización (búsqueda textual o por árbol). 
Critical: Se solucionó un problema en el cual al tener 2 listados abiertos en diferentes tabs del browser, al guardar un elemento abierto desde uno, y luego al presionar "Buscar en el árbol" en el otro, se muestran los resultados del TIPO del 1er tab.  
Al realizar una acción en un elemento abierto desde un listado y al guardarlo, ya no cambia la página o el ordenamiento actual del listado visible. 
Se estableció la llave entre ItemWorkFlow.CreatedBy y Person.PersonId que hacia falta. Esto ocasionaba que se pudieran borrar personas que aun estaban asociadas a elementos ( a flujos especificamente). Esto ocasiona el 
el cual no muestra el estado, ya que el sistema no puede determinar la información correcta del flujo al no existir el usuario. Antes de aplicar este release, determinar que flujos estn huerfanos. Para esto ejecute  select * from itemworkflow where CreatedBy not in (select personid from person) y cambie los usuarios "CreatedBy" a uno existente o cree los usuarios con el ID correspondiente. 

Release Notes: ChangeSet 181, MyTasks 
Search Fixes,  ItemWorkFlow.CreatedBy 










Solucionada una situación en la cual al tener visible el titulo en un elemento emebebido y configurado como primera columna en los embebidos, ocasionaba un error que no permitia ver la lista en el elemento padre. 
Se cambio el titulo "autoembedded" de los embebidos automáticos por el nombre del ET. Release Notes: ChangeSet 2014, Fixes.

Se implementó una técnica diferente para apicar los scripts de no copiados a los anexos que se suben en el sistema, pues anteriormente ocasionaba un problema de "el archivo esta siendo usado y no puede ser accedido" (SE reportó que ocurre al crear nuevas versiones de elementos - especificamente se debe probar cuando el zip del anexo original no tiene previamente incluido el script contra copia) 




Se creó un set nuevo de iconos para la app web (favicon) 
Se reemplazó el logo de la aplicación por la nueva versión. Se liberó la versión "beta" de la parte del aplicativo que puede ser accedida de una manera más natural desde dispositivos móviles. Consiste de una seria de páginas HTML5 con comportamiento "responsive", es decir, que se adaptan al tamaño de la pantalla del usuario. Las siguientes son las caracteristicas de esta versión beta: - Tiene un menú de acceso por todos los tipos de elementos del sistema- Presenta listados de los elementos, de todos los tipos, a los cuales el usuario tiene permisos.- Permite crear visualizar los elementos, utilizando el ROv3- Permite crear y editar elementos usando el LiteEdit (con las limitaciones que este tiene).- Permite el cambio de estado de los elementos, siempre y cuando sean acciones propias del usuario (no se puede avanzar en el flujo a nombre de alguien más).- Reconoce al día de hoy la variedad más amplia conocida de dispositivos móviles. La intención de la versión beta es recoger todos los comentarios y sugerencias, para lo cual se debe tener en cuenta el alcance y las limitaciones anteriormente descritas. Para configurar una aplicación móvil, se debe realizar lo siguiente:- Configurar una página de inicio: Para esto configure el parámetro MobileLandingPage. De no tener valor, no habrá acceso móvil.- Configurar la columna ICON (obligatorio) en la columna ElementType. Los valores de iconos aceptables, son los de la fuente Font Awesome, cuya referencia está en: https://fortawesome.github.io/Font-Awesome/icons/- Para la presentación de algunas fuentes, el browser cliente debe tener acceso a fonts.googleapis.com Release Notes: Mobile beta, Logos, Fixes, ChangeSet 225  

Mejoras generales de navegación y seguridad a la versión responsive (móvil) Reminder: Dejar ReplaceClassicLinksInHTML en false en todas las aplicaciones. Release Notes: Mobile fixes, ChangeSet 249 Update 2016-05-06 
Lite edit soporta de forma correcta la preconfiguración de flujos. 
MaxNumeric ahora en Metadatas tipo texto en el LiteEdit 
MaxLength, para metatadas tipo texto en LiteEdit 
Es posible reestablecer todas las contraseñas del sistema, enviando un correo basado en una plantilla especifica. Para esto abra Admin/AdminUtils.aspx y siga las instrucciones. A los usuarios les llegará un email basado en la plantilla y luego que reestablezcan su contraseña, el sistema los redirigirá a la página designada. [Breaking Change] La funcionalidad de reestablecimiento general de contraseñas ya no está disponible en diagnostics.aspx. Update 2016-05-16 [Breaking Change] Al establecer en true el valor de WorkFlowState.CreatorCanRead, el usuario creador de un elemento queda con permiso de lectura RO. Update 2016-05-17 
Se agregó MobileOnly a la tabla person, para indicar que la persona solamente tiene acceso a la versión móvi de la aplicación. 
El reestablecimiento masivo de contraseñas ahora utiliza la cola de envio de correos, por lo que es necesario activarla
Nota: Se debe borrar todo el contenido de carpeta bin cuando se aplique este release 
Nueva versión web.config on la versión de aplicación. Ya no se requiere usar la llave workflowprovider 
Exportación a excel de las grillas ahora solo exporta as columnas visibles y conserva contenido HTML en la misma fila del registro. 
Se implementó en las grillas el botón "Exportar como HTML" que exporta la información de las columnas que se están viendo, en un HTML simple, basado en la clase ROListTable de RO.css 
Se solucionó el inconveniente en el cual no es posible generar las versiones de impresión cuando el servidor utiliza SSL y se ha removido SSLv3 y DH Cipher Suite Nota: Tener en cuenta todos los cambios de la v10.1 (la cual no se debe usar). Release Notes: SSLv3 
versioned web.config, Grid HTML Export. Update 2016-06-01 
Se habilita la opción de copiado desde el RO en chrome (se requiere modificar Ro.css) 
([Breaking Change]: La reasignación ahora no modifica ItemWorkFlowHistory 
En CalendarRender, es posible incluir en la url el modificador &CUO=true para indicar que el calendario es de la persona actualmente en sessión. 
Solucionado un problem en el selector de embebidos que erroneamente busca una columna "nombre"

Se implementó la sección de "configuración de usuario" con un botón en la parte superior de la aplicación. Allí se puede editar la foto (avatar) del usuario tomando una foto o subiendo un archivo. Adicionalmente alli se puede subir una firma escaneada, que se puede utilizar en el RO y la versión impresa de la aplicación. 
Se puede utilizar la firma de 2 maneras diferentes: 1. Como una sección completa en el RO (y la versión impresa), para lo cual configure el parámetro UseSignaturesSection. En este modo configure los parámetros SignatureActionTemplate y SignatureTemplate para definir la forma en que sale esta información (debe definir ademàs workflowstate.showsignatures y workflowstate.responsiblesappearinsignatures). 2. Como parte de una metadata ReadOnlyList, para lo cual la consulta determinada debe devolver una columna con el nombre DMSignature, que contenga el personId como varchar (es decir, cast(PersonId as varchar) as DMSignature). En este caso, el sistema incluye la firma de forma automática cuando se muestra la tabla. 
Ahora es posible usar más de una marca de agua en la versión impresa. Para esto configure la tabla Watermark. Tenga en cuenta allí la columna OperationTypeId (con 2 valores posibles - 1 Controlada y 2 No-controlada) para el registro de la operación en OperationLog (si hay mas de una operación controlada, por ejemplo, se distingue en el OperationLog por la columna description, donde el último digito indica la marca de agua usada). Por otra parte, debe configurarse WatermarkActionGroup con los grupos que tiene acceso a las marcas de agua determinadas (debe configurar como minimo el grupo todos). [Breaking Change] Quedan sin uso los parámetros PrintableVersionWatermarkImagePath y DefaultNonControlledPrintedVersionImagePath) 
Se creó el Feature AddPDFVersionToTargetMetaData para metadatas tipo File, para indicar que los anexos de Word que se suban alli, serán convertidos a PDF y ubicados en otra metadata (definida en el value del feature), del tipo File. Si se desea que la segunda metadata "imite" la operación de la 1era (es decir, por ejemplo, borre la versión PDF cuando se borre la versión DOC) debe establecer en true el parámetro ContentMirrorsSource de la 2da metadata. 
Se solucionó un problema potencial con el visor de PDF, en el cual en IE9+ se generaba un error de "stream not found" cuando se abria el anexo desde el RO, un listado u el EDIT. Se debia a la imposibilidad de IE para manejar http302 de manera automática. Adicionalmente, los links hacia el visor de PDF desde e RO usan ahora el prefijo "SECURED" de tal manera que no se pueden reutilizar por otra persona (ni por la misma persona que lo abre, luego de una hora), ni se puede determinar el nombre del archivo original. 
"La selección de embebido se duplica" 
Se eliminó "integra" del código fuente. Esto implica que en todas las instalaciones nuevas, se requiere borrar el contenido de la carpeta bin antes de aplicar el release. En el servicio windows, hay que desinstalar, borrar los archivos .dll y .exe y una vez copiado el release, volver a instalar el servicio como se define en el manual. 
Se eliminó el limite de caractéres en los comentarios HTML en la acciones de flujo, en el RO y en el EDIT. Asi mismo, se agregó el botón de subr anexo. 
Se creó un mecanismo para crear nuevas versiones (fondo) de elementos, cuando la fecha actual coincide con el valor de una metadata del elemento. Para esto, configure el feature NewVersionTriggerMetaData por tipo de elemento (especifique el id de una metadata texto, date, elementinfotext o calculada). Adicionalmente, confiure el servicio en ServiceConfig para ejecutar el proceso CreateValueBasedNewVersions. Tenga en cuenta que la fecha debe estar en formato YYYY-MM-DD o YYYY-MM-DD HH:MM:SS y debe ser un día hábil (puesto que el servicio Windows solo se ejecuta entre semana). Tenga en cuenta además que los unicos elementos que pueden cambiar de versión son aquellos cuyo estado esta marcado en la tabla WorkFlowState como JumpOutAllowed y cuyos tipos de elemento manejen versionamiento. 
Se implementó la inclusión de los logos "preferenciales" en el contexto multiempresa. En este caso, es posible incluir en header del RO y de la versión impresa, el logo (incluso junto a otro logo si si se requiere) preferido de una persona, definido por la columna "Logo" de actiongroup (Si el registro está marcado como "IsPreferred", el logo se presenta cuando una persona pertenece a más de un grupo con más de un logo definido). Para usar este logo, incluya en el HTML del encabezado (y de la versión impresa), el texto $PreferredLogo$ . Ejemplo <div>Lorem Ipsum <img src="$PreferredLogo$"/></div> 
Adicionalmente, se implementó un logo general "transversal", cuando se define por ET el feature TransversalUseMetaDataValueId. Al definir allí un metadatavalueId, al elemento que tenga ese valor se sobreescribe $PreferredLogo$  y se presenta el logo definido por el parámetro TransversalUseLogoURL 
En la conversión de Word a PDF automática (con el feature AddPDFVersionToTargetMetaData mencionado anteriormente) es posible quitar headers y footers de la versión convertida, usando por metadata (la que guarda el PDF) el feature RemoveHeaderAndFooter. Release Notes: Changeset 321, AvatarCam, Signatures,AddPDFVersionToTargetMetaData, ContentMirrorsSource, NoIntegra, NewVersionTriggerMetaData, $PreferredLogo$, RemoveHeaderAndFooter

Se creó una página para la preconfiguración de Permisos ubicada en Admin/PermissionPreconfig.aspx (debe crearse una entrada en la tabla Menu). A diferencia de la página de preconfiguración de flujos, es posible establecer sets de preconfiguración sin condiciones y solo es posible agregar/borrar miembros y condiciones (es decir, no editar las existentes). 
Se creó un mecanismo que permite sincronizar los cargos de DocManager desde el directorio activo. Se puede utililzar desde AD el campo nativo "Job Title" o un atributo extendido. Para cualquier caso, configure el parámetro PositionAttribute con el nombre de ese campo (al dejarse vacio o nulo, no se efectua la sincronización, por lo que hay que tener cuidado de dejarlo vacio cuando sea el caso). [Breaking Change] Se creó Position.Enabled para indicar que el cargo está habilitado o no. Consecuentemente, es necesario al aplicar este release y los siguientes, establecer Enabled = 1 para todos los cargos cuando no se ejecuta la sincronización. Tener en cuenta que se adicionó un nuevo registro a ServiceProcess 
Se adicionaron las llaves LDAPUserName y LDAPPassword al .config del servicio, para usarse en pruebas cuando el servidor NO este en el dominio de sincronización (de otra forma, deje los valores en vacio). 
Se creó el parámetro SignatureTemplateForROList que contiene el template de la firma cuado se usan ROLists (en el RO). Ejemplo: <img style="max-height:70px;" src="{0}"/>  (siempre debe llevar{0}) 
En este caso se cambió el mecanismo que remueve headers/footers de documentos de Word. 
Se corrigió la situación en que para tomar la foto del avatar, en Chrome >= 47, en cuyo caso se obliga el uso de flash si no hay https. 
Es necesario probar que salgan o no, los botones de guardar y guardar y cerrar en los estados que son, para las personas correspondientes. Release notes: PermissionPreconfig, Position SyncUp, ChangeSet 333 UPDATE: 2016-07-06 
El importador de elementos ahora permite Importar campos HTML e importar permisos. Para esto último, la plantilla generada trae una hoja "Permissions" donde se debe llenar por cada ImportId, los permisos para personId o actiongroupId (uno de los 2 por fila), el permiso por estado (ver tablas Permission y WorkFlowState respectivamente para conocer los ID). UPDATE: 2016-07-13 
EL importador de elementos ahora importa de manera correcta responsables cuando no se definen fechas en las columnas de acciones. De la misma forma, deja los elementos en el estado inicial cuando no se definen tales fechas. 
Se agregó PersonId a la tabla del administrador de usuarios. 
Se agregó el scroll horizontal a la exportación de grids. 


Se corrigieron errores de despliegue en IE9 cuando se usa la versión responsive. 
Mejoras en el despligue de Items de Suggest en versión LiteEdit/Mobile y apariencia del botón borrar. 
Disminución separación caracteres fuente titulo EDIT Mobile para ubicar titulo con más extensión. 
Se corrigió el recalculo de los campos calculados del elemento padre putativo de un elemento (embebido). 
Se corrigió una situación en la cual al crear un elemento (al guardarlo) no se calculan suficientemente los permisos de una persona, cuando esta habilitada algunas de las opciones AdminCanEdit, AdminCanRead, CreatorCanEdit, CreatorCanRead. 
Es posible mostrar mapas (elementos) con anexos Word o con contenido HTML. Para esto establezca el valor de la tabla Widget (para Widget1) como  "../User/MapRequester.aspx". Adicionalmente asegurese de dejar el parámetro UseLegacyMapRequest en false. [Known Issue]: Los links debe llevar target="_blank". 
Se añadieron otro tipos de DataType a la edición de Campos en formularios. Release Notes: MapRequester, LiteEdit improvements, Permission Fixes, Changeset 404. Update: 2016-08-23 
Se solucionó una situación en la cul al crear dependencias de flujos cuando WorkflowId, MinorChangeWorkFlowId y MajorChangeWorkFlowId son diferentes, la aplicación tomaba el id original. (Carval)

Se crearon 3 mecanismos para manipulaciòn segura de archivos Excel:  Firmas digitales. (No confundir con firmas escaneadas). Permiten establecer la autenticidad de un archivo de excel. Una vez se firma digitalmente el archivo de excel, este no puede ser modificado a no ser que se remueva la firma digital (de hecho se remueve automáticamente al modificar el archivo). Para crear firmas digitales, se debe contar con un Certificado Digital (no confundir con certificado SSL) lo que se puede hacer en una entidad certificadora (globalsign, certicamara, etc) de extensión .pfx y se debe ubicar en la carpeta ProtectedZone. Luego entrar a /Admin/ParamConfig.aspx y en Advanced Parameters --> Digital Certificate Name escribir el nombre del certificado y en Digital Certificate Password escribir la contraseña de llave pública del certificado y presionar Save. Por otro lado, para que los archivos de una metadata tipo file (Excel) sean firmados digitalmente (por estado) se debe configurar el feature DigitalSignatureWorkFlowStateId (debe indicar el id del estado en el que se aplica la firma).  Bloquear celdas y hojas. Un segundo nivel de seguridad temporal se establece mediante el bloqueo de hojas y celdas (contenido) para evitar su modificación. Aqui, el sistema asigna una contraseña que solo se maneja desde la aplicación y cualquier modificación solo se puede hacer sobre una copia del archivo que se baja. No es un nivel de seguridad "total" pero permite bloquear temporalmente la disposición incorrecta de los datos. Para esto, configure por metadata los features WriteProtectFileWorkFlowStateId y WriteUnProtectFileWorkFlowStateId (se indican los estados de bloqueo y desbloqueo respectivamente). Conversión a PDF. Similar a como se hace con archivos de Word, se puede convertir a PDF los archivos de excel que se ubiquen en una metadata con tal fin. Para esto recuerde utilizar el feature AddPDFVersionToTargetMetaData por metadata. Esta versión de PDF ajusta el contenido de las hojas para que salgan todas las columnas completas por hoja. Se deshabilita temporalmente el copiado y la impresión.  Nota Técnica: Las anteriores operaciones solo funcionan con archivos de extensión xlsx. Nota Técnica: La inclusión de firmas digitales en archivos de Word y PDF no está disponible todavia en esta versión. 
Es posible crear firmas digitales para archivos .pptx, .pdf, .docx (y .xlsx), como se describió en la sección anterior. 
Es posible crear Certificados Digitales para firmar los archivos, con un año de validéz, a nombre de DocManager, usando Admin/AdminUtils.aspx 
Se creó el Parámetro ForceETMDVisibilityRestriction para forzar la aplicación correcta en algunos casos de ETMDrestriction cuando existe el caso Apply-To-All Invisible y GrupoX Visible de una metadata. 
Se creó el parametro DoNotUsePutativeCodeFromParentIds que tiene, separados por comas, los tipos de elementos de los que no se debe usar el código para los embebidos (de los que usan CodeUsesPutativeParentId). Release Notes: Digital Signatures, ChangeSet 413 Update: 2016-09-02 
Al crear una nueva versión de un elemento no refrescaba la paginas, ni los registros de cache  

Los elementos que no son públicos no es posible verlos usando su URL de forma directa (ICA) 

Es posible usar una interfaz de hoja de cálculo básica, que muestre información de una consulta SP CUSTOM sin parametros. Es una versión inicial y limitada. Para esto utilice la URL Spreadsheet/Render.aspx?S=Custom_XXX donde Custom_XXX es el SP CUSTOM con la información. Algunas características:  Se muestra una hoja tipo excel como la devuelve la consulta. Solo funciona en navegadores HTML5 - full (IE10+, Chrome, FF, Opera) Se pueden usar formulas con el "=" y con la convención de coordenadas de excel (A1, B2, etc) teniendo en cuenta que el titulo es la fila 1. Se pueden usar formulas interpretadas por DocManager: Ejemplo: =SUM([Valor],[IVA])  .... El sistema reemplaza lo que este en [] (ejemplo [Valor]) por el valor de esa columna en la misma fila. Ejemplo 2: =TRUNC(100*[Alcanzado]/B6+@PV,2) .. TRUNC es una formula de truncado de decimales (2 en este caso). @PV significa "Valor Previo" en la misma columna. Requiere un componente que por ahora no está licenciado (versión de prueba).  
Se cambió el comportamiento del botón salir:  En LDAP y Hybrid, al salir se envia la página definida por HybridAuthLandingPage. Esta página es cualquiera, pero se recomienda usar Public/Start.aspx la cual elimina la información de sesión y las cookies. Start.aspx usa el estilo definido por static.css y custom.css ( cómo la página de Login), consecuentemente se hace necesario definir una imágen de fondo (custom.css). En Normal envía a la página de Login, pero elimina la información de sesión en caso que el usuario haga clic en "back" del navegador.  
Al usar el feature CreateInLineButton en false, se oculta el botón de "Nuevo" en las metadatas tipo Embebido. 
Solucionado el inconveniente del "enter" en las metadatas tipo texto. 
Se implementaron medidas para atrapar errores adicionales en el servicio, en la sincronización de usuarios AD  Release Notes: Spreadsheet, Infamous col 12, Public direct access, ChangeSet 444 UPDATE: 2016-09-20 
Para la interfaz de hoja de cálculo, se pueden ejecutar consultas que con 3 select devuelvan en orden: Titulo, Contenido de la hoja de Cálculo y Scripts adicionales a ejecutar en la página (colores, celdas combinadas, etc). Ver DEV_ASIC [Custom_GetCuadroMando2] UPDATE: 2016-09-29 
Con autenticación AD no era posible exportar xls y htm desde las grillas, en chrome, IE. UPDATE: 2016-10-05 
La versión LiteEdit (mobile) ahora soporta MDVAGRestriction y EVAGRestriction (restricciones de valores de metadatas para listas internas y externas respectivamente, basado en la pertenencia a grupos).
Se corrigió MDVAGRestriction en árboles no-custom de los listados.
Se corrigió un problema con las listas suggest internas, en la cual no se conserva la visibilidad al tener en la jerarquia un padre (y pedía llenar el campo en el EDIT asi no se viera)
Implementación de tabla de idiomas en varias partes de la aplicación
Se corrigieron estilos básicos en la página de calificación de proveedores.  

Se modificó la página de calificación de proveedores, en la cual se reemplazo el sistema de botones por una grilla, cuyos campos se puede personalizar. Los campos corresponden a metadatas (y campos como [Name]) del ET criterio. Para esto configure el Feature EvalColumns (que se configura en la tabla AddOnFeature), separando por comas los nombres de campos a visualizar, con brackets []. Ejemplo: [Name],[Orden],[Razón]. Cómo mínimo debe ir [Name] 
se corrigió una situación en la cual se requeria guardar dos veces cuando hay dependencia de transiciones de un elementinfotext (cuando se cambiaba de "no paso" a "paso") 
Mejoras visuales en el EDIT, los acordeones e iconos.  Release Notes: EDIT UI improvements, EvalColumns, XRestriction 

Solucionado un problema de latencia en las operaciones que involucran movimiento de personas a grupos. 

Solucionado un problema en el botón salir en ciertas versiones Mozilla/Webkit que impedia usar el metodo location.replace de forma correcta. 
Se creó la página de diagnóstico de tiempos de respuesta de la base de datos, disponilbe en Config.aspx. Tenga en cuenta que es posible que registre errores en ErrorLog debido a que se intenta enviar una cadena de comando demasiado grande (aunque eso no afecta el resultado de la operación, ya que lo que se mide es la transmisión/ejecución/recepción). 
Se implementaron las jerarquias en la versión EDIT Mobile asi:             Lista interna de selección simple --> Lista interna de selección simple           Lista interna de selección simple --> Lista interna de selección múltiple            Lista interna de selección simple --> Lista Suggest           Lista Suggest --> Lista Suggest           Lista interna de selección simple  --> Cajas de Texto, Fechas, Embebidos  
Ahora es posible usar HTMLReadOnly y embebidos en EDIT Mobile. 
Se implementó el filtrado de listas de acuerdo a la pertenencia a grupos, en la versión EDIT mobile. 
Se parametrizó el número de días en el cual el link que se envía en el correo para reesstablecer la ccontraseña, es válido. Use PasswordResetExpirationDays (por defecto son 7 días) 
Es posible establecer si el correo de reestablecimiento de contraseñas lleva el login del usuario. Para esto use el parámetro SendLoginInPasswordResetEmail. Tenga en cuenta que la plantilla debe tener el campo correspondiente. 
Se creó el feature NeverShowResponsiblesSection (por ET) para determinar si se debe ocultar la sección de permisos y responsables a usuarios no administradores. 
Se creo User/CustomList.aspx para mostrar listas producto de queries Custom, que tengan en cuenta opcionalmente el usuario actual. Uselo asi: User/CustomList.aspx?q=CUSTOM_ListMyElements&m=true&t=titulo%20del%listado donde q lleva el nombre del procedimiento custom, m=true indica que lleva como parámetro el usuario actual y t es el titulo a mostrar (usando ). Debe construirse manualmente el link para abrir el elemento (Ver custom_ListMyElements en JeronimoSAGRLAFT). 
La página que permite el reset de emails (Admin/AdminUtils.aspx) ahora permite que solo se haga reset a aquellos que no han cambiado todavia su primera contraseña (checkbox).  
Es posible cambiar de estado un elemento (EDIT) sin requerir de llenar los comentarios. Para esto use el feature SaveWithoutComments por ET  Release Notes: Mobile Hierarchy, DBDiag, PasswordResetExpirationDays, SendLoginInPasswordResetEmail, CustomList, Changeset 538 UPDATE: 2016-11-30  
Ahora las fechas que bajan a flujo desde metadata quedan si no se ha establecido una transición inicial ( o no se usa un botón de cambio de estado) 
Se creó el Feature OnePerPerson que permite definir por tipo de elemento, que una persona solo pueda crear/editar un solo elemento de ese tipo y en caso de querer crear otro, lo redirija a la página definida por el parámetro OnePerPersonRedirectPage 
Se creó el parámetro DisableAutoTransitionOnSaveDraft para deshabilitar por ET la ejecució de la transición automática en el 1er guardado (la designada) cuando se usa el botón "guardar borrador".  UPDATE: 2016-12-05  
Se reactivó el uso de WorkFlowTransition.SpecialAction en el EDIT: Permite redirigir a una página específica de la aplicación luego de ejecutar una transición. 
Ahora es posible excluir copia de ciertas metadatas al crear nuevas versiones de elementos. Para esto, defina individual ID de metadata por ET para el feature NonCopiableMetaDatasBetweenVersions (es decir, una metadata por registro) 
Es posible definir estados en los que unicamente apliquen las plantillas tipo FIle. Para esto, defina por ET el feature FileTemplateElementTypeWFState (un estado por registro) 
En la creación de nuevas versiones, aplica ahora la ejecución de la 1era transición, si existiese. 
El servicio Windows ahora ejecuta el proceso de creación de nuevas versiones basado en fechas (metadata) todos los días. 

Calificación Proveedores. Es posible evitar presentar el valor "no aplica". Para esto, configure el feature DoNotUseNA por Addon
Calificación Proveedores. Problema del redirect del administrador en proveedores fue solucionado.
Calificación Proveedores. Una vez una persona califica, ya no puede volver a hacerlo
Calificación Proveedores. Se implementó el botón "Guardar Borrador"
Calificación Proveedores. El campo "Informe" ahora es html (nota técnica: consecuentemente, el campo Prov_AccreditationConfig.Notes paso de Varchar(7000) a varchar(max))
Calificación Proveedores. Ahora por defecto el cuadro inferior de descripción de los criterios usados, ya no aparece. Para mostrarlo defina el feature ShowCriteriaExplanation por Addon (breaking change)
Es posible que las nuevas versiones disparadas por fechas (definidas por el Feature NewVersionTriggerMetaData) ejecuten cambios menores. Para esto, por ET defina el feature TriggeredNewVersionIsMinor en true (si no se encuentra el valor, el cambio por defecto es de fondo).Para su ejecución, debe configurarse en la tabla ServiceConfig, el ServiceProcessId = 21 (CreateValueBasedNewVersions). Este se ejecuta una vez al día, por lo que en la tabla ServiceConfig las columnas CustomHours e Interval deben quedar en NULL. La ejecución de este proceso se realiza según la hora configurada en la llave TasksExecutionTime02 del correspondiente web.Config del servicio.En el log del servicio encontrará un registro similar a este:2019-12-10 13:49:49 === Begin of CreateValueBasedNewVersions 2019-12-10 13:49:50 === End of CreateValueBasedNewVersions Element 437 created a 
version 438 with status Success.  
Se creó una página (beta) para mostrar gráficas tipo dashboard. Para esto abra la página widgets/dashboard.aspx ( si se usa en iframe debe usar compatibilidad Edge). Configure las gráficas en la tabla DashboardItem:  DashboardItemTypeId: El tipo de gráfica definida por la tabla DashboardItemType. Source: Vista que contiene la información de la gráfica. Para Tipos 1,2,4 y 5 use la misma estructura del widget de Chart.aspx (ver ejemplos en dev_JeronimoContratosTienda) Title: El titulo de la gráfica. OrderBy: El orden en que se presentan las gráficas.   
Se creó el addon LocalPeer, que permite copiar y reemplazar el EMDV de una metadata tipo file (y el archivo físico correspondiente) desde un DocManager "source" hasta un DocManager "target". La copia se dispara con una o más transiciones en el source. Para esto, defina los siguientes features por AddOn (para este addon especificamente): LocalPeer_ConnectionString: Cadena de conexión encriptada del "target". Para encriptarlo, copie y pegue una cadena de conexión a la base de datos en admin/AdminUtils.aspx en la sección "Peer Utilities", presione el botón encrypt y copie el resultado en la tabla AddonFeatureLocalPeer_CopyableSourceTargetMDPair: Pareja de ID de metadata origen-destino, separadas por coma: Ejemplo 14,23 representa la metadataid 14 en el source y la 23 en el target.LocalPeer_CopyableSourceTargetETPair: Pareja de ID de ET origen-destino, separadas por coma: Ejemplo: 12,13 representa el ET 12 en el source y la 13 en el target.LocalPeer_SourceTriggerTransition: (Un registro por Transición, pueden ser múltiples) WorkflowtransitionId que de ocurrir en el source, dispara la copia del anexo. LocalPeer_MatchStoreProcedure: Procedimiento almacenado que recibe como parámetro un ElementId, que devuelve a su vez el elementId en el target al cual se le copiará el anexo. Este proceso ocurre en tiempo real cada vez que se cambia de estado un elemento en el source. Se puede correr de forma másiva usando el app windows que esta en \\dmserver\Instaladores\DM Setup Ops 1.1\Release.rar en el Botón "File Import" Sección de la derecha. ReleaseNotes: Prov fixes, Dashboard.aspx, LocalPeer, ChangeSet 568. UPDATE: 2016-12-26 
Se creó el feature ReplaceSquareBracketsByBookmarksOnOverwrite para el AddOn Transformation para permitir que el sistema vuelva y trate de reemplazar los textos especiale (contenidos en los orchetes cuadrads []) por los bookmarks de word, cuando se usa el documento actual del elemento consumidor y no directamente la plantilla UPDATE: 2016-12-27 
Se creó el feature FileTemplateDescriptorMetaDataId para junto con FileTemplateElementTypeId, defina para el ETMD consumidor (es decir, configurarse en ETMDFeature) la metadata en el ET plantilla (metadataid) que sirve como "descriptor", es decir, la metadata que no se usa para hacer match. Solo funciona con una. UPDATE: 2016-12-30 
En la creación de nuevas versiones se ejecuta la obtención de anexos mediante plantillas (Feature FileTemplateElementTypeId) . Adicionalmente se incluyó mensaje de espera mientras se ejecuta la operación en el EDIT. UPDATE: 2017-01-26 
"Marcadores HTML se triplican". Ver Notas de flujo del 
no es retroactivo, actualizada solo la linea base (carpeta bin)

"La preconfiguración de Permisos solamente esta asignando permisos para los estados del flujo principal" 
"No ejecuta la frecuencia el snapshot" 
En la página de CacheTable, se adicionó el botón de recalculo de Calculated y ElementInfoText para todos los elementos de la aplicación (el mismo que se usa en DocManager.Monster). De la misma forma, se adicionó un botón para incluir esos datos en las tablas de cache correspondientes (en cuyo caso, las metadatas -calculadas e infotext- deben estar CacheEnabled=false) 
Corregida una situación en la que si hay más de una metadata tipo HTML que consuma información de plantillas HTML, no mostraba de forma correcta el contenido correspondiente. 
Corregida una situación en la cual si hay más de una metadata tipo file que se alimenta de archivos de plantillas en un proceso best-match (transformation o contratos), no reemplaza los bookmarks en word si se guarda el elemento (después del 1era guardado). 
Se creó un mecanismo para reemplazar elementos embebidos por sus nuevas versiones publicadas. Para esto configure por Metadata o ETMD (metadata embebida) el feature UpdateObsoleteElements en true, para que se cambie el valor en RelatedElement cuando el evento de publicación (y puesta en obsoleto de la versión anterior) suceda. Nota técnica: se reemplazo el componente de manipulación de word y conversión de este a PDF, a su última versión, luego es necesario probar todas las caracteristicas inherentes. 
Se creó la nueva página app_offline.hm (lleva un _ como prefijo), para usarse cuando se desea dejar la aplicación offline. Nota técnica: Se deben borrar todas las dll (Solo las dll) de la carpeta bin antes de hacer la actualización Release Notes: Recalculate Button, HTML-tempate fixes, Transformation fixes, UpdateObsoleteElements, Changeset 583  UPDATE: 2017-03-01.  "Al hacer clic en un archivo (anexo) desde ../public/list.aspx el archivo no se descarga"


Ahora es posible que documentos word sean convertidos bajo demanda a PDF e incluir un header con información específica del elemento. La versión PDF se ve debajo del anexo de word, bajo el titulo "Ver como PDF". La caracteristica "bajo demanda" implica que el PDF no es generado al momento de subir el archivo de word, si no que es generado en el momento de hacer clic en el vínculo "Ver como PDF". Para esto configure por Metadata tipo file (o ETMD) el feature OfferRealTimePDFVersion en true. Por defecto se muestra el anexo en el visor PDF de la aplicación. Si se desea que se pueda bajar, especifique para tal metadata o ETMD el feature RealTimePDFIsDownloadable. Como se mencionó, es posible incuir un header: para esto configurelo por ET (similar a los header de los elementos) con el feature PrintedAttachmentHeader. Finalmente, si se desea ocultar el archivo original en el RO, en un estado especifico, definalo por metadata o ETMD con el feature HideOriginalAttachmentInState. Nota: las versiones "bajo demanda" no se ven en los listados, ni en el EDIT, únicamente en el RO. El link "Ver cómo PDF" se define en el parámetro RealTimePDFVersionMarkup. Fix/Workaround: Columna Enabled en administración de usuarios ahora muestra yes/no y permite ser exportada como xls o htm. 
Ahora es posible no mostrar el usario 1 en administración de usuarios y grupos. Para esto configure el parámetro DisableSwiftUserOnSettings. 
Arreglos menores a los controles mientras se ejecutan acciones en el servidor, en administración de grupos. 

Release Notes: OfferRealTimePDFVersion, DisableSwiftUserOnSettings, User Admin fixes, 




En el widget de gráficas de inicio (por ejemplo SARA) se corrigió el estilo del "tooltip", que tenia problemas de visualización. 
Nueva página de árboles tipo metadatavalue-element, estilo classic.  Nota Técnica: Se modeló una nueva arquitectura de microservicios DMMSF (DocManager Microservices Framework) para ser utilizados en la aplicación, los cuales proveeran de diferentes funciones. El primero de estos servicios es un generador de raíz y ramas de un árbol de metadatavalues-elementos. Configurar el árbol tiene 4 partes: A. Este árbol se invoca a través de landing.aspx como se indica en el siguiente ejemplo: User/landing.aspx?Custom=true&Type=html&title=Indice_de_Documentos&ModuleId=1&url=TreeView.aspx%3FS%3DCustom_GetTreeNodes   - landing.aspx?Custom=true&Type=html indica que es landing con una página Custom del tipo html.  - title=Indice_de_Documentos: Título de la página colocando _ en vez de espacios.  - ModuleId=1& indica que el árbol pertenece al modulo 1 de la aplicación.  - url: indica la url de la sub-página. Hasta este punto, la sub-página puede ser cualquiera y no necesariamente la del árbol (puede ser un html, una página de reporte, etc). Para el ejemplo    url=TreeView.aspx%3FS%3DCustom_GetTreeNodes  indica que la sub-página es TreeView.aspx, la cual tiene unos parámetros con URLEncode. Custom_GetTreeNodes es el SP que devuelve raíz y nodos del árbol y se configura en el paso D.  B. Se configura el sitio web de los microservicios: Este sitio web utiliza la versión 4.6.2 del .NET framework y debe implementarse como un sitio web diferente al de la aplicación.   - Asegurese que el equipo tenga instalada tal versión del framework. En caso contrario, bajela e instalela en https://www.microsoft.com/en-us/download/details.aspx?id=53344  - Cree un apppool apuntando a esta versión.   - Cree el directorio virtual o website y tome nota de la URL.   C. Se configura la URL del microservicio del árbol. Para esto vaya a la tabla AppService y en el campo Name escriba CustomTreeView y en el campo Address escriba http://<servidor_ruta>/WebApi/TreeView/CUSTOM_GETTREENODES/GetChildNode reemplazando servidor_ruta por el correspondiente  D. Se crea el SP, en este caso Custom_GetTreeNodes. CREATE PROCEDURE [dbo].[CUSTOM_GETTREENODES] ( @ParentNodeId varchar(256))AS --DECLARE @ParentNodeId varchar(256) = '38302' --860_38302 IF @ParentNodeId is null or @ParentNodeId = ''BEGIN --PARA EL CASO DE LA RAIZ DEL ÁRBOL, DEVUELVE LOS VALORES DE LA METADATA 860 SELECT DISTINCT cast(MDV.MetaDataId as varchar) + '_' + cast(MDV.MetaDataValueId as varchar) as Id, MDV.Value as name FROM MetaDataValue MDV INNER JOIN MetaData M on MDV.MetaDataId = M.MetaDataId INNER JOIN ElementTypeMetaData ETMD ON M.MetaDataId = ETMD.MetaDataId AND ETMD.ElementTypeId = 65 and MetaDataTypeId IN (2,3) where MDV.MetaDataId = 860ENDELSEBEGIN -- PARA LAS RAMAS DEL ÁRBOL, LAS DEVUELVE UNIDO A LOS ELEMENTOS QUE TIENE EL MDV = @ParentNodeId.  -- LoadOnDemad y Name son nombres de campos obligatorios. Note que LoadOnDemand debe ser 1 para ramas y 0 para elementos.  SELECT Id, Name, LoadOnDemand FROM ( -- RAMAS DEL NODO EN CUESTIÓN  SELECT DISTINCT cast(MDV.MetaDataId as varchar) + '_' + cast(MDV.MetaDataValueId as varchar) as Id, MDV.Value as name, 1 as OrderBy, 1 as LoadOnDemand, MDV.Value as SortableName FROM MetaDataValue MDV INNER JOIN MetaData M on MDV.MetaDataId = M.MetaDataId INNER JOIN ElementTypeMetaData ETMD ON M.MetaDataId = ETMD.MetaDataId INNER JOIN MetaDataValueHierarchy MDVH ON MDVH.MetaDataValueId = MDV.MetaDataValueId AND MDVH.ParentId = cast(@ParentNodeId as bigint) AND ETMD.ElementTypeId = 65 and MetaDataTypeId IN (2,3) UNION -- ELEMENTOS (DE UNA VEZ CON EL LINK) QUE TIENEN EL VALOR DE MDV REPRESENTADO POR @ParentNodeId SELECT DISTINCT cast(E.ElementId as Varchar) as Id,  '<a target="_blank" href="../User/ElementViewer.aspx?E='+ cast(E.ElementId as Varchar) +'">'+ EMDV2.Value + ' v' + E.Version + '</a>' as name,  0 as OrderBy, 0 as LoadOnDemand, EMDV2.Value as SortableName FROM Element E INNER JOIN ElementMetaDataValue EMDV ON EMDV.ElementId = E.ElementId INNER JOIN ElementMetaDataValue EMDV2 ON EMDV2.ElementId = E.ElementId INNER JOIN ItemWorkFlow IW on IW.ItemId = E.ElementId WHERE EMDV.MetaDataValueId = cast(@ParentNodeId as bigint) AND EMDV2.MetaDataId = 608 AND IW.CurrentWorkFlowStateId IN (6,7,206,209) and EMDV.MetaDataId != 860 --SE HACE LA EXCEPCIÓN SOBRE LA METADATA RAIZ DEL ÁRBOL ) X ORDER by OrderBy,SortableNameEND Finalmente pruebe el árbol, debera tener una apariencia similar a la siguiente:    
Se hicieron mejoras al lite-edit:       - Se incluyó el mecanismo de jerarquía de metadatas y valores de metadata.       - Herencia de metadata a flujo       - Mejoras visuales en el CSS       - Tamaño de las ventanas flotantes se ajusta al contenido, si este es menor a 525px en altura.       Nota: La validación de fechas ya existe.   Release Notes: DMMSF, LiteEdit fixes.

Es posible activar y desactivar el control de cambios de anexos (word), en cierto estado, cuando estos son subidos a un elemento. Para esto configure por por Metadata (Metadatafeature o ETMDFeature) los features RemoveChangeControlState y ActivateChangeControlState (un registro por estado).  Breaking Change: Los parámetros AllowAttachmentVersioning y VerifyWordSigning quedan sin uso y la tabla AttachmentVersioning no se usará más. 
Si en una metadata tipo FILE se sube un archivo (de cualquier extensión) con un nombre igual a un archivo previamente subido, al nuevo se le agreagará el prefijo "Copia" y la fecha y hora. Ejemplo "Copia - 2016-07-07 14:30 ayuda.gif" y se ubicará en la misma metadata. 
Se creó el feature VersionTargetMetaDataId, que define por metadata tipo FILE, otra metadata tipo FILE donde se guardarán versiones anteriores de archivos subidos con un mismo nombre. En este caso, al subir un archivo (de cualquier extensión) con un nombre igual a un archivo previamente subido, el nuevo archivo toma el lugar del anterior y el anterior, una vez se guarde el elemento, se pasa a esa metadata "backup" y se le asigna un nombre con la fecha y hora. Ejemplo: si el archivo original se llama dog.png, al subir uno con el mismo nombre, la copia se llamará "2016-07-07 14:30 dog.png" y se ubicará en la otra metadata. Nota: La metadata "backup" ( o destino), no requiere estar visible. Nota técnica: En vez de usar la tabla AttachmentVersioning para la copia, se seguirá usando el propio ElementMetaDataValue. 
Se creó un mecanismo para hacer que el sistema verifique si cuando se sube un achivo de word como anexo (metadata file) y este ya existe con el mismo nombre, se detenga la carga si el nuevo archivo NO es una copia del original. Esto funciona tanto todos los documentos docx cuya metadata establezca en MetaDataFeature el feature UseAttachmentSignature. Notas: 1. También aplica para documentos de word generados por el addon de transformation (contratos). 2. Para este release este cambio no aplica en el LiteEdit/Mobile Edit. 
Se creó el feature AllowOnlyOneFileName que una vez habilitado por metadata, solo permite subir un archivo por nombre único en una metadata tipo FILE. 
En el LiteEdit, se adicionó un calendario en las metadatas tipo Date, para facilidad del usuario. Release Notes: AllowAttachmentVersioning deprecated, VerifyWordSigning deprecated, RemoveChangeControlState, ActivateChangeControlState, VersionTargetMetaDataId, UseAttachmentSignature, AllowOnlyOneFileName, ChangeSet 619 UPDATE: 2017-04-21 
La restricción de UseAttachmentSignature tambien aplica para cuando estando en un elemento, la persona borra primero el anexo existente y luego intenta subir otro con el mismo nombre (siempre y cuando no salga del elemento, esto es, si se borra, se guarda y más tarde se accede al elemento, no aplica la restricción) 
VersionTargetMetaDataId también aplica cuando se borra un anexo, es decir, se crea una copia en la metadata "backup" antes de borrar el anexo.  

La compatibilidad mínima de aplicación por defecto ha sido elevada a IE9. En caso contrario (corpbanca) deberá dejarse la llave X-UA-Compatible de web.config como IE=EmulateIE7 
Se adicionaron selectores de clase en RO.CSS y ROMobile.css para los headers de RO, de forma que en la versión mobile se comporten de forma responsive. 
Algunas librerias y fuentes del login y de la versión mobile ahora usan servidores CDN. 
Adicionada la opción de cambio de contraseña en la versión mobile 
Se adicionó en la administración de usuarios, la opción "mobile only", que define para un usuario si este es solo cliente móvil. No aplica para sincronización con LDAP Breaking Change: Para PDF en tiempo real, si no se ha definido un header, se deja el original que trae el documento de word. 
Adiciones y mejores a versión mobile: Correcciones en la presentación de los listados, permisos para crear nuevos elementos, configuración responsive para el header RO, despliegue de embebidos y anexos. 

Se creó el mecanismo de "leido y entendido" que permite colocar un checkbox al final del RO donde el usuario indica si leyó y entendió el contenido del elemento. Una vez hecho el "check" no vuelve a solicitarlo. Los registros de leido y entendido quedan como elementos embebidos del elemento a leer y entender. Configure los siguientes features: CheckStatusEmbeddedElementTypeId por ET, que indica que ese ET se le aplicará el control; CheckStatusEmbeddedMetaDataId por ET que indica la metadata tipo embebido que contendrá los registros de leido y entendido; CheckStatusMappedPersonMetaDataId por ET (padre) que es una metadata en el embebido con una lista externa de usuarios (simple); CheckStatusWorkFlowState por ET que es un estado (por registro) donde aparecé el control.  Finalmente configure el parámetro CheckStatusMarkup con el HTML correspondiente al check. 

Ahora es posible asignar de forma automática usuarios de una metadata externa para que sean evaluados en el modulo de surveys (es decir, quedan seleccionados automáticamente en el cuadro correspondiente). Para esto, configure por ET le id de metadata que tiene tal lista usando el feature AssignMetaDataStaffToSurvey. Release Notes: Mobile fixes, CheckStatus, AssignMetaDataStaffToSurvey, IE9+, ChangeSet 632 UPDATE: 2017-5-16 
La necesidad de dar "Leido y entendido" es posible que se aplique a ciertas personas, especificamente a las que estan seleccionadas en una metadata tipo lista externa. Para esto configure tal metadata por ET en el feature CheckStatusAssignableMetaDataStaff. Si no se configura este feature, a todas las personas que tengan permiso de lectura sobre el elemento les aparecerá el cuadro correspondiente. 
Aparece en la agenda de pendientes los elementos que requieren "leido y entendido". Aparecen en un apartado solo para esos elementos. Debe configurarse ElementType.TitleMetadata. Nota: los campos visibles no son configurables.    

"No funcionan las modificación que se generan automáticamente con el servicio": El 
era generado por un conflicto dado por ciertos campos null de la tabla ElementMetaDataValue, de ciertos elementos. CC 
"No se generan nuevas versiones" CC  
Se solucionó el problema relacionado con el reemplazo de contenido HTML en bookmarks de word. Se requiere corregir manualmente los archivos de Word que actualmente tengan el contenido HTML repetido. HR 
"Botón embebido en RO aparece sin tener en cuenta jerarquía", Se solucionó el error, ahora se muestra el boton de embebidos correctamente. CC 
Ahora aparece correctamente el elemento asignado, en la lista de pendientes de los ExternalPerson, despues de la creacion de un nuevo elemento. Este problema no permitia que se refrescara el PermissionCache de forma adecuada. CC Release Notes: html-to-bookmark, versioning fixes, PC refresh, Changeset

Creacion del Feature "ShowChangeCreatorButton". Los elementos con este Feature mostrarán, en la pagina de edición, un botón que permitirá cambiar el elaborador del elemento. Cuando se realiza un cambio de elaborador quedará un registro en la Tabla ElementHistory(Nueva). Esta tabla almacenará el ElementId del elemento al cual se le cambió el elaborador, la fecha de cuando se realizo el cambio, y el PersonId de quien lo cambió. Para agregar este Feature a un ElementType cree un registro en la tabla ElementTypeFeature donde:  - ElementType = Tipo de elemento al que se le agregará el Feature - FeatureId = ID del Feature "ShowChangeCreatorButton", verificar en la tabla Feature. - Value = True CC  
"Se presenta lentitud en el paso de los usuarios a los grupos en la interfaz de configuración". Solucionado, disminuido notablemente el tiempo de respuesta de la aplicacion. El tiempo de respuesta es proporcional a la cantidad de usuarios que se quieran asignar a un grupo en una misma operacion. CC 
OS-023-ACT-0005, "Ingresar registro de cambios en responsables".Ahora se registrara cualquier modificacion de los responsables en los WorkFlowTransition, en la tabla ElementHistory. Se especificara si se agrego o se removio el responsable. CC 
"La sincronización de cargos no funciona cuando se sincroniza contra dos dominios". Solucionado, ahora sincroniza los cargos correctamente. La sincronizacion para varios dominios será realizado desde ahora por un solo servicio. CC 
"No sincroniza Grupos con el Directorio Activo". Solucionado, desde ahora en el campo Value correspondiente a "SyncUpLdapPath", se debera poner como dominio "Broadway". Ejemplo: - Incorrecto  - Correcto  CC 
"La pre configuracion de permisos no inserta el permiso editar". Solucionado, ahora inserta cualquier tipo de permiso asignado en la pre configuracion. CC 
OS-023-ACT-0006. "Desarrollo notificaciones basadas en MetaData". Desde ahora se podrán asignar notificaciones(Mensajes por correo electronico) para un grupo de personas (MetaData de tipo "ExternalMultiple"), a partir de un campo de tipo fecha (MetaData de tipo "Date"). El servicio verificara si la fecha del campo es igual a la fecha del sistema y enviara los correos correspondientes a las personas asignadas. Para esto se crearon los siguientes items: - Feature "ConfigurableNotificationStaffMetaDataId". Asignar este Feature por tipo de elemento a el MetaData de tipo "ExternalMultiple". - Feature "ConfigurableNotificationMetaDataId". Asignar este Feature al MetaData de tipo "Date". - Service process "ExecuteMetaDataAssignedNotification". Este proceso se debera asignar al servicio en ServiceConfig para activar las notificaciones por MetaData. Importante: El ElementTypeId de los Features "ConfigurableNotificationStaffMetaDataId" y "ConfigurableNotificationMetaDataId" debe ser igual en la tabla ElementTypeFeature para que funcione correctamente. Ejemplo:  CC Release Notes: ShowChangeCreatorButton, ConfigurableNotificationMetaDataId, ChangeSet 694  

"CustomSummaryNotifications". Desde ahora se pueden definir horas personalizadas para las notificaciones disparadas por transiciones(WorkFlowTransition). Anteriormente las notificaciones se enviaban en las horas definidas en el .config del servicio. Para asignarle una hora personalizada a una transicion se debe agregar en la tabla ElementTypeFeature: - ElementTypeId: ElementType al que se le quiera asignar el Feature. - FeatureId: FeatureId del Feature "DelayedTransitionNotificationTime". - Value: Value se dividira en dos partes divididas por un Pipe(Ver ejemplo mas adelante), en la primera parte se asignara la hora deseada para realizar la notificacion (Formato 24 horas) y la segunda parte indicara todas las transiciones que dispararan dicha notificacion. Ejemplo:    En la tabla se observa que cualquier elemento de tipo documento (ElementTypeId 1), al pasar por las transiciones 1, 3, 4, 5, 6, 8,...,100, 101 y 103, disparara una notificacion que se enviara a las 8:50 y 9:10. Importante: Para evaluar el buen funcionamiento del Feature, en el log del servicio deben aparecer las horas del campo Value anterior y, al momento de ejecucion tambien quedara una trazabilidad, de la siguiente manera:   === 6/23/2017 9:08:09 AM ===   Custom(s) time(s) for WorkFlowTransition(s) setted:   === 6/23/2017 9:08:09 AM ===   Hour 0: 6/23/2017 8:50:00 AM  === 6/23/2017 9:08:09 AM ===   Hour 1: 6/23/2017 9:10:00 AM   === 6/23/2017 9:10:09 AM ===   Custom Time service startup  === 6/23/2017 9:10:09 AM ===   Begin execution of ExecuteCustonSummaryNotifications()   === 6/23/2017 9:10:30 AM ===   End execution of ExecuteCustonSummaryNotifications()   === 6/23/2017 9:10:30 AM ===   Custom Time service end Nota: Se debe crear el mensaje correspondiente en la tabla NotificationMessage, con EventId = 1, isDelayed = 1, y la transicion a la que se le desee asignar el mensaje. CC 
Al crear un RSO desde la versión mobile direcciona al usuario a la página error.aspx cuando este no tiene perfil administrador. 
No valida campos obligatorios la versión mobile y desaparecen los campos. PARCIALMENTE: No se reproduce en 14.2 la no validación de los campos. 
Se adicionó la posibilidad de incluir un campo HTML como titulo de un elemento, para que aparezca parcialmente en los titulos de los listados mobile. Experimental. 
Desde ahora se puede definir si un elemento relacionado (con una dependencia de transiciones) a otro(s) elemento(s), cambiara de estado, cuando solo uno de los elementos relacionados cambie a un estado especifico. Por ejemplo: Si tenemos una dependencia que define, "Si los documentos, embebidos por una solicitud, pasan por la transicion "Eliminar", la solicitud pasara por la transicion "Anular"", anteriormente todos los documentos embebidos tenian que pasar por "Eliminar" para que la solicitud pasara por "Anular". Ahora se podra definir si, con solo un embebido que pase por la transicion "Eliminar", la solicitud pasara a "Anular". Esto se ve reflejado en la tabla WorkFlowDependency. La columna "SingleTrigger", definira si la totalidad de los elementos relacionados deberan pasar por una transicion para volver efectiva otra transicion. (Asignele: 1, si desea que sea solo un elemento o 0, si desea que sean todos los elementos) CC 
Desde ahora se pueden agrupar multiples dependencias de transicion(WorkFlowTransitionDependency). Anteriormente todos los elementos relacionados debian pasar por la misma transicion para que la transicion dependiente fuera efectiva. La agrupacion permitira que si los elementos relacionados pasan por un grupo de transiciones definidas, la transicion relacionada se hará efectiva. Para esto, en la tabla WorkFlowTransitionDependency, se creo una nueva columna, "MultipleDependencyId", que permitira agrupar las dependencias. Por ejemplo:  Las dependencias 22 y 26, estan agrupadas por el MultipleDependencyId 22(WorkFlowDependencyId con menor valor del grupo). Esto se traducira en, que si el(los) elemento(s) relacionado(s) pasa por la transicion 8 O la transicion 11, el elemento dependiente pasara por la transicion 23. Esto podra asignarse para agrupar una o mas WorkFlowTransitionDependencies. CC    

Es posible usar campos HTML cómo titulo de un elemento (TitleMetadata). Para esto, el sistema hace un parsing del HTML y copia hasta 1024 caracteres en Element.Name 
Es posible MDV.Value en vez de MDV.MathValue en metadatas, cuando estas esten involucradas en campos calculados. Para esto configure el feature por ET DoNotUseMathValueForCalculus en la metadata tipo lista (no en el campo calculado). Release Notes: ChangeSet 706. Workflowdependency SingleTrigger, CustomSummaryNotifications changes, HTMLAgilityPack

Indexamiento de archivos y BinaryContent. Para hacer uso de esta caracteristica debera hacer lo siguiente: 01. Verificar que exista una carpeta llamada IndexDirectory dentro de la carpeta WebApp de DocManager. Se debera ver de la siguiente forma: 02. Asegurese de que la carpeta tiene los siguientes archivos. NO PUEDE TENER ARCHIVOS ADICIONALES. WebApp -> IndexDirectory  WebApp -> IndexDirectory -> Dictionaries  03. En la tabla parameter de la base de datos interesada verifique, o dado el caso, modifique los siguientes valores:  - UseIndexingService. Value: True. - IndexingServiceDirectory: Direccion donde quedo la carpeta IndexDirectory nombrada en el punto 1.  - IndexingServiceList: Direccion donde se guardan los archivos anexos de los elementos. - IndexingServiceIgnoreList: subcarpetas de IndexServiceList que se ignoraran al hacer el indexamiento. Deben estar separadas por comas (,). - IndexingServiceMatchExtensionList: Extensiones de archivos que se buscarán para el indexamiento. Deben estar separadas por comas (,). - IndexingServiceLicenseKey: Clave de producto de componente indexador. NO MODIFICAR. - IndexingServiceEnableLog: Definira si se crearan archivos txt para la trazabilidad del indexamiento (ver mas adelante). IMPORTANTE: Preste especial atencion al momento de introducir las direcciones en IndexingServiceDirectory, IndexingServiceIgnoreList e IndexingServiceMatchExtensionList. las carpetas deben estar separadas por (\), tal como se muestra en la imagen, y no debe haber un (\) al final de la direccion. UNA DIRECCION ERRONEA CORROMPERÁ TODOS LOS INDICES Y TENDRA QUE REALIZAR EL PROCEDIMIENTO DESDE EL INICIO. 04. Para realizar el primer indexamiento, verifique que, dentro de la tabla SystemOperation no exista ningun registro correspondiente al SystemOperationType 1, en caso de que si exista, eliminelo. (El servicio solo indexara BinaryContent con ModificationDate mayor al EndDate del ultimo SystemOperation de tipo 1) 05. Corra el servicio, asegurandose de que realizara las operaciones TempFilesCleanUp = 6 y ImportIndexDocument = 8. 06. En la carpeta IndexDirectory (nombrada en el punto 01), se crearan archivos LOG que le ayudaran a realizar la trazabilidad del indexamiento. Puede ayudarse de los siguientes archivos: - Document.txt: Aqui encontrará que archivos fueron indexados(tanto como los archivos como el BinaryContent). El componente indexara todos los archivos de la carpeta IndexingServiceList que cumplan las condiciones de extension y que no esten en IndexingServiceIgnoreList. - XMLDataAccess.txt: Aqui podra monitorear el funcionamiento del indexamiento (Verificar que este corriendo durante el servicio), ya que cada indexamiento crea una entrada en este documento. 07. Para verificar que archivos fueron indexados Y relacionados con elementos, revise la tabla CacheTableDocumentIndex. Para que un documento este indexado y relacionado debera cumplir las siguientes condiciones: - Estar indexado correctamente. - El nombre del archivo indexado deberá estar tambien en la tabla ElementMetaDataValue. Nota: Habran archivos indexados que no esten relacionados (Porque no estan registrados en ElementMetaDataValue), estos no se tendran en cuenta al momento de la busqueda. Estos archivos son el resultado del borrado del archivo dentro del DocManager. NOTAS IMPORTANTES 01. Si es la primera vez que se realizará un indexamiento, el tiempo de indexado sera considerable. Asegurese de disponer del tiempo necesario.  02. En caso de que la carpeta IndexDirectory tenga algun archivo adicional, podrá eliminarlos para que quede tal como se muestra en la imagen. 03. La busqueda dentro de los indices tendra en cuenta principalmente palabras (No aceptará la mayoria de caracteres especiales). 04. En caso de que se realize mas de un indexamiento el mismo dia, deberá eliminar manualmente los registros de la tabla ObjectCache con CacheDate correspondiente al dia del indexado. Esto no lo eliminaría el servicio ya que la operacion TempFilesCleanUp = 6 solo borra los registros del dia anterior. CC 
Indexamiento en horas personalizadas: A partir de esta version, podrá realizar el indexamiento en horas diferentes a las horas estipuladas en el servicio. Para hacer uso de esta funcion, en la tabla parameter, se creo un nuevo parametro llamado "CustomImportIndexDocumentTime". Deberá configurarse de la siguiente forma: En el campo Value, podra asignar las horas deseadas para la ejecucion de la operacion ImportIndexDocument = 8. Debera separar las distintas horas por Pipes, y las horas designadas deben estar en formato de 24 horas. Nota 01: Para asegurarse de la buena asignacion de las horas personalizadas en el log del servicio quedaran registradas en la seccion "Custom(s) time(s) for custom process setted". Se verá de la siguiente forma: === 7/11/2017 2:11:45 PM === Custom(s) time(s) for custom process setted=== 7/11/2017 2:11:45 PM === Hour 2: 7/11/2017 11:50:00 AM=== 7/11/2017 2:11:45 PM === Hour 3: 7/11/2017 2:13:00 PM Nota 02: Al activar esta funcion, no se ejecutará la operacion ImportIndexDocument = 8, a las horas establecidas en el servicio. podra verificarlo en el log del servicio, quedará registrado un mensaje de la siguiente forma:  === 7/11/2017 2:11:45 PM ===  ServiceProcess: ImportIndexDocument set as Custom CC 


CC 
Mejoras generales en Versión Mobile/Lite Edit: Se incluyó MDVETRestriction, mejoras generales en cálculos, jerarquía de metadata entre listados de selección simple y de selección múltiple internos, aplicación estricta de jerarquias, campos ocultos para codificación (para alternativeid).  
Optativamente se puede redirigir un usuario de la versión mobile Edit a los listados Destkop, después del 1er guardado, si el usuario no tiene permisos de edición sobre el elemento actual. Para esto configure por ET el feature SendMobileCreatorsToDesktopListing Release Notes: ChangeSet 725, Indexing Fixes, Mobile Fixes

CanIgnoreStaffTransitions. Se agregó la opción de ignorar otros responsables en transiciones de tipo serial y paralelo. Para hacer uso de esta opcion se debera poner en la tabla WorkFlowTransition, la columna CanIgnoreOthers, como 1, para la transicion que se desee modificar. Para verificar el cambio realizado, en la aplicacion de DocManager asociada, se vera la transicion de la siguiente manera: En la pagina de edición: 
Stored Procedure "ElementType_Kill", procedimiento para eliminar todos los elementos de un mismo ElementType. Borra todas las tablas asociadas    En la pagina de lectura:     El texto "01. Ignorar otros responsables" puede cambiar. tomese como provisional. NOTA: Esto solo sera efectivo para transiciones que sean DecisionPoint, pues son a las que se aplican los tipos de transiciones Serial y Paralelo. Las demas son tratadas como FirstInPlace. Y solo se mostrara cuando falten mas de 1 responsables por efectuar una transicion.  CC 
SelectNextStateResponsible. Se agrego la opcion de seleccionar a que responsable, del siguiente estado, se le enviara el elemento actual. Para hacer uso de esta funcion se deben cumplir las siguientes condiciones: Definiendo al estado actual como A y al siguiente estado como B. La transicion A -> B, será la transicion definida como DecisionPoint.  01. Ya debio efectuarse la transicion A -> B, al menos una vez.  02. El estado A debe ser el resultado de una transicion B -> A, esto significa que debe existir una transicion B -> A.  03. El estado B debe ser de tipo Serial.  04. Solo debe faltar un responsable por efectuar la transicion.   Ejemplo: A: En Elaboracion. B: En Revision. A -> B: Enviar a Revisión. B -> A: Devolver a Elaboración.   En el estado "En Elaboracion" se efectuo la transicion "Enviar a Revisión", pero, en el estado "En Revision" alguno de los responsables efectuo la transicion "Devolver a Elaboración". Este elemento volvera al estado "En Elaboracion". Al estar otra vez en este estado mostrara la opcion definir a que responsable del siguiente estado se le asignara el elemento.    Se mostrara de la siguiente forma: En la pagina de edicion:  En la pagina de lectura:     El texto "02. Enviar a : PersonName (PersonId)" puede cambiar. tomese como provisional. CC 
Se mejoro el tiempo de respuesta de los listados Mobile (Benchmark: RSO de 16s a 2s) 
PeerSynchronization. Se creo la opcion de sincronizar multiples DocManager a traves de un Servicio de windows y un WebService. Este proceso se realizara en 3 pasos. Llamemos al Peer con WebService como Slave y el Peer con Servicio de Windows como Master.   Paso 1: Sincronizacion de usuarios: Se intercambiaran usuarios entre el Master y el Slave, al exportar e importar usuarios, estos son creados en las Bases de Datos respectivas, esto significa que seguramente no quedaran con el mismo PersonId. Para crear una equivalencia entre Usuarios se creo la tabla PersonPeer. Ejemplo:  Se Importo el usuario con PersonId 1 del Slave, al ser creado en el master se le asigno el PersonId 32878. NOTA: La sincronizacion inicial puede tomar una cantidad de tiempo importante, realice el procedimiento asegurandose de tener el tiempo disponible. Las pruebas realizadas en desarrollo con 33.000 usuarios tomaron aproximadamente dos horas y treinta minutos.   Paso 2: Importacion de Elementos: El Master le enviara una solicitud al Slave, y este le enviara los Elementos que se deban procesar en el Master. Durante este proceso se copiara en su totalidad el Elemento, incluyendo sus archivos anexos. Los elementos a enviar se encontrara en la tabla PeerOutBoundQueue, se vera de la siguiente forma:   El elemento 123564, esta pendiente por enviar al Peer 2, al ser procesado se le asignara un SynchroDate. Equivalentemente a PersonPeer, se creo una tabla ElementPeer, en donde se encuentran las equivalencias entre elementos Remotos y Locales   Pase 3: Exportacion de Elementos: A diferencia de la importacion de elementos, donde solo se importan los Elementos con TargetPeer respectivo al Master, en la exportacion de Elementos, el master enviara todos los documentos no procesados que se encuentren en la tabla PeerOutBoundQueue. Notese que los Elementos pueden estar dirigidos a multiples TargetPeer. Las tablas de equivalencia se veran de la siguiente forma:  Se exporto del Master (Peer 1) el elemento 123565 y en el Slave (Peer 2) se creó como el elemento 156289. NOTAS IMPORTANTES:  - Si se presentara un error de conexion en la sincronizacion de usuarios, simplemente vuelva a ejecutar la sincronizacion, el programa se encargara de reestablecer el proceso y crear las equivalencias adecuadamente. - Las equivalencias entre diferentes DocManager deben ser iguales pero inversas, es decir si, en el Peer 1, un usuario con LocalPersonId 1 tiene RemotePersonId 10. En el Peer 2 el usuario tendra LocalPersonId 10 y RemotePersonId 1.   Encolamiento de Elementos en PeerOutBoundQueue: En la tabla WorkFlowTransition se creo la columna PeerId, esta columna determina en donde se debera efectuar la transicion. Cuando la siguiente transicion de un elemento se deba efectuar en un Peer diferente al actual, este quedara encolado en la tabla PeerOutBoundQueue y bloqueara cualquier tipo de transicion desde el Peer actual.    Configuracion de Peers: Se creo la tabla Peer, en donde se define cuales DocManager son Master y cuales Slave. Se vera de la siguiente forma:  Donde el Service Host es el DocManager Master, y se le debera asignar como "1". La columna IsThisApp define cual es el Peer local. En el caso de la imagen la parte superior muestra la tabla del Master, y la inferior muestra la del Slave CC 
Feature: "DeleteAfterSendingToRemote". Asignese este Feature a un tipo de elemento si se desea que, despues de haber sido enviado a un Peer remoto, se elimine en su totalidad el Elemento local enviado, incluyendo archivos anexos. Se debera asignar en ElementTypeFeature como true. CC 
Service Process: PeerSynchronization. Definira si se ejecutara o no la sincronizacion entre Peers. Actualmente la sincronizacion entre peers solo se realizara durante horas personalizadas, NO durante las horas establecidas en el config del servicio.   
Parameter: CustomPeerSynchronizationFrequency. Este parametro definira la frecuencia (En minutos) entre sincronizaciones de Peers, en otras palabras, la frecuencia con que se ejecutara el Service Process "PeerSynchronization". Se recomienda dejar una frecuencia de minimo 30 minutos. CC 
NotificationType: SMS. desde ahora se podran enviar notificaciones a traves de mensajes de texto. para configurar adecuadamente un mensaje de texto se debera realizar lo siguiente: 1. Consulte a su proveedor de SMS si posee un Servicio Web al que se le puedan realizar solicitudes de tipo GET o POST, si es asi, solicite la url y los parametros necesarios. En la tabla parameter en el value del campo "SMSRequestMethod" indique si el llamado sera de tipo GET o POST. La url se debera ver de la siguiente forma, y deberan registrarse en la tabla Parameter en el value del campo "SMSProviderURL": GET: https://gateway.plusmms.net/send.php? POST: http://www.altiria.net/api/http Notese que la solicitud de tipo GET termina con "?", esto significara que se enviaran parametros a traves de la URL. Los parametros se veran de la siguiente forma y deberan registrarse en la tabla Parameter en el value del campo "SMSProviderTemplate": username={0}&password={1}&to={2}&text={3}&from={4}. IMPORTANTE: Se deben poner los parametros en el orden establecido (username, password, to, text, from), si el parametro from no se usa, se debera dejar el espacio en blanco. Si hay parametros adicionales estaticos, podrá agregarlos. Ejemplo: cmd=sendsms&domainId=demopr&login={0}&passwd={1}&dest={2}&msg={3} 2. Ingrese el usuario y contraseña entregados por el proveedor de servicios en la tabla parameter en los values de los campos SMSProviderUser y SMSProviderPassword (La contraseña debe estar encriptada). Usualmente los provedores de SMS requieren de un remitente (from), este se asignara en el parametro SMSProviderSender, si el proveedor no le asigno uno, simplemente registrelo como "DocM". IMPORTANTE: La contraseña se podra cambiar en Admin/ParamConfig.aspx, en la seccion SMS Parameters. 3. Cree un registro en la tabla NotificationMessage, el mensaje debera ser configurado con el NotificationTypeId 4, SMS. Este mensaje no debera tenerSubject ni MultipleElementsSubject. Para pruebas locales podra utilizar provicionalmente los siguientes datos: Datos para solicitud tipo GET: SMSProviderTemplate: '&username={0}&password={1}&to={2}&text={3}&from={4}&coding=0' SMSProviderUser: 'charlie2634' SMSProviderPassword:'4599BD27886BEFEF54676F703F44CEAB' SMSProviderSender: 'DocM' SMSProviderURL: 'https://gateway.plusmms.net/send.php?' SMSRequestMetod: 'GET'  Datos para solicitud tipo POST: SMSProviderTemplate: '&cmd=sendsms&domainId=demopr&login={0}&passwd={1}&dest={2}&msg={3}' SMSProviderUser: 'docm' SMSProviderPassword:'38405EACD72C499542A152CB59818F3A' SMSProviderSender: 'DocM' SMSProviderURL: 'http://www.altiria.net/api/http' SMSRequestMetod: 'POST'  IMPORTANTE: Los datos suministrados son de cuentas de prueba con mensajes limitados. CC - 
Se creo un mecanismo que permite usar Autenticación de Doble Factor (2FA) en transiciones efectuadas desde el RO (por ahora, queda pendiente aplicarlo en el EDIT). Para esto configure por ET el feature TwoFAVerifiableTransition la o las transiciones (una por registro) que pediran un código que será enviado al correo o al celular de la persona quien aprueba (y solo de quien está especificado como responsable de la transición, no de quien impersona). Asi mismo, debe estar configurado en true el parametro Use2FAForActions. Como el mecanismo de validación lo realiza un microservicio, establezca el valor de APPService del servicio "Use2FAForAuthentication". Finalmente, establezca el número de minutos de la validez del código, usando el parámetro 2FAExpirationTime - 
Es posible que los archivos que se firman digitalmente (PDF, docs, xlsx y pptx) usen la firma digital del usuario que guarda el elemento en el estado correspondiente (ver firmas digitales en v11.0). Para usar una firma digital propia, se debe establecer el parametro UsePersonalDigitalCertificates en true. En este caso, cada vez que se guarde, en el estado correspondiente, se añade la firma de quien realiza la acción. También lo realiza con el PDF convertido (el que se deposita en una metadata tipo file). El sistema genera los certificados personales cada vez que se crea un usuario y si al tratar de firmar, no esta el certificado, el sistema lo genera en el brackground. 
Parameter: 2FASMSVerification. Asigne este parametro como true, si se desea que la autenticacion de doble factor se envie a traves de SMS. Release Notes: DMSyncup, 2FA for WT, Personal Certificates, SMS, CanIgnoreStaffTransitions, ChangeSet 760

(Breaking change): Deshabilitado el acceso por defecto con contraseña a Diagnostics. Ahora solo usuarios autenticados (administradores o administradores de seguridad) pueden entrar. Se eliminó "Cache Names" y se cambio el mecanismo de limpieza de cache. - 
Service Process: "CopyAttachmentFilesForReading". Se creó un nuevo servicio, que copiará los archivos anexos de los Elementos en una carpeta diferente a la definida en el Parámetro "TempFilesPhysicalPath". Para la correcta ejecución de este proceso realice los siguientes pasos: 01. En el Parámetro "CopiedFilesPhysicalPath" asigne la carpeta donde se copiarán los archivos, debe estar de la forma: "C:\Users\Admin\Desktop\CopyingFiles\" . 02. En el Parámetro "CustomCopyAttachmentsForReadingTime" defina las horas a las que desea que corra el proceso, debe estar de la forma:"HH:MM", si se desea asignar más de una hora, puede asignarla en este mismo campo separandolas por Pipes. 03. Asignele el Feature "CopyableAttachmentsElementType" al ElementType, en "ElementTypeFeature". Esto definirá los ElementTypes que permitirán la copia de archivos.  04.  Asignele el Feature "CopyableElementTypeStates" al ElementType, en "ElementTypeFeature". Esto definirá los WorkFlowStates en los que se realizará la copia de archivos (Si se desean definir más de un WorkFlowState, agrege los múltiples WorkFlowStates separados por comas (,)).  05. Asignele el Feature "CopyableFolderTemplate" al ElementType, en "ElementTypeFeature". Esto definirá la plantilla que tendrá la carpeta que contendrá los archivos copiados.  La plantilla funcionará de la siguiente forma: {0}_{1}_{2}_..._{n}, son los campos que tendrá la plantilla. 418, 442, 434,..., n, son el ElementMetaDataValue o MetaDataName que remplazará su campo en la plantilla. De tal forma que quedará: {ElementMetaDataValue(418)}_{ElementMetaDataValue(442)}_{ElementMetaDataValue(432)}  NOTA: Puede agregar la etiqueta "MetaDataName:" en la segunda parte de la plantilla, para que muestre el nombre de la MetaData, en vez de el ElementMetaDataValue. 06. Asignele el Feature "CopyableFileTemplate" al ElementType, en "ElementTypeFeature". Esto definirá la plantilla que tendrá el archivo final.  La plantilla funcionará de la siguiente forma: {0}_{1}_{2}_..._{n}, son los campos que tendrá la plantilla. 418, 442, MetaDataName: 16,..., n, son el ElementMetaDataValue o MetaDataName que remplazará su campo en la plantilla. El tercer elemento separado por Pipe, será el MetaDataId de tipo File referente al archivo que se desee copiar. De tal forma que quedará: {ElementMetaDataValue(418)}_{ElementMetaDataValue(442)}_{ElementMetaDataValue(432)}, y copiará el archivo correspondiente al ElementMetaDataValue con MetaData 16. En caso de que hayan múltiples valores de ElementMetaDataValue, se les asignara un número al final del nombre del archivo.  NOTA: Si se borra el archivo .txt DO NOT DELETE, se crearán nuevamente todos los archivos dentro de la carpeta. CC 
Feature "LimitNextStateResponsible", Anteriormente se agregó la posibilidad de decidir a que responsable enviar el Elemento actual (Revisar changelog 15.0, sección "SelectNextStateResponsible" para mas información). Ahora se podrá definir si se le enviará solamente a los responsables que ya hayan realizado una transición sobre el siguiente estado. Se deberá configurar de la siguiente forma:  CC  
Multiples idiomas en ElementHistory. Se agregó la posibilidad de cambiar el idioma de las entradas en ElementHistory, este cambio tomará el idioma establecido en la tabla Language. CC  
Migración de personas a traves de archivo de Excel. Desde ahora se podrán realizar migraciones (Actualización o creación) de personas (Tabla person), junto a sus MappedElement. Para el buen uso de este mecanismo realice los siguientes pasos: Paso 01: Cree la tabla de excel, esta tabla podra tener los siguientes campos, correspondientes a la tabla Person:PersonId, PersonLegalId, Login, Password, Name, ProfileId, Email, Enabled, PositionId, LegacyPersonId, LegacyUserId, Domain, MobileOnly. Las columnas PersonId, PersonLegalId y Login servirán como campos de comparación para realizar la migración (Esto quiere decir que, si se encuentra una coincidencia en la columna de comparación, se actualizará el registro, de lo contrario se creará). Solo podrá tener una columna de comparación. Se tendrán en cuenta tres casos: 01. Comparacion por PersonId.02. Comparacion por PersonLegalId, la tabla no debe tener la columna PersonId.03. Comparacion por Login, la tabla no debe tener las columnas PersonId ni PersonLegalId. Adicionalmente se podrán agregar columnas correspondientes a las MetaDatas asignadas al MappedElementType. Simplemente agrege las columnas con el nombre de la MetaData correspondiente. NOTA: 01. El orden de las columnas no afecta el buen funcionamiento del procedimiento.02. Se realizara un escaneo estructural de la tabla al inicio de la operación, esto definirá cuales columnas se migrarán y cuales no.03. Solo se aceptarán tablas donde no hayan datos duplicados en la columna de comparación.04. Se realizará un escaneo de contenido de la tabla, donde verificará que los datos sean del tipo correcto(Ej: Email debera ser aaa@docm.co). También se verificará que las columnas correspondientes a una MetaData de tipo Date esten en formato yyyy-mm-dd.05. Los campos vacios deben ser marcados como NULL, en la tabla de excel.06. Si la fecha esta arrojando resultados númericos durante el escaneo de la tabla, verifique que el formato en la tabla de excel correspondiente a esa columna sea de tipo Text.07. De haber una columna no contemplada, simplemente se le notificará al usuario en el escaneo estructural de le tabla. Se debe tener especial cuidado al momento de nombrar las columnas correspondientes a las MetaData, debe ser el nombre exacto. Paso 02: Suba el archivo en la pagina correspondiente (Por definir). CC 
Se adicionó la columa CurrentWorkFlowStateId en la tabla ElementHistory, que almacena el estado en el que se encuentra el elemento cuando se hacen cambios en responsables, embebidos y cambio de creador. WR 

"Al momento de descargar el listado en excel se visualiza más de una fila por registro.". Desde ahora se mostrarán correctamente los archivos XSL en excel, y los archivos HTML vistos en excel. IMPORTANTE: El archivo generado solo contendrá texto plano. CC 
Es posible mostrar la fecha y hora en la que se genera una impresión, tanto en el Footer como en el Header, para configurarlo tenga en cuenta lo siguiente: Fecha  de impresión Footer: Configure en el feature PrintedVersionFooter el valor $PrintingDate$  Hora  de impresión Footer: Configure en el feature PrintedVersionFooter el valor $PrintingTime$   Fecha  de impresión Header: Configure en el feature PrintedVersionHeader el valor $PrintingDate$  Hora  de impresión Header: Configure en el feature PrintedVersionHeader el valor $PrintingTime$   El resultado será el siguiente:   Nota: El resultado del Footer y del Header, dependerá del HTML configurado en los Features. WR. 
[Custom_CreateHTMLWorkFlowHorizontalDesign] y [Custom_CreateHTMLWorkFlowVerticalDesign], procedimientos almacenados creados para mostrar el flujo principal de un elemento con sus respectivos responsables por transición. Si se desea cambiar los colores o propiedades del diseño se podrán cambiar en las variables nombradas al inicio de cada procedimiento almacenado. Se mostrara de la siguiente manera: Custom_CreateHTMLWorkFlowHorizontalDesign  Custom_CreateHTMLWorkFlowVerticalDesign CC 
Se agregó la posibilidad de hacer clonados de elementos en masa, esto se verá de la siguiente forma:  Para que este boton se muestre, el usuario debe ser administrador o pertenecer a los ActionGroups asignados. Se creó un Feature ("CanExecuteBulkCloneActionGroup") para definir a que ActionGroups se les mostrará el boton de clonado, se deberá configurar de la siguiente forma:  Donde el value sera el ActionGroupId. NOTA: 01. Notese que el Feature es por ElementType y por ActionGroup. 02. El clonado copiará los Attachments del elemento. 03. Provisionalmente habrá que refrescar la pagina para que se muestren los nuevos elementos. CC 

"Cuando se hace un marcador con una metadata de tipo embebida la visualización es mala". Desde ahora se mostrarán correctamente las tablas. CC 
Creación de tabla WFSFeature, donde se registraran los Feature para WorkFlowStates. CC 
Bloqueo de flujo por eliminacion de responsables. Desde ahora no se podrán realizar modificaciones en los responsables del estado actual. CC 
TelemetryEmailMessages. Se agregó la posibilidad de que se envie un correo cuando se genere un error en la aplicación, para activarlo se deberán utilizar los siguientes parámetros:  CC   
Se creó una página para editar los campos de los formularios admin/FormEdit.aspx. Está disponible para usuarios administradores. Allí, es posible:  crear metadatas, añadirlas a las secciones de los formularios, cambiar el orden, cambiarlas de sección, editar los nombres de las metadatas crear, editar, borrar jerarquías entre metadatas crear, editar, borrar jerarquías entre valores de metadata cambiar y crear valores de metadata.  Es posible restringir las operaciones que allí se realizan asi: Limitado al tipo de elemento 1: Admin/FormEdit.aspx?ET=1 Limitado al tipo de elemento 1 y 2: Admin/FormEdit.aspx?ET=1,2 Limitado a la sección No. 1 del ET 1: Admin/FormEdit.aspx?ET=1&LS=1 Limitado a la sección No. 1 y 2 del ET 1: Admin/FormEdit.aspx?ET=1&LS=1,2 Limitado a las metadatas del tipo 1 (texto) y listas d.s.s : Admin/FormEdit.aspx?MDTS=1,2 Y con todas las combinaciones posibles. Tenga en cuenta que, si se define LS, esta debe estar en el ET que se va editar, de lo contrario arrojará una excepción. (Known Issues): Problemas conocidos:  En la parte superior hay un switch “mostrar jerarquías”. Este muestra las jerarquías de metadata. Es posible que el despliegue de las flechas cambie de lugar y las ubique en un lugar diferente de la página, por lo que ahí es necesario refrescar la página. No se está forzando el metadatatype para metadatas que están siendo reutilizadas entre formularios. No permite modificar enabled/disabled para EMDV, ni los textos de ayuda (provisionalmente) Al guardar cambios sobre ETMD (botón guardar superior), en un proceso asincrónico, se regenera y repuebla la tabla de cache correspondiente, por lo que puede que los listados y guardado de elementos de ese ET no se de forma inmediata hasta que el proceso en el background  Configuración: Configure el Servicio FormEdit en la tabla AppService. Ejemplo: http://DocManager/WebApi/ 
Adicionados los botones de flujo con "ignore a los demás" y enviar a una persona especifica luego de devolución. Se pueden configurar los textos de cada uno con los MessageBaseId 442 y 443 respectivamente. 
Se creó el feature HideNavBar por metadata, para que las metadatas tipo readonlylist oculten la barra de navegación de la grilla en que aparecen. Release Notes: CopyAttachmentFilesForReading, LimitNextStateResponsible, Excel Staff mgmt, Grid-to-excel export, PrintedVersionFooter pages, Custom Flow diagram, telemetry basics, FormEdit, Changeset 834 

MergeFaceBookElements. Desde ahora se podrán importar Post, Reviews y Comentarios de una página de FaceBook específica. Para configurar correctamente este proceso deberá realizar los siguiente pasos. 01. Pasos preliminares. a. Identifique el ID de la página que se desea importar. b. Identifique una cuenta de usuario que sea administradora de la página que se desea importar. c. Identifique el dominio desde donde se realizará la importación.   02. Configuración dentro de la aplicación de FaceBook. a. Acceda a https://developers.facebook.com, e ingrese a una cuenta que administre la aplicación de FaceBook de DocManager Solutions. provisionalmente puede utilizar el usuario ccobaleda@docm.co y la contraseña docmanagerpassword. b. Ingrese a la aplicación.  c. En la página Settings haga click en el boton "Add Platform" e ingrese un nuevo sitio Web con el dominio mencionado en el punto 01.   d. En la pagina Roles haga click en el boton "Add Tester" e ingrese el identificador de la Persona administradora de la página web que se desea migrar. Este identificador lo puede encontrar en la URL de la página de FaceBook correspondiente al usuario.  03. Configuración dentro de la pagina /Admin/FaceBookConfig.aspx  a. Verifique que en el texto correspondiente a FaceBook App Name, se encuentre el nombre de la aplicacion, en este caso "DocManager Solutions". De no estar configurado, en la pagina https://developers.facebook.com en la seccion de la aplicacion -> dashboard, podrá encontrar el App Id y el SecretId.  b. Ingrese el ID de la pagina de FaceBook que se desea importar, puede observar si se ingreso el dato correctamente en el texto correspindiente a FaceBook Page Name. (Deberá haber realizado el paso 1 para el buen funcionamiento de este paso) c. Haga click en el botón de login de FaceBook e ingrese con la cuenta que posea privilegios de administrador sobre la pagina de la seccion b. (Deberá haber realizado el paso 1 y 2 para el buen funcionamiento de este paso)   04. Configuracion Feature del DocManager a. Se deberán crear tres tipos de Elemento, para los posts, reviews y commentarios. La aplicación identificará estos tipos de Elemento por los Feature FaceBookPostElementType,FaceBookReviewElementType y FaceBookCommentElementType. Asignelos en la tabla ElementTypeFeature con value "true".    b. Se deberán ingresar en ElementTypeFeature 3 registros, correspondientes a los Features FaceBookPostActionGroupsWithPermission, FaceBookReviewActionGroupsWithPermission y FaceBookCommentActionGroupsWithPermission. En donde se asignaran los ActionGroups con permiso de editar a cada tipo de elemento del punto 1. Estos grupos estaran separados por comas (,).  c. Se deberán crear 8 MetaDatas y asignarlas a los Elementos de la siguiente forma:  d. Se deberán crear registros correspondientes a las MetaDatas creadas en la seccion C, en la tabla MetaDataFeature. De la siguiente forma:    NOTA: deberá reemplazar el campo Value, por los MetaDataIds correspondientes. 05. Configuracion de parámetros a. Los parámetros FaceBookToken, FaceBookClientId, FaceBookClientSecret,  y FaceBookPageId se asignarán mediante la página /Admin/FaceBookConfig.aspx. b. El parámetro FaceBookCommentsMigration definirá si se importarán los comentarios de los Posts y Reviews. Al ponerse como False NO se importarán comentarios de ningún tipo. c. El parámetro AnonimousFaceBookPersonId definirá el PersonId que se le asignará al campo CreatedBy de la tabla Element, de los Elementos importados. Preferiblemente ingrese una nueva Persona con un nombre de facil identificación (Ejemplo: AnonymousFaceBookPerson).   06. Asignacion de Service Process. a. Se creó un nuevo Service Process (26), MergeFaceBookElements. Simplemente deberá agregarlo a la tabla ServiceConfig, Este proceso se correrá en la segunda hora configurada en el webConfig del servicio.   DETALLES TECNICOS IMPORTANTES: Si se cambia la aplicacion DocManager Solutions con appId: '165515717337935', ademas de realizar el cambio en /Admin/FaceBookConfig.aspx, también se deberá cambiar en el JavaScript de la misma pagina.  CC 
Tabla ETMDVWFState. En esta tabla podrá agregar fechas o días de vencimiento según ElementTypeId y MetaDataValueId, en un WorkFlowState. Ejemplo:  Registro 01: Si al crear un Element de tipo 1 se escoge el MetaDataValue 1, en el WorkFlowState 3 se definirán 95 dias para el vencimiento. Registro 02: Si al crear un Element de tipo 1 se escoge el MetaDataValue 1, en el WorkFlowState 39 se definirá como fecha de vencimiento el 2017-09-20. Registro 03: Registro no valido. Solo se podrá ingresar MaxDays si MaxDate es null, y viceversa. IMPORTANTE: los registros de esta tabla sobreescribirán el MaxDays de la tabla WorkFlowState cuando se cumplan las condiciones, pero NO sobreescribirá el campo MaxDate definido por ETMDWFTransition. CC 
Modificación de colores en Pie Chart. Desde ahora se podrán definir los colores de un Pie chart en los reportes. Se creó una columna adicional en DefaultReportCellStyle, "EqualsToValue", donde se pondrán los valores de comparación. Ejemplo:  Nota 01: Se crearon adicionalmente dos columnas en la tabla DefaultReport, "UseSolidColorInPieChart" y "UseSolidColorInBarChart". Asigneles 1 si se desea que las graficas Pie y Bar tengan colores solidos, respectivamente. dejelo como null o 0 para que los colores sean degradados.   Nota 02: Los valores en EqualsToValue deben ser exactos. Nota 03: Si se desea ocultar una grafica en un DocManager, en la tabla ChartCategory asignele Enabled = 0. CC  

MDVWFTransition. De forma similar a como se utiliza la tabla ETMDWFTransition, se podrán asignar dias o fechas maximas para WorkFlowTransitions a partir de MetaDataValues. Para utilizar este mecanismo se deberá usar la tabla de la siguiente forma.  Ejemplo 01: Si al hacer el primer guardado en un elemento de tipo 1, y se escoge el MetaDataValueId 1 (En la MetaData correspondiente), se le asignaran 95 dias a partir del momento de la creacion al WorkFlowStateId 3. Ejemplo 02: Si al hacer el primer guardado en un elemento de tipo 1, y se escoge el MetaDataValueId 1 (En la MetaData correspondiente), se le asignaran como fecha de vencimiento el 2017-09-20 al estado 3. NOTAS: 01. Esto no sobreescribiá las condiciones planteadas en ETMDWFTransition pero si sobreescribira el MaxDays de la tabla WorkFlowState. CC 
MergeEmailMessages. Desde ahora se podrán importar mensajes de un correo especifico. Para configurar correctamente este proceso deberá realizar los siguiente pasos. 01. Pasos preliminares. a. De ser necesario, dependiendo del proveedor de correos, deberá permitir el acceso a aplicaciones externas. Ejemplo: Gmail -> https://myaccount.google.com/lesssecureapps  02. Configuración de Features, deberá configurar los features de la siguiente manera  EmailMessageElementType, asignelo como true para designar el Elemento como EmailMessage. EmailMessageActionGroupsWithPermission, asigne los ActionGroups separados por comas (,).  Asigne los Features correspondientes a las MetaDatas que desea asignar como From, To, Date, Subject, Body y BodyHTML. 03. Configuracion AppService Asignele la direccion correspondiente al app service POP3Email, por ejemplo, en desarrollo se veria asi:  04. Configuración Parameter Se crearon los siguientes parametros: POP3Address, dirección del servidor POP3 (Ejemplo: pop.gmail.com) POP3EmailUser, usuario del Email del cual se quieren migrar mensajes. POP3EmailPassword, contraseña del Email del cual se quieren migrar mensajes. POP3AnonymousEmailPersonId, PersonId que se le asignará como CreatedBy a los mensajes migrados como Elementos. Podrá modificar POP3Address, POP3EmailUser y POP3EmailPassword en Admin/ParamConfig.aspx  05. Configuracion del Service Process Se creó el Service Process (26) MergeEmailMessages, para saber como configurarlo, por favor dirigase al siguiente punto de este documento. CC 
(Breaking Change) Modificación en las horas del servicio. Desde ahora podrá asignarle horas y/o intervalos a los procesos del servicio. Para esto se crearon las columnas CustomHours e Interval en la tabla ServiceConfig. Tenga en cuenta la siguiente tabla:  Modificable: Si se le asignan valores en CustomHours o Interval, el proceso se ejecutará en las horas asignadas en estos campos, en vez de las horas definidas en el App.Config del servicio. No Modificable: La asignacion en valores en CustomHours o Interval no afectarán las horas establecidas en el App.Config. Estos son procesos que se ejecutan semanalmente o todos los dias (Incluyendo sabados y domingos). Solo Custom: Procesos que no se ejecutan en ninguna hora establecida en el App.Config. Estos procesos deberán tener horas definidas para que sean ejecutados. Ejemplo:  01. El proceso 1 se ejecutará a las 11:50 AM. 02. El proceso 2 se ejecutará en intervalos de 180 minutos a partir de la hora de inicio del servicio. 03. El proceso 3 se ejecutará a las 11:50 AM, 1:45 PM y 14:20 PM. 04. El proceso 4 se ejecutará en intervalos de 180 minutos a partir de las 11:50 AM.  Ninguno de estos Procesos se verán afectados por los campos CustomHours y/o Interval, ya que hacen referencia a los procesos NO MODIFICABLES.  01. El proceso 1 se ejecutará a la 1:45 PM, ignorará el texto "HoraNoValida01" y "HoraNoValida02". 02. El proceso 2 se ejecutará a las horas definidas en el App.Config del servicio. Solo se puede definir una hora de inicio para el intervalo. 03. El proceso 3 se ejecutará a las horas definidas en el App.Config del servicio. Se debe definir una hora valida como punto de partida de los intervalos. NOTAS IMPORTANTES: 01. Solo se podra asignar como intervalo un numero entre 1 (1440 veces al dia(NO USAR)) y 720 (2 veces al dia). 02. Deberá tener en cuenta que si hay un proceso Custom en ejecución, no se podrá ejecuar otro al tiempo. DEJE TIEMPO PRUDENTE ENTRE LAS HORAS CUSTOM DE TODOS LOS PROCESOS. CC 
BinaryContent Computed Columns in CacheTable. Desde ahora se podrán almacenar los textos planos de la tabla BinaryContent en la tabla de caché. Se creó el Feature CacheTableBinaryContentComputedColumn para realizar esta configuracion.  Cree el registro en ElementTypeFeature de la siguiente forma:  Donde la primera parte (Separada por el PIPE) es el nombre de la columna, y el segunda la(s) MetaData(s) separadas por comas (,). NOTAS: 01. Si se asigna más de una MetaData en la segunda parte del Value en ElementTypeFeature, el campo la tabla de cache contendrá los todos los valores de BinaryContent sin etiquetas HTML de todas las MetaDatas especificadas. 02. Si desea cambiar el caracter que separa los contenidos planos en la tabla de cache, podra modificarlo en el parametro BinaryContentComputedColumnsSeparator. CC   
Monster-HyperLinkReplacement. Desde ahora se podrán reemplazar hypervinculos en archivos .doc. Ejemplo:      NOTA: 01. Esta función solo servirá con archivos .doc. 02. Se corrigio un problema que cerraba la aplicacion al dar una direccion no valida en el TextBox perteneciente a "Folder to Execute Replacements".   

"No se conserva la consulta que muestra un nodo en árbol personalizado". Desde ahora se mostrarán correctamente los resultados de las busquedas cuando haya jerarquía de MetaDataValues. Ejemplo: Si se hace filtrados por Categoria (MetaDataName) -> LOCACIONES (RECLAMOS)(MetaDataValue) -> LOGISTICA (MetaDataValue hijo de LOCACIONES(RECLAMOS)). Se mostrarán los elementos que tengan MetaDataValue LOGISTICA Y LOCACIONES (RECLAMOS). Dentro del SP relacionado al arbol, se deberá usar como link (para los MetaDataValues hijos): parent.SearchReferentialCriteriaWithHierarchy(ElementTypeId,MetaDataValueId,Value,ParentNode,{0}); En vez de: parent.SearchReferentialCriteria(ElementTypeId,MetaDataValueId,Value,ParentNode); CC   
Editor de elementos tipo grilla. Se utiliza para crear elementos en masa, de un tipo determinado. Tiene las siguientes características:- Se puede utilizar para crear y editar elementos embebidos y para crear (creación unicamente) de elementos individuales.- Maneja el esquema de herencia de metadata y herencia de valores desde el padre en modo embebido.- Permite guardar los elementos de forma asincrónica, de tal forma que no es necesario esperar a que se guarde un elemento para continuar editando o guardar otros elementos.- Presenta todos los campos, sean editables o no, para permitir la edición de los elementos en los diferentes estados.- Permite añadir tantas filas vacias como sea necesario. Para utilizarlo en embebidos, utilice el feature por ET EmbeddedMetaDataUsesEditGrid. Para utlizarlo de forma independiente, uselo como ../EditGrid.aspx?ET=1 donde ET es el tipo de elemento. Adicionalmente debe estar configurado en AppService el service FormEdit de form correcta. Tenga en cuenta además las siguientes restricciones: - La grilla aún no perm ite incluir embebidos en si misma.- No es posible cambiar estados, para esto debe entrar al RO o al EDIT. 
Contenido HTML basado en templates, para LiteEdit, Edit Mobile y EditGrid
Mascara correo en LiteEdit, Edit Mobile y EditGrid.
Corregido un potencial problema de despligue en la mascara de fecha. 
Adicionadas opciones al ConfigHub, en especial el acceso a la página para subir usuarios en masa. 
(Breaking Change): Tenga en cuenta que los servicios de integración con plataformas externas, estarán ahora ubicadas en un nuevo WebSite llamado IntegrationServices, que se configura de manera similar a AppServices (y se configura en la tabla AppService). Inicialmente allí se encontrará el mecanismo de integración con POP3 (integración Correo->DocManager) Release notes: Changeset 873, Facebook ETL, Email ETL, GridEdit, IntegrationServices

Busqueda en Embebidos. Se creó la posibilidad de hacer busquedas en los contenidos de los elementos embebidos (estas busquedan se hacen en los listados). Se podrán definir con el Feature "SearchInEmbeddeds" de la siguiente forma: El feature se activa unicamente al elemento padre.   CC 
DeleteTablesAndParagraphsInDoc. Desde ahora se podran eliminar tablas o parrafos en masa. Para usar este mecanismo deberáir a la pagina Admin/DocumentUtils.aspx, donde encontrara lo siguiente  Donde los campos: Ruta Carpeta (en el servidor): Es la direccion de la carpeta ubicada dentro del WebClient.Base. Indice(s) de Parrafo(s): Indice o posicion del parrafo en el documento. (Primer parrafo = 1). Se considerará un parrafo cualquier bloque de texto separado por un salto de linea. Indice(s) de Tabla(s): Indice o posicion de la tabla en el documento. Ejemplo:  Si le aplicamos el siguiente proceso:  Quedará:  NOTA: 01. Este proceso es util cuando se desea eliminar de multiples documentos un objeto en comun. 02. Este proceso NO MODIFICARÁ los Headers o los Footers. 03. Tenga especial cuidado al asignar los indices de las tablas, ya que pueden aparecer tablas en los Headers o en los Footers. Estos no se tendran en cuenta. 04. Esto afectara todos los documentos de la carpeta asignada. 05. Este proceso modificara archivos .doc y .docx. 06. Tenga especial cuidado si se desea volver a correr el proceso sobre documentos ya procesados. ya que al eliminar un elemento, el siguiente tomara su lugar. (Si se elimina el parrafo 01, el parrafo 02 pasará a ser el primero). CC 
CopyableEmbeddedElementType. Desde ahora se podran clonar los embebidos de un padre a un hijo, para esto deberá tener el siguiente escenario: Llamando  ElementTypeA: Tipo de elemento que tiene el embebido (En una MetaData x) que se desea copiar y otro embebido de tipo ElementTypeB. ElementTypeB: Tipo de elemento que tiene la misma MetaData x que el ElemenbtTypeA, donde se clonarán los elementos.  y se deberan configurar los features a) CopyParentsEmbeddeds, b) CopyableEmbeddedSourceMetaData, c) CopyableEmbeddedSourceElementType. Configuracion de los Features:  Donde: CopyParentsEmbeddeds: Asignelo en el ElementTypeB si se desea activar la copia de embebidos. CopyableEmbeddedSourceMetaData: Asigne para el ElementTypeB la MetaDataId (MetaData x). CopyableEmbeddedSourceElementType: Asigne para el ElementTypeB, el ElementTypeA como valor. En el ejemplo 103 = ElementTypeB, 102 = ElementTypeA y 517 = MetaData x CC 
HTTP Web API Integration. Se crearon 3 WebServices para la integracion con cualquier aplicacion, se compartiran Elements con sus ElementMetaDataValues y BinaryContent. 01. Configuracion del APIConsumer. Se creo la tabla APIConsumer, donde se guardarán a) el usuario b) el secretid c) el personId y d) si esta habilitado. Podrá realizar estas configuraciones en la página Admin/ParamConfig.aspx En esta pagina podra editar y crear nuevos APIConsumers, el campo de referencia será siempre el nombre (Si el nombre ya existe, se modificaran los datos, de lo contrario se creará un nuevo consumidor). 02. Configuracion de Features: Se crearon tres Features que definiran que Elements, MetaDatas, y BinaryContent se compartiran. Definiendo el ElementType.  Definiendo Las MetaDatas.    Definiendo las MetaDatas Referentes al BinaryContent. 03. Configuracion de la URL de los WebServices. En el Web.Config de APPServices se crearon tres llaves referentes a los tres web services.  04. Creacion del sessionId. El sessionId se formará de la siguiente forma: a. Crear una cadena de caracteres de la siguiente forma: APIConsumerName + (pipe)(pipe)(pipe) + hora en formato yyyy-MM-dd HH:mm b. Encriptarlo con sha256 usando el secretid como clave. c. Pasar el arreglo de bytes creado a una cadena de caracteres en base 64 05. Llamados a los WebServices, usando como ejemplo las llaves definidas en el WebConfig(Imagen anterior), se llamaran los WebServices de la siguiente forma:   a. Pedir AccessToken: En la variable data de la funcion success se encontrara el AccessToken. Pidiendo los Elementos definidos por los Features 1 y 2.En la variable data de la funcion success se encontraran los Elementos con sus valores de la siguiente forma:[{ "Id":ElementId, "values": { "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue" }},{ "Id":ElementId, "values": { "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue", "MetaDataName":"ElementMetaDataValue" }},] Pidiendo el BinaryContent para un ElementId especifico.En la variable data de la fucion success se encontrara el HTML referente al BinaryContent de la MetaData definida.  Nota:  La URL de cada WebService podria cambiar, tomese como provisional. Utilice las funciones de las imagenes como guia, simplemente se encuentra el esqueleto de la peticion.  CC  
Organizational Unit Transitions. Esta nueva caracteristica permitirá: - Definir cargos dependientes de otros. - Permitir que los cargos dependientes efectuen transiciones a nombre del cargo superior (Solo en primer nivel de dependencia, solo los cargos dependientes del cargo superior podran efectuar la transicion. NO los cargos dependientes de los cargos dependientes).  01. Para hacer la dependencia de cargos dirigase a ../Admin/PositionAdmin.aspx Al momento de dar en el boton correspondiente a la edicion del cargo aparecerá la opcion de agregar el cargo superior.  Se podran ver los cambios en la nueva columna (Cargo del que depende) de la tabla en la misma pagina.    02. Los documentos creados a partir del momento de la creación de la dependencia generarán los permisos correspondientes para los cargos dependientes. Los documentos anteriores a la creacion de la dependencia deberan ser guardados para la creacion de los permisos (Estos permisos se guardarán en la nueva tabla ItemWorkFlowTransitionPersonBackup). 03. Las personas con los cargos dependientes podran realizar la transicion a nombre del cargo superior, y se verá de la siguiente forma: ReadOnly:  Edit:  NOTAS:  Esto solo se podrá efectuar para transiciones de tipo Serial. Los documentos aparecerán en la agenda de pendientes de los cargos dependientes. Los cargos dependientes recibirán notificaciones de la misma forma que los responsables. Podrá cambiar el texto mostrado en las transiciones en la Tabla Message, MessageBaseId 445.  CC 
Custom Time Widgets. Anteriormente solo se podian definir Widgets que mostrarán los Elementos de la última semana (días -1 a -7) y los de la penúltima semana (dias -7 a -14). Desde ahora se podrán definir los días y el encabezado con el que se mostraran los Widgets. Para esto haga un registro en la tabla Widgets de la siguiente forma:   Donde:  WidgetId: Generado automaticamente. Name: Widget5 (OBLIGATORIO, Identificador de la aplicacion). ControlName: Titulo del Widget contenedor . Parameters: El parametro se compondrá de la siguiente forma ElementType  El ejemplo anterior se verá de la siguiente forma:  CC 
NotAvoidedMetaDatasOnSync. Desde ahora se podrán definir que ElementMetaDataValues NO se sincronizarán con otros Peer, estos ElementMetaDataValues se almacenaran en la tabla ObjectCache, y serán implementados nuevamente al Elemento cuando vuelva al Peer de origen. Para utilizar esta caracteristica deberá configurar el Feature de la siguiente forma:  Donde el value son los MetaDataIds de los ElementMetaDataValues que no se desean sincronizar. CC 
Se creó un feature por ET AllowNonAuthenticatedEdit que permite llenar formularios (Mobile Edit) sin necesidad de estar autenticado. Para este objetivo, es necesario que la página se llame usando un sessionkey creado a partir de lo definido en el siguiente documento:   Para esto entonces es necesario crear un usuario del API en la tabla APIConsumer. El elemento creado queda bajo el PersonId indicado en el registro APIConsumer, columna PersonId correspondiente. 
Ahora se puede enviar notificaciones a una persona externa de la aplicación, cuando el elemento llega a un estado específico y el elemento se encuentra en el peer remoto, para ello tenga en cuenta la siguiente configuración:  Debe existir la configuración de sincronización entre DocManagers. Se debe configurar el feature NonAuthenticatedExternalNotificationWFState por ET, donde el Value específica en qué estado del elemento, se va a enviar dicha notificación. Se debe configurar el feature GetInformationFromET por ET, y en el value de deben colocar las MetaDataId que almacenan el correo y el nombre del usuario de destino separadas por [paid].  Nota: Se debe colocar primero la metadata del correo. Ejemplo:   MetaDataId 212 = Correo MetaDataId 449 = Nombre  Se debe configurar una notificación para el evento “Cuando se ejecuta una transición que envía el elemento a otro Peer”, con el actor “Configurado”.  WR Release Notes:  Embedded search, DeleteTablesAndParagraphsInDoc, CopyableEmbeddedElementType, HTTP Web API Integration, Organizational Unit Transitions, Custom Time Widgets, NotAvoidedMetaDatasOnSync, AllowNonAuthenticatedEdit, ChangeSet 945

Service Process, BuildOutstandingTasksCache. Se creó un nuevo proceso del servicio que llenará la tabla OutstandingTaskCache, esta tabla contendrá los pendientes por persona, anteriormente estos pendientes se obtenian con la vista vOutstandingTasks. Se recomienda dejar un intervalo minimo (1 min), para la alimentacion de la tabla (Vease changelog 15.2, para saber como configurar intervalos de servicios). Nota: Este cambio mejorará considerablemente la velocidad de la aplicación en la agenda de pendientes y en los listados "Mis tareas". CC 
Desde ahora se podrán realizar filtrados por MetaData desde el QueryString en listing.aspx. Agrege el parametro MD de tal forma que quede: http://localhost:63001/DocManager/User/Listing.aspx?SearchIn=SearchAll&ElementTypeId=1&Search=Hola&MD=1,2,3#ContentMark BUSQUEDAS DESDE EL QUERY STRING.Para hacer busquedas desde el QueryString, cree la URL de la siguiente forma. SearchIn: Define en que listados se van a realizar las busquedas a) todos los elementos SearchAll, b) mis elementos MyElements y c) mis pendientes MyTasks.ElementTypeId: ID del tipo de elemento en el que se desean realizar las busquedas.Search: Texto que se desea buscar.MD: MetaDatas separadas por comas (,), en las que se realizaran las busquedas. Ejemplo:Si se deseara buscar las palabras "Esta es mi busqueda", en las MetaDatas 2, 3 y 4 del tipo de Elemento 1, de mis pendientes. Quedaria de la siguiente forma: http://localhost:63001/DocManager/User/Listing.aspx?SearchIn=MyTasks&ElementTypeId=1&Search=Esta+es+mi+busqueda&MD=2,3,4#ContentMark CC Mod: Desde ahora las migraciones de BinaryContent de DocManager Classic se realizaran a traves de vistas, estas vistas deberán tener la siguiente estructura (columnas): RowNumber: Numerico autogenerado.LegacyId: Id del elemento en classic correspondiente al LegacyId del elemento en Swift.TargetElementTypeId: ElementTypeId del elemento en swift.TargetMetaDataId: MetaDataId donde se almacenaran los contenidos en swift.Value: Valor del BinaryContent en classic. Para usar esta caracteristica dirigase al monster.  Ingrese el nombre de la vista en el TextBox correpondiente y haga click en el boton Execute, se mostrará el progreso en el TextBox ubicado en la parte de abajo del programa.  CC 
Formularios sin autenticacion a traves de ../User/Gateway.ashx. Desde ahora se podran crear formularios por personas no registradas en el DocManager.Para usar esta caracteristica realize los siguientes pasos: Paso 01: Configuracion de la notificacion en la tabla NotificationMessage. Cree la notificación con las siguientes caracteristicas:Actor = Configured.NotificationEventId = TransitionToRemotePeer Ahora podrá poner la llave {GatewayLink} (En los campos Message, Subject, MultipleElementsMessage, MultipleElementsSubject) de la misma forma como se usan las demas llaves (Tales como {ElementId}, {ElementTpeName}, etc). Ejemplo:  Se podrá utilizar de la misma forma GateWayLink, en el campo ElementInfoConfig, referente a las columnas de las tablas en el cuerpo del EmailMessage. Ejemplo:  El Gateway link lo definiremos en el siguiente paso. Paso 02: Configuracion de Features. Deberá configurar tres (3) Features por ElementType.a. GetInformationFromET, Este Feature definira las MetaDatas correspondientes a Email, Nombre e Identificacion (En ese estricto orden), separadas por comas (,).Ejemplo:  b. NonAuthenticatedExternalNotificationWFState, Este Feature definirá los estados en los que, al llegar, se enviará la notificacion.Ejemplo:  c. GateWayLinkTemplate, Este Feature definirá como se conformará el link en HTML que reemplazara la llave {GatewayLink} definida en el registro de NotificationMessage.IMPORTANTE: Preferiblemente utilice la etiqueta <a> con el atributo href, de la siguiente forma <a href="http://localhost:63001/DocManager/User/Gateway.ashx?SK={SK}. Solo modifique el dominio para que la url sea la indicada. Ejemplo:  Al culminar el paso 02, con los ejemplos configurados, el mensaje se mostrará de la siguiente forma:  Paso 03: Autenticación. Al dar click en el link correspondiente en el Email, nos dirigirá a Gateway.ashx, ahí deberemos poner el valor de la MetaData correspondiente al Id del Elemento definido en los Features anteriores.  Si la autenticacion es satisfactoria, se nos enviará al MobileEdit.  CC 
Ahora es posible Crear Elementos mediante la opción de Grilla desde la vista del RO, para ello realice la configuración de creación para elementos embebidos mediante la opción de Grilla, ver reléase 16.0. WR 
(Breaking Change). Se creó una versión mejorada del editor tipo grilla, que ahora se localiza en User/Egrid.ashx. Para utilizarla, se tienen las siguientes opciones:  Crear tipos de elementos independientes, usando ET: user/Egrid.ashx?ET=1 Traer la lista de tareas pendientes por ET: user/Egrid.ashx?ET=1&CacheName=MyTasks Invocar desde un embebido (es automático, no se debe usar manualmente): user/Egrid.ashx?PE=123&M=456   La grilla ahora muestra los elementos existentes en modo de lectura. Al hacer clic, se habilita para ser editada. 

Es una solución temporal por un 
en chrome: https://
chromium.org/p/chromium/issues/detail?id=769174 
Solucionados varios problemas de jerarquia en LiteEdit, EditMobile y EGrid Release Notes: Egrid, BuildOutstandingTasksCache, Listing MD searches, NonAuthenticated forms.

Ahora se pueden configurar notificaciones por transiciones, para llenar formularios sin autenticación, para ello realice la configuración de la notificacion tal cual se explica en el Change Log 16.1, pero configure para qué transición aplica la notificación. WR 
Actualizacion de Formularios sin autenticacion a traves de ../User/Gateway.ashx. (ver ChangeLog 16.1). PARTE 01: Se cambiaron los values que deberán tener los Features: 01. GatewayLinkTemplateDesde ahora no deberá agregar la etiqueta a como parte del value, solo la URL con el template. Ejemplo:  02. GetInformationFromETDesde ahora deberá agregar el MetaDataId referente al numero de telefono al final de tal forma que quede {Email}(Pipe){Name}(Pipe){Id}(Pipe){PhoneNumber} Ejemplo:  PARTE 02: Desde ahora se podrán enviar SMS al telefono definido en la MetaData nombrada en la parte 01, deberá configurar el mensaje en notificationMessag. El mensaje, al contener la llave {GatewayLink}, adicionará al final del SMS la respectiva URL. En caso de ser mayor de 140 carácteres se recortará. PARTE 03 CREACION DE SHORTENER URL: Se creó un acortador de direcciones URL, ubicado en AppServices. Debera configurarlo de la siguiente forma: En el AppServices que presta el servicio de acortador de URLs:En el parametro "AppServicesWebServerURL" agrege la ruta donde se encuentra la solucion AppServices, de forma similar que el parametro "WebServerURL".  En el DocManager consumidor:Agrege en la tabla AppService la misma direccion definida en el punto anterior mas "WebApi/".  IMPORTANTE: Puede que el DocManager y el AppServices esten apuntando a la misma base de datos, realice las modificaciones en las tablas correspondientes en la misma base de datos. NOTA: Actualmente (11/21/2017) esta configurado en la base de datos de desarrollo Dev_DocManagerSwift, además se creo el dominio s.docm.co apuntando a x.docm.co/microdev/docmanagerswiftCC 
Se agrego el SideNav del DocManager Sense, podrá verse en ../Sense/Landing.aspx.CC 
Se creó la pagina ../Sense/Landing.aspx. Ahi estara la pagina principal del DocManager Sense, tal como ../User/landing.aspx.En esta pagina podra realizar consultas basicas de los elementos por a) tipo de elemento y b) todos los tipo de elementos. CC 
Desde ahora, adicionalmente al servicio BuildOutstandingTaskCache, se refrescará la tabla OutstandingTaskCache, al efectuar una transicion. CC 
Desde ahora se conservarán las relaciones padre-hijo, cuando un elemento, despues de ser enviado a un Peer remoto, vuelve al Peer de origen. Nota: Tenga especial cuidado a la hora de configurar las transiciones en los diferentes Peer, solo se podrá: a) Enviar un elemento, junto con sus embebidos.b) Enviar los embebidos del elemento. (El padre no deberá tener transiciones en otros Peer, pues se perderia la relación) CC 
Desde ahora, al abrir un documento que este en un peer remoto en el ReadOnly y el Edit, se mostrará un mensaje. Este mensaje lo podrá configurar en la tabla Message. CC 
Desde ahora, al activar la funcionalidad de copiar los embebidos del Elemento padre (Vease Changelog 16), no se generaran los embebidos automaticos basados en plantillas EN EL ELEMENTO HIJO. Nota: Esto es necesario ya que, en ambos, el elemento padre y el elemento hijo, se esta utilizando la misma MetaData para hacer la copia. CC 
Desde ahora tambien se copiarán los permisos de las personas externas en ItemWorkFlowPermission. CC 
Externaldefaulstquery, Externalvaluehierarchy y jerarquias externas basadas en alternativeid en LiteEdit/EditMobile/EditGrid 
Corregidos errores de rendering, validación, datos guardados, mascaras en LiteEdit/EditMobile/EditGrid Se debe utilizar el feature ExternalDefaultsQueryTriggerMetaDatas por ET (un registro por metadata) para definir que metadatas disparan la modificación de valores por defecto en metadatas hija usando ExternalDefaultsQuery, en  LiteEdit/EditMobile/EditGrid Release Notes: EditGrid 2, GatewayTemplate, ChangeSet 1018

Desde ahora el servicio Windows confiará en todos los certificados SSL. Al no confiar en los certificados se generaban errores a la hora de invocar WebServices.CC 
Se cambió el mecanismo de validación del EDIT no autenticado, para tomar en cuenta información del usuario y quitar la restricción de fecha de expiración. 
Se correigió el mecanismo de presentación de acciones en el edit mobile. Ahora salen los botones de acción para el usuario correspondiente. 
Se desarrolló herencia externa-interna en LiteEdit/EditMobile/Editgrid 
Se corrigió la forma en que se maneja los anexos en editgrid. 
Se adicionó en mecanismo de refresque de elementinfotext y campos calculados en LiteEdit/EditMobile/Editgrid 
Se adicionó la página de "gracias" al terminar de elaborar un EditMobile sin autenticación, ubicada en Media/Thankyou.html 
Se adicionó un css en blanco para modificar el look&feel de gateway.ashx el procesar links desde correos que envien a páginas sin autenticación. Ver app_themes/Static/gateway.css  Release Notes: Service SSL 
EditGrid Fixes, ChangeSet 1034

[Breaking Change]. Se cambió el parámetro AppServicesWebServerURL por URLShortenerServer, que indica la url del servicio de obtención de URL cortas. 
Se añadio un indice a PermissionCache, para acelerar las búsquedas. 
[Preview]  Se creó la versión SENSE 0.1, con acceso a las agendas de pendientes y layout general de la UI. Configure los siguientes:  Parametro UseSenseUI: Determina si se debe usar Sense UI o no. Parámetro SenseLandingPage: Página de inicio de Sense, por defecto ../Sense/Landing.aspx Parámetro SenseColorScheme: Determina el esquema de color de Sense, ver http://materializecss.com/color.html  Release Notes: SENSE Preview.  

Sense 1.0. ESte release es un MVP (minimum viable product) para la nueva Interfaz SENSE, que incluye esquema básico de navegación, edición, lectura, permisos, responsables, reportes. Se requiere un navegador compatible con HTML5 (IE11+, Chrome 24+, Firefox 44+). Recuerde configurar los parámetros UseSenseUI (true) y SenseColorScheme (ver http://materializecss.com/color.html). Esta versión tiene atado el color purple darken-2. Algunas partes de esta aplicación todavia usan conceptos de la versión swift, que serán cambiados paulatinamente. 
Monster DocManager Export. Se creo la funcion de exportar la Data del DocManager para ser consumida por otras aplicaciones. Para hacer uso de esta funcionabra el Monster version 1.6.3 y haga click en "Export DocManager".  En el TextBox referente a "Target Path" asigne una ruta donde se crearan los archivos de exportacion y haga click en el boton Start.  El Monster creara: a. Carpetas por ElementType y por Element (../ElementType/Element), b. Archivos por Elemento en su respectiva carpeta (../ElementType/Element/File.abc). Aca se copiaran los Attachments, BinaryContent como .htm y ReadOnlyList como .htm. c. Archivo Excel con los Person, PersonActionGroup e informacion de los Elementos (El archivo contendrá paginas de acuerdo a los ElementTypes). De tal forma que, por ejemplo, quedara de la siguiente forma:  NOTAS: 01. El StoredProcedure [Monster_GetCacheTableColumns] podrá encontrarlo en la Base de Datos DEV_DocManagerSwift.02. Para adicionar formato a las columnas de tipo fecha, efecture los siguientes pasos: Seleccione la columna a la que desea asignar el formato de numero.  Haga click derecho sobre las columnas seleccionadas -> Format Cells -> Date -> Seleccione Formato de Fecha -> OK  Haga click en la pestaña Data y nuevamente seleccione la columna a la que le agrego el formato.  Haga click en el boton "Text to Columns" -> Delimited -> Next -> Tab -> Finish   Obtendra el siguiente resultado {Imagen 09}03. La exportacion toma algunos valores de las tablas de cache, verifique que las metadatas de tipo   1 Text 5 Date 6 MultiLineText 7 PasswordText 9 ExternalSingle 10 ExternalMultiple 11 Link 15 Chart 17 ExternalText 20 ElementInfoText 21 ServicedText  tengan NonCacheable null, en ElementTypeMetaData. De no ser asi haga el Update y haga tablas de cache. CC 
Desde ahora, al reasignar un elemento en la agenda de pendientes del administrador (../Admin/GeneralOutlook.aspx), tambien se modificará la tabla ElementMetaDataValue, en caso de que sea un ExternalSingle o ExternalMultiple definido en la tabla ETMDWFTransition. CC 
Desde ahora se podran exportar las MetaDatas tipo file (.docx y .pdf) (Elementos Hijo), de una MetaData de tipo embebido (Elemento Padre), como un solo archivo .pdf.  Para hacer uso de este Feature configurelo de la siguiente forma:  Donde el ElementTypeMetaDataId sera definido por el ElementType padre y la MetaData de tipo embebido. Ejemplo: Teniendo:- ElementType: Solicitud, padre. - MetaData: Documentos asociados.- ElementType: Documento, hijo. - MetaData: AnexosSi se configura el feature, se mostrará un botón de la siguiente forma:  CC 
Desde ahora podra configurar una MetaData dentro de un formulario con un numero celular. Para esto deberá utilizar el Feature PhoneNumberMetaData de la siguiente forma:  Donde: 01: MetaDataId: 403, prefijo: 57. Se le asignara automaticamente +57 a los numeros de esta MetaData.02: MetaDataId: 403. No se le asignara ningun prefijo. Los mensajes enviados por este tipo de configuracion seran por Actor Configurado (ActorId 4), y funcionaran de la misma forma que los SMS actuales, con mensajes en NotificationMessage. Nota:01. Puede asignar varias MetaDatas dentro de un mismo formulario. CC 
Desde ahora se podrán configurar las horas en que se enviarán los mensajes almacenados en NotificationQueue, Se realizara con el ServiceProcess ProcessEnqueuedNotificationsOnFixedTime, para usarlo configuralo de la siguiente forma: Hora de inicio: En la tabla ServiceConfig asigne UNA hora. Intervalo: En el .config del servicio encontrara la llave TasksInterval, este valor será el intervalo EN SEGUNDOS entre envios. NOTAS:01. A diferencia de otros ServiceConfig no se podran configurar multiples horas en la columna CustomHours.02. A diferencia de otros ServiceConfig el campo interval no tendra efecto sobre la configuracion, dejelo como null. CC 
Se creó el ServiceProcess DoLogMaintenance, este proceso exportara las tablas ErrorLog, NotificationMessageLog, OperationLog y  NotificationQueue, en archivos Excel y truncará las tablas al finalizar.Este proceso se ejecutará a la hora definida en la llave TasksExecutionTime02. Para configurar este ServiceProcess deberá: 01. Definir un intervalo (En días), en el parametro LogMaintenanceInterval.02. Definir la carpeta fisica donde se guardaran los archivos Excel exportados, en el parametro LogMaintenanceFilesPhysicalFolderFolder.03. Definir el tamaño del lote (cantidad de registros migrados por archivo Excel), en el parametro LogMaintenanceBatchSize.04. Definir la ultima fecha de ejecucion del mantenimiento como null o vacio, en el parametro LogMaintenanceLastExecutionDate. El servicio se ejecutara en los intervalos definidos y modificara el parametro LogMaintenanceLastExecutionDate automaticamente. Notas: 01. A diferencia de otros ServiceConfig no se podran configurar multiples horas en la columna CustomHours, dejelo como null.02. A diferencia de otros ServiceConfig el campo interval no tendra efecto sobre la configuracion, dejelo como null. CC 
Se corrigió el error “el botón de guardar desaparece para los usuarios finales” 
WR 
Se creó un nuevo valor [seleccione un valor] en el log de notificaciones del DocManager, el cual sale por defecto una vez se cargue la página, se creó un valor [Usuario Externo], que pide el correo electrónico del usuario externo para obtener el log de notificaciones enviadas a este correo. WR 
Ahora se podrá visualizar en el RO el contenido de los archivos Word que tienen prendida la característica de “Ver PDF en línea” 
WR 
Se modificó la forma como se guardan los permisos en la tabla PermissionCache. Esto deberá mejorar los tiempos de actualizacion de la tabla. CC 
Sense Listing. Se creó la pagina ../Sense/Listing.aspx. Ahi encontrará los listados de DocManager Sense. CC 
Desde ahora, se volveran a realizar los campos calculados de los Elementos embebidos, al momento de crear la relacion con su elemento padre. Esto es necesario ya que, si el campo calculado necesita algun dato del elemento padre y lo solicita antes de crear la relacion, no lo encontrará. 
CC   Release Notes: SENSE 1.0

Ahora se puede configurar que un elemento se recodifique cuando baja del peer remoto al peer local, para ello configure por ET el feature “EncodeAfterSync” como true, en la base de datos del peer local. WR 
Se agregaron las columnas PersonId y FirstTime en la tabla EMDVStamp, esto con el fin de identificar quien diligenció o modificó una metada y si lo hizo en la creación o en la edición de un elemento. WR 
DocManager.Support: Se creó un nuevo projecto Web en el que se podra realizar chat de soporte tecnico. Este chat sera traducido en un ElementType. Configuracion Previa: En DocManager deberá crear un tipo de elemento que tenga, como metadatas: - 1 MetaData correspondiente al nombre de usuario (Persona que ingresa en busca de soporte).- 1 MetaData para almacenar el Chat. (Obligatorio MetaData tipo HTML).- 1 MetaData para almacenar el Actor que termino el chat.- MetaDatas correspondientes a atributos del usuario (Cualquier atributo que se obtener del usuario. Ejemplo: Telefono, direccion, email, empresa, etc. Una MetaData por atributo). Configuracion de Features y parametros: 01. Parametro AnonymousChatSessionPersonId. Asignele un PersonId, este valor se asignara al CreatedBy de los elementos creados.02. Feature ChatSessionElementType. Asignele como true al ElementType asignado como ChatSession. ejemplo: 03. Feature AnonymousNameMetaDataId. Asignele la MetaData correspondiente al nombre de usuario y el Icono que se desea mostrar. Ejemplo: 04. Feature AnonymousPersonMetaDataIdValues. Asignele las MetaDatas correspondientes a los atributos del usuario y los Iconos que se desean mostrar (Uno registro por MetaData). Ejemplo: 05. Feature AnonymousChatMetaDataId. Asignele el MetaDataId correspondiente a la MetaData asignada para almacenar el Chat. Ejemplo: 06. Feature AnonymousFinishedByMetaDataId. Asignele el MetaDataId correspondiente a la MetaData asignada para almacenar el Actor que termino el chat. Ejemplo: 07. Feature AnonymousActionGroupsWithPermissions. Asignele los ActionGroupIds separados por comas que tendran permisos de Edicion. Ejemplo: Al montar el proyecto DocManager.Support tendra dos paginas disponibles.01. /Main/Login.aspx. Login de usuarios y soportes.02. /Main/Hub.aspx. Sala de espera y Chat. La pagina Hub.aspx se regirá por las siguientes condiciones:01. Un chat por pagina, si desea abrir mas de un chat deberá abrir la pagina en una nueva pestaña (Solo como soporte).02. Los usuarios solo podran entrar al hub una vez por loggin, si el usuario refresca la pagina o la duplica se le notificara que ya fue o esta siendo atendido.03. Los usuarios quedaran en cola hasta que un soporte acepte la conversacion.04. Cualquiera de los dos, el usuario o el soporte, podrán terminar la conversacion. Esta informacion quedara almacenada en la metadata asignada para almacenar el Actor que termino el chat. Montaje: Login.aspx se vera de la siguiente forma: Ingresando como Usuario: Ingresando como Soporte (Haga click en el boton Ingresar ubicado en la parte inferior derecha de la pagina, podra usar el mismo login y password de los Person definidos en la base de datos asignada):  Hub.aspx se vera de la siguiente forma (Izquierda usuario, derecha soporte): 01. Buscando soporte/ Esperando usuario: 02. Al aceptar una conversacion: 03. Terminando la conversacion: 04. Si el usuario intenta duplicar la pestaña, o refresca la pagina:  DocManager Swift:Cuando el usuario salga de la pagina Hub.aspx, haya o no tenido una conversacion, se creará un Elemento en DocManager.Se verá de la siguiente forma:  CC 
NotificationEvent, PeerElementArrival. Ahora se podran enviar mensajes cuando un Elemento sea creado en un Peer remoto, para esto configure en la tabla NotificationMessage un mensaje con el evento PeerElementArrival (14). PD: Esta notificacion deberá tener el WorkFlowTransitionId correspondiente a la transicion que se ejecuto para la sincronizacion del Elemento. CC 
Desde ahora se mostrará el boton "Guardar Borrador" en la pagina Mobile/Edit.aspx y LiteEdit. CC 
Desde ahora, al guardar un borrador en Mobile/Edit.aspx y LiteEdit, se podrá enviar una notificacion. Para esto cree un registro en NotificationMessage con NotificationEvent EMDVChange y WorkFlowTransitionId null. CC 
Desde ahora se podra restringir la desvinculacion de embebidos para que solo los administradores puedan hacerlo. Para esto configure el Feature RemoveEmbeddedAdminOnly de la siguiente forma:  Donde Value es la MetaData tipo embebido a la que se desea aplicar la restriccion. CC - 

"Las notificaciones agrupadas no funcionan para el actor configurado". Las notificaciones ahora se envian correctamente. CC - 

"No se envían notificación para cambios de estado entre peers". Las notificaciones entre Peers ahora se manejarán al momento de creacion del Elemento en el Peer remoto. CC - 
Se volvió a corregir el mecanismo de codificación desde el EDIT mobile DESARROLLOS SENSE- 
No funciona el botón para guardar los cambios en la administración de usuarios- 
El botón de guardar queda un poco sobre el primer campo del formulario- 
Permite crear/vincular embebidos sin guardar el elemento previamente.- 
Mensaje de validación en un sitio visible- 
Los paneles ahora traen información de titulo, código, estado, una vez se abre o se guarda un elemento.- 
Solicita comentarios en cambios de estado. Known Issue: No es un campo HTML.- 
Animaciones de espera varias al guardar y ejecutar acciones.- 
Creados mensajes de confiormación varios y se aumento el tamaño del mensaje.- 
Emebeidos ahora tienen en cuenta ETMDRestriction para remover elementos.- 
EditMobile/LiteEdit genera ahora emebebidos automáticos- 
EditMobile/LiteEdit ahora usa herencias de elementos padre, restricciones por grupo y mostrar o no [Seleccione un valor]- 
EditMobile/LiteEdit contempla ahora jerarquia entre listas y anexos- 
RO permite bloquear cambios de estado si no hay metadatas completas para avanzar.- 
RO permite cambios de forma y fondo- 
En campos embebidos se tiene en cuenta si se debe mostrar el botón de buscar.- 
Elementos en Sense abren ahora en Sense, no en ventanas separadas.- 
Se creó el botón VER en el Edit, para ir al RO- 
Se ajustaron refrescos de Paneles conexos (por ejemplo, el RO se refresca si el EDIT se guarda) Release Notes: Fixes, Support Chat, SENSE 1.1  

Se solucionó el 
WR 
Se ajustaron mensajes que estaban quemados en el código fuente para DocManager Sense WR 
PartialSync. Desde ahora se podran agregar elementos a la cola de sincronizacion al dar click en "Guarda borrador".Para esto configure el Feature SendToRemotePeerOnDraftSave de la siguiente forma:  Donde value esta en la forma {WorkFlowStateId(PIPE)PeerId}. WorkFlowStateId: El elemento debe estar en el WorkFlowState definido para que quede en la cola.PeerId: Peer a donde se desea enviar el Elemento. CC 
Desde ahora se podran filtrar los resultados del WebService ListElements de AppServices, vease el manual de consumo de api en:\\dmserver\REGISTROS\DD\JM-DM\3.D&D\Manuales HTTP API\Integración DocManager via HTTP API v1.2 
Se creo un WebService en AppServices para la obtencios de valores de MetaDatas tipo SingleList, MultipleList, SingleExternal y MultipleExternal. Podrá configurar la URL de este WebService en el .config de la aplicacion en la llave GetSelectableValuesURL. Podrá ver documentacion adicional en el directorio:\\dmserver\REGISTROS\DD\JM-DM\3.D&D\Manuales HTTP API\Integración DocManager via HTTP API v1.3 CC 
Se creó la pagina Admin/LoadBalancingConfig.aspx, acá podrá crear, editar o eliminar configuraciones de balanceo de carga. CC 
Desde ahora en la pagina TreeView.aspx se podra definir si, al cargar la pagina, se abrirá UN nodo inicialmente.Agrege al final de la direccion correspondiente al TreeView.aspx?{...}&item=IdDelNodo Puede ver un ejemplo en la siguiente direccion: x.docm.co/dev/avvillas/User/landing.aspx?Custom=true&Type=html&title=Indice_de_Documentos&ModuleId=1&url=TreeView.aspx%3FS%3DCustom_GetTreeNodes%26item%3D860_38302 CC 
CreateIncomingElements. Desde ahora se podran crear elementos a traves del proyecto AppServices, por el WebService definido en el archivo .config, "CreateElementURL": Para esto será necesario: 01. Tener configurado un consumidor en la tabla APIConsumer. 02. Configurar los Features:- APIConsumerIncomingElementType: Definirá si el tipo de elemento se podrá crear externamente.- APIConsumerIncomingElementAllowedMetaDatas: Definirá las MetaDatas que se podrán crear externamente.- APIConsumerIncomingElementActionGroupWithPermissions: Definirá los ActionGroups que tendrán permisos de edición en los elementos creados de forma externa.03. Opcionalmente en la tabla Message, podrá configurar el nombre que se le asignará a los Elementos creados (MessageBaseId 464). Podrá ver una implementacion del consumo del WS en:http://x.docm.co/test/dummy/PQRDummy.html Podrá encontrar documentación adicional en:\\dmserver\REGISTROS\DD\JM-DM\3.D&D\Manuales HTTP API\[PQR] Integración DocManager via HTTP API v1.0.pdf CC 
Desde ahora se podrá mostrar el EditGrid en vez de la lista por defecto en la agenda de pendientes. Para esto agrege en el QueryString EGrid=true. CC Mod: Desde ahora se mostrarán, en el edit grid, las transiciones que se pueden efectuar, en vez de los estados. CC 
Desde ahora se podra asignar una MetaData que contendrá el origen del Elemento (Aplicacion Web, AppServices, FaceBook, Email o Chat),Para esto agrege una MetaData al ElementType, y agrege el Feature de la siguiente forma:  Donde Value es el MetaDataId de la MetaData que contendrá el origen. 
Desde ahora podrá cambiar el listado por defecto de la agenda de pendientes por el EditGrid. Para esto configure el Feature UseEditionGridOnMyPendings de la siguiente forma:  Donde:Value = WorkFLowStateId separados por comas(,). (Recordemos que en la agenda de pendientes se muestran los pendientes por estado) CC 
Desde ahora podra una fecha desde la cual se migrarán Post y Reviews de Facebook. Configure los Feature de la siguiente forma:  Donde:98: ElementType correspondiente al Post.99: ElementType correspondiente al Review. CC Mod: LogMaintenance Update. Se creó la tabla TableMaintenance para separar la ejecucion del mantenimiento por tabla. NOTAS:1. Si no se especifica ningun "interval" en la tabla TableMaintenance se utilizara por defecto el parametro "DefaultLogMaintenanceInterval".2. Si se asigna null como "LastExecutionDate"se hará el mantenimiento la fecha de ejecución del servicio. CC 
Se agregó un boton en Sense/Listing.aspx donde podra cambiar entre ver los elementos como resumen o tabla. CC 
Se habilitaron valores Enabled=false en listas externas en mobile edit/liteedit/editgrid. 
Se corrigió el mecanismo de borrado de anexos en la grilla. 

CC 
Ahora Colores de SENSE dependen exclusivamente del parámetro SenseColorScheme (No son violetas por defecto). Release Notes: SENSE Fixes, EGrid by state, SENSE Tables, HTTP API 
features, PartialSync, Egrid WT Execution, Sense Messages.









SENSE Comentarios al ejecutar acciones HTML o que permitan meter anexos. 
SENSE Comentarios obligatorios y opcionales.  
Desde ahora se tendrán en cuenta las condiciones definidas en WTETMDCondition en EGrid.ashx. CC 
Desde ahora se podrá definir si se muestran los resultados como tabla por defecto en ../Sense/Listing.aspx. Configure el Feature "ShowAsTableAsDefaultInSense" de la siguiente forma:  CC 
Se hicieron modificaciones en el codigo para corregir el error . "Unable to cast object of type 'System.Data.EnumerableRowCollection`1[System.Data.DataRow]' to type 'System.Data.EnumerableRowCollection`1[System.Data.DataRow]'" CC 

y 
"Cuando se ejecuta la sincronización de un elemento que viaja del peer local al peer remoto, no está copiando completamente la tabla itemworkflowpermission" y "Cuando se ejecuta la sincronización entre peers, el elemento viaja del peer local al peer remoto, no está copiando completamente el itemworkflowstateconfig, lo que no permite avanzar en el flujo". Desde ahora se sincronizarán correctamente las tablas ItemWorkFlowPermission y ItemWorkFlowStateConfig entre Peers. CC 

"Las búsquedas no traen resultados de información en metadatas (Sense)". Desde ahora se traerán los resultados correctamente. CC 

"No ejecuta la primera transición con el primer guardado, cuando el formulario se llena sin requerir autenticación. ". Desde ahora la primera transicion se ejecutará correctamente. CC 
Desde ahora se podrán migrar archivos con el Monster version 1.7. Se podrán migrar archivos: - Con ruta absoluta con extension (e.g. "C:\\files\test.abc").- Con ruta relativa con extension (e.g. "files\test.abc")- Con ruta relativa sin extension. (e.g. "files\test") Para esto cree un archivo de excel que contenga una de las siguientes 3 columnas (Durante el texto se referirá a esta columna como Columna de referencia) - ElementId.- AlternativeId.- LegacyId. Y la ruta de los archivos por cada valor en la columna de referencia, con el nombre File Ejemplo:ElementId----File 1--------------C:\\files\test.abc2--------------files\test.abc3--------------files\test En el monster ingrese a "File Import & Fix", y en la sección "Excel Files Import" ingrese la ruta del archivo excel y el MetaDataId al que se agregarán los archivos. El directorio donde se encuentre el archivo excel (Ejemplo: Para "C:\\Files\Migration.xslx" es "C:\\Files\") se tomará como base para construir la ruta absoluta de los archivos con ruta relativa. Para el "Archivo de excel" de ejemplo, quedaría de la siguiente forma:ElementId----File 1--------------C:\\files\test.abc2--------------C:\\Files\files\test.abc3--------------C:\\Files\files\test Note que para el ElementId 3 podrían existir mas de una coincidencia, como: C:\\Files\files\test.abcC:\\Files\files\test.defC:\\Files\files\test.ghi Todos los archivos se migrarían y tendrían su respectivo registro en ElementMetaDataValue. CC Release notes: Sense , Edit, Egrid fixes

Ahora sale link en "elementos que lo relacionan" en el RO 
Ahora es posible que cuando se creen nuevas versiones de elementos embebidos, estos quden optativamente relacionados con el elemento o elementos padre. Para esto utilice el feature por ET RelinkToPutativeParentOnNewVersion. De la misma forma, se pueden desasociar los elementos obsoletos. Para esto defina por ET el , feature DeleteParentREAfterRelink 
Ahora es posible bajar en formato ZIP anexos tipo file de formato PDF, espcialmente cuando estos tienen firmas digitales no generados por la aplicación. Para esto, defina por MD o ETMD el feature MustBeZippedWhenDownloaded. Opcionalmente, se puede dejar para todos los PDF de al aplicación el ViewOption ZIP . Esto resuelve  (

Ayudas de metadata en Edit Mobile/Lite Edit (





MonsterClassicFileImport. Desde ahora se podran migrar archivos de la tabla BSANEXO de DocManager Classic a DocManager Swift. 01. Para esto cree una vista en Classic que contenga las columnas: a. RowNumber (Id consecutivo de 1 a n).b. LegacyId (LegacyId del Element al que se le agregará el archivo).c. TargetMetaDataId (MetaDataId en la que se agregara el registro en ElementMetaDataValue).d. Value (Contenido Binario de la tabla BSANEXO, [AnexoArchivo]).e. FileName (Nombre del archivo en classic, en la tabla BSANEXO [AnexoNombre]). Ejemplo: CREATE VIEW [Migration] AS SELECT ROW_NUMBER () OVER (ORDER BY [AnexoRadicacionId]) AS [RowNumber],[AnexoRadicacionId] AS [LegacyId],16 AS [TargetMetaDataId],[AnexoArchivo] AS [Value],[AnexoNombre] AS [FileName]FROM [BSAnexo] 02. Una vez creada la vista, en el Monster ingrese a "File Import & Fix", y el textbox View in Classic en HTML Classic Migration ingrese el nombre de la vista. 03. Haga Click en el boton "Files" de la seccion "HTML Classic Migration". NOTAS: 01. En el TextArea se mostrarán los errores contenidos por una serie de asteriscos.Ejemplo:**********************************************************Esto es un error**********************************************************02. Al final del proceso se mostrará un resumen de todos los errores durante la ejecucion.03. El boton "EXECUTE" se renombró a "BinaryContent".04. Los archivos importados quedarán en la carpeta definida en la carpeta Files de la aplicación Web. CC 
Desde ahora no se mostrará la ventana para la modificacion de responsables en elestado actual. Anteriormente se mostraba pero se bloqueaban los cambios. CC 
Desde ahora se podrán filtrar por fecha los Emails importados de la cuenta definida en POP3EmailUser. Para esto configure el Feature EmailMessageInitialDate de la siguiente forma:  Donde:ElementTypeId es el tipo de elemento asignado como EmailMessage (Feature EmailMessageElementType)Value es la fecha que se utilizara para el filtrado (Todos los mensajes a partir de la fecha definida). CC 
Desde ahora se pueden guardar en la tabla ErrorLog errores ejecutados desde JavaScript, si asi esta configurado.Para esto puede utilizar el metodo de JavaScript AddExceptionToLog(message) en /ClientScript/Edit.js. CC 
Desde ahora el Monster podrá Migrar información entre aplicaciones DocManager. Para esto diríjase oprima el botón "Migration" en la interfaz principal.Realice los siguientes pasos: 01. En la sección DataSources ingrese las cadenas de conexión de las bases de dato origen y destino. 02. Haga click en Check para probar la validez de las conexiones.03. En la sección Scan and Import ingrese el ElementTypeId que se desea migrar.04. Haga click en el botón Scan.La aplicación realizara un escaneo previo, creando una tabla de equivalencia en la base de datos Origen. En esta tabla podrá realizar las modificaciones de dependencias en caso de que los Ids sean distintos.  05. Haga click en el botón Start Import!La aplicación empezará a migrar información. Se migrarán las tablas:  Position Profile Person MetaDataValue ActionGroup Element ElementMetaDataValue ItemWorkFlow ItemWorkFlowPermission ItemWorkFlowHistory ItemWorkFLowTransitionPerson ItemWorkFLowStateConfig BinaryContent PersonActionGroup RelatedElement  NOTAS:01. Si algo sucede durante el proceso y el Monster se detiene, al iniciar el proceso nuevamente el monster comenzara donde se detuvo.02. No se migrarán tablas relacionadas a configuración (MetaData, WorkFlow, ElementType, WorkFlowTransition, WorkFLowState). CC 
Desde ahora se podra crean una version ¨Resumida¨ de los Elementos desde el ReadOnly (boton "Imprimir resumen") ,los listados (boton con icono de PDF en las tablas) y la agenda de pendientes (boton con icono de PDF en las tablas). Esta version sera un pdf que tendrá todas las secciones del elemento más los archivos anexos que se puedan convertir en .pdf.  Para activarlo en el ReadOnly, asigne el feature ShowPDFSummaryButtonInRO en ElementTypeFeature como true. Para activarlo en los listados, asigne el feature ShowPDFSummaryButtonInLists en ElementTypeFeature como true. Para activarlo en la agenda de pendientes, asigne el feature ShowPDFSummaryButtonInToDoLists en ElementTypeFeature como true. Para asignar una marca de agua al resumen, asigne el WateramarkId en ElementTypeFeature para el feature PDFSummaryWaterMark. Para que los anexos aparezcan primero que la informacion del elemento en el pdf final, asigne el feature ShowAttachmentsFirstInSummaryPDF en ElementTypeFeature como true.  CC 

"El proceso que quita los encabezados, quita también las auto formas". Este problema era causado por incompatibilidad del componente que procesa archivos Word. Desde ahora, se convertiran todos los documentos a .docx automaticamente antes de remover los encabezados y se modificaran coincidencias en ElementMetaDataValue. CC 

"No funciona la característica de Organizational Unit Transitions, se crea el registro en ItemWorkFlowTransitionBackUp, pero los usuarios asignados como backup no pueden realizar las transiciones y no les queda en sus pendientes.". Desde ahora se mostrarán los elementos en la agenda de pendiente correctamente y las transiciones en el ReadOnly y el Edit. CC   Release Notes: Sense fixes, Monster app-to-app import, JS logging, minor fixes, ChangeSet 1385.   Update:2018-05-03 
Los elementInfoText y campos calculados son recalculados al crear unan nueva versión de un elemento (en la nueva versión, en todas las situaciones que lo ameriten)   Update: 2018-05-04 
OrganizationalChart. Se creó la pagina ../OrganizationalChart/Chart.aspx, ahi se encontrará la grafica de la estructura organizacional. La estructura de la grafica se definirá por las tablas OCPosition (Cargos) y PersonOCPosition (Miembros). Se creó la pagina de configuracion ../Admin/OrganizationalChartConfig.aspx, donde encontrará instrucciones para la modificacion de la grafica a partir de un archivo Excel. NOTAS: - Podrá cambiar las propiedades esteticas de la pagina en el archivo ../OrganizationalChart/assets/css/custom. CC   
Se creó el parametro DynamicSearchInitialDateParameter. De forma similar al parametro SearchInitialDate podra definir una fecha inicial, para las busquedas por defecto. Este nuevo parametro definira la fecha inicial de las busquedas a partir de la fecha actual menos la cantidad de meses definidos (value). Ejemplo:  Suponiendo que hoy es 2018/05/04, y teniendo el parametro con 12 como valor. Se tomará 2018/05/04 menos 12 meses, que equivale a 2017/05/04. NOTA: - Este parametro solo funcionará si no se define el parametro SearchInitialDate. CC   
Se creó el Feature FilterByMainListVisibleForAdmins. Asignelo como true para realizar filtrados iniciales por estado para los administradores, tal como funciona con los usuarios no administradores. Ejemplo:  CC   
Desde ahorá en la tabla Origin, se podrán definir MetaDataValueIds en su respectiva columna. Esto permitira definir MetaDatas de tipo lista como MetaData de Origen.ç CC   
Se adquirió la licencia para el componente que importa Emails.    

Se corrigó una situación en la cual un responsable definido en una metadata, no es copiado al flujo en la versión mobile/sense. 2. 
Pendientes que salen cuando se supone que no. Ya no es necesario dejar corriendo el ServiceProcess 27 BuildOutstandingTaskCache (pero si es necesario refrescar aunque sea la primera vez el OustandingTaskCache cuando se hace upgrade desde una versión abajo de la v12) 3. 
Se corrigió una situación en la cual el servicio Windows crecia en memoria hasta más de 5GB, esto debido al proceso que actualiza el PermissionCache. 4. 
[Breaking Change]: Se cambió el mecanismo de cifrado de las contraseñas en la aplicación. Ahora se utiliza el algoritmo x 10000 iteraciones combinado con , usando el mecanismo de , en cumplimiento a lo recomendado por . De esta forma, no se podrán reutilizar contraseñas entre usuarios y es necesario seguir el procedimiento de reestablecimiento de contraseñas para crearlas. Por otro lado, es necesario que a partir de esta versión se haga el re-cfirado de las contraseñas usando "Configuración de Parámetros Avanzados" de Admin/Config.aspx usando la opción "Bulk Password Hash Changer" (esto recifra TODAS las contraseñas de los usuarios que ya tengan sus contraseñas con el nuevo algoritmo y no tiene reversa). 5. 
Para autenticación NORMAL, el sistema le recordará a los usuarios el cambio de contraseña cada n días (definido por el parámetro PasswordExpirationReminderDays, que en caso de ser NULL, no se obligará). Por otra parte, también en modo NORMAL, el sistema impedirá el ingreso hasta que se cambie la contraseña, a partir del día d (definido por el parámetro PasswordExpirationDays, que en caso de ser NULL no se obligará). La regla debe ser n < d y si se define d, se debe definir n. Por ejemplo, si PasswordExpirationReminderDays es 80 y PasswordExpirationDays es 90, el sistema empezará a recordar que se debe cambiar la contraserña desde el día 80 (contados a partir del último cambio de contraseña) hasta que esta sea cambiada y bloqueará el acceso desde el día 90 (contados a partir del último cambio de contraseña) hasta que el usuario inicie el proceso de cambio de contraseña. 6. 
En autenticación NORMAL, es posible definir que un usuario no pueda usar alguna de sus últimas contraseñas, cuando requiera cambiarla. Para esto, defina el parámetro PreviousPasswordsToCheckCount con el número de contraseñas a verificar. [Technical Note]: Las contraseñas se ubicaran de forma cifrada en la tabla PasswordHistory. [Technical Note]: NIST no incluye recomendaciones en favor o en contra de esta práctica, por lo que solo se debe habilitar cuando un cliente lo requiera. 7. 
En autenticación NORMAL, es posible definir el número de intentos máximos consecutivos fallidos en el que un usuario podrá ingresar su contraseña antes de que su cuenta se bloquee. Para esto, defina, el parámetro UserBlockageFailedLogonCount (se recomienda el valor 5). Al bloquearse la cuenta, le llegará un correo al usuario explicando la situación y un correo al administrador de seguridad (también es posible que le llegue un correo a los usuarios de perfil administrador funcional, si se define el parámetro SecurityWarningEmailAlsoToAdmins en true). Se tienen entonces 2 plantillas de correo: Una para el administrador de seguridad (o administrador funcional) definida por el parámetro SecurityWarningEmailTemplatePath (se recomienda EmailTemplates\SecurityWarning.htm) y una para el usuario al que se le bloquea la cuenta definida por el parámetro SecurityWarningUserEmailTemplatePath (se recomienda EmailTemplates\UserSecurityWarning.htm). Cuando le llega el correo al administrador (de seguridad o funcional) se le indica que proceda a la página de administración de usuarios y una vez allí, pueda desbloquear el usuario. Al desbloquearlo, le llegará un correo al usuario (basado en la misma plantilla definida por SecurityWarningUserEmailTemplatePath) que indica que ya se le desbloqueó la cuenta. Optativamente, el sistema puede en vez de este último correo, enviarle automáticamente el email de reestablecimiento de contraseña, para lo cual debe definir en true el parámetro SendPasswordResetEmailOnUnlock. 8. 
Se adicionaron entradas el OperationLog en temas de intentos fallidos de acceso y bloqueo de cuentas por causa de demasiados intentos fallidos. 9. 
Se creó un mecanismo de verificación de borrado de los anexos en metadatas tipo file, que pregunta al usuario si está seguro de querer borrar el registro. El mensaje está definido por el MessageBaseId 514 de la tabla message. [Known Issue]: Solo aplica para modo Swift, no para modo Sense. 10. 
Se ajustó el mecanismo de suggest en modo Mobile/Sense que no permitia elegir datos si tenia jerarquía con una metadata padre interna. 11. 
Es posible incluir en la versión PDF (versión para imprimir) de los elementos, el nombre de la persona que genera tal documento. Para eso, en el feature PrintedVersionFooter o PrintedVersionHeader (por ET) defina la cadena $PrintedBy$, la cual será reemplazada por el nombre del usuario. Ejemplo: Fecha de Publicación inicial: [Fecha de Publicación inicial].Elaborado por [CreatedByName] e impreso por $PrintedBy$ </td>. Recuerde además que es posible usar $PrintingDate$ y $PrintingTime$ para mostar fecha y hora de generación del PDF, respectivamente. Release Notes:  ChangeSet 1760, PBKDF2, Password rule set, Minor fixes. // APLICABILIDAD DE MODIFICACIONES PARA PRUEBAS JMC Procesos Disciplinarios: 1 Todos los aplicativos: 2,4 (con autenticación Normal),11 JMC Reclutamiento y PQR: 3 Lab Legrand: 4,5,6,7,8,9 Todos los aplicativos con SENSE: 10 // DESCRIPCIONES FUNCIONALES 1. Probar asignación de responsables a tareas en flujos, en general. 2, 3 A las personas les deben aparecer sus pendientes de formas correcta y no aparecerles pendientes que no les corresponden. 4. Todos los usuarios deben poder entrar sin problema a la aplicación cuando se haga el re-cifrado o cuando cambien sus contraseñas 5,6,7,8: Todas las opciones de aseguramiento de cuentas deben ser probadas 10. Probar grilla y EDIT en SENSE 11. Probar versión impresa

Ahora es posible crear configuraciones de flujo basados en condiciones que usen metadatas tipo Text, InfoText y Listas Externas. Para eso, establezca el valor en la tabla WFPreconfigCondition en las columnas ExternalMetaDataValueId (Listas externas) y Value (para Text e InfoTexts). [Known Issue]: En esta version no es posible realizar la configuración a través de la interfaz (es necesario hacerlo por base de datos).[Known Issue]: Solo está liberado para SENSE UI. 
Es posible aplicar las restricciones definidas por EVAGRestriction y MDVAGRestriction para el primer guardado únicamente. Para esto, establezca en el valor del feature ApplyMDVAGRestrictionOnCreationOnly y ApplyMDVAGRestrictionOnCreationOnly respectivamente. [Known Issue]: Solo aplica para SENSE UI. [Breaking Change]: EVAGRestriction debe funcionar igual que MDVAGRestriction, es decir, solo mostrar valores con permisos y quitar los demás. 
Se implementó en SENSE el mecanismo que permite mostrar opciones de la tabla menu, al usuario que tenga permisos. De la misma forma, solo se mostrarán los tipos de elementos en el menú, si el usuario tiene los permisos propios. 
[Breaking Change]: Se implementó un mecanismo para restringir la visualización de los modulo por pertenencia a grupos. Para esto configure la tabla AppModulePermission. Tenga en cuenta que tendrá que configurarlo para aplicaciones existentes. Solo aplica para SENSE. 
Es posible ahora en SENSE crear un elemento que automáticamente se mapee a automáticamente a un usuario, es decir, cree el usuario en la tabla person. Para esto recuerde usar los siguientes parámetros:  PersonMappedElementTypeId: Tipo de elemento que tiene información “adicional” del usuario. PersonMappedPhoneNumberMetaDataId (opcional): MetadataId en el formulario que define el número de teléfono de la persona. PersonMappedNameMetaDataId: Metadataid del nombre de la persona PersonMappedEmailMetaDataId: Metadataid con el email de la persona. PersonMappedLegalIdMetaDataId: Metadataid con el número de identificación PersonMappedDefaultPositionId: Cargo por defecto en DocManager de la persona recién creada. AutoGenerateMappedPerson: en true, para que la operación se realice automáticamente.  Adicionalmente se crearon los siguientes parámetros:  MappedPersonDefaultActionGroups: Define (separado por comas) la lista de grupos a los que pertenecerá la persona recién creada (recuerde que todos los usuarios por defecto pertenecen al grupo 1 y no es removible) MappedPersonTransitionsForOwnElement: WorkflowTransitionId (separadas por comas) de las transiciones que puede y ejecutará la persona creada. Por ejemplo, “Enviar” sus datos corregidos desde el formulario.  De esta forma, cuando se llene el formulario mapeado, sucederán los siguientes eventos:  Se creará el usuario en la tabla person, con el cargo y los grupos configurados. Se enviará un correo al usuario [Update 2019-07-01]: de bienvenida, cuyo template está definido por el parámetro MappedPersonWelcomeEmailTemplatePath. Luego le llegará un email para que crea su contraseña. Tenga en cuenta que es posible obligar al usuario nuevo a pasar la prueba del ReCaptcha, por lo que en tal caso, deberá configurar el parámetro PasswordChangeUsesCaptcha. Una vez creada la contraseña, el sistema lo enviará la página de login y de ahí hasta el contexto de SENSE con el formulario que contiene sus datos, para que este los modifique (en este tipo de redirecciones siempre se muestra, al lado del formulario, la agenda de pendientes. Si no se desea que se muestre, establezca en true el parámetro DoNotShowToDoListOnSenseRedirect) La persona podrá cambiar sus datos y enviar el formulario. Update:2019-07-03: Si la persona modifica su dirección de correo o su nombre, estos datos serán corregidos y actualizados en la tabla person. De la misma forma, si el correo es modificado en la página de administración de usuarios, este dato se copiará al elemento relacionado. [Breaking Change]: No se crearán elementos mapeados desde el servicio de sincronización.  Tenga en cuenta que en este contexto, la persona nueva creada es un invitado, por lo que debe tener acceso mínimo a los módulos y otra partes de la aplicación. En general, seguirán aplicando los mecanismos de seguridad a nivel de elementtpe, element, etdmrestriction, etc. 
Se creó un mecanismo que permite solo a cierto grupo editar responsables y permisos en el RO de SENSE. Para esto configure, un grupo por registro, los grupos que pueden tener esta opción, usando el feature FlowAndPermissionsExclusiveEditorGroup por ET. Si no se establece el feature, el RO tendrá el comportamiento usual. 
Ahora es posible usar 2FA (Two factor authentication) para acciones, en SENSE. Esto es, que para pode ejecutar ciertas transiciones del flujo, el usuario deberá ingresar un código que llega al correo, al teléfono mediante SMS o ambos. Para esto configure el parámetro Use2FAForActions en true (y 2FASMSVerification si va usar SMS. Para esto debe tener un proveedor de SMS). Adicionalmente, configure el feature TwoFAVerifiableTransition por ET (un registro por transición) para las transiciones que requiere tal tratamiento. Recuerde además el parámetro 2FAExpirationTime que establece la validez en minutos del código enviado al usuario. Finalmente, configure el parámetro TFAEmailTemplatePath para establecer la plantilla de correo que servirá para ser enviada al usuario (si no se establece la plantilla, se envía un mensaje genérico). Se recomienda usar la plantilla EmailTemplates\ES_TFATemplate.htm. Update 2019-06-28 . Es necesario además incluir en la tabla AppService, el registro AuthenticationServices con la url http<s>://<path_micrositio>/WebApi/Authentication/. Ejemplo https://x.docm.co/microprod/cliente/WebApi/Authentication 
Al hacer clic en Inicio o en logo de DocManager, se enviará al usuario a lo definido en el parámetro SenseLandingPage. Release Notes: SENSE hardening, Sense 2FA, 1st save AG restrictions, Preconfig Additions, ChangeSet 1764 Update 2019-07-04:  
La reasignación de tareas desde el elemento (SENSE) y desde la agenda de pendientes ahora refrescan adecuadamente el mecanismo de listado de tareas pendientes de los usuarios involucrados (OutstandingTaskCache). 
En mobile edit/sense edit, los campos listados internos y externos obligatorios estaban quedando como no obligatorios, si estos tenian padre en la jerarquia. 

Solucionada una situación en la que, si la información de la sesión se usuario es obtenida desde las cookies y no desde el proceso de autenticación, el esquema de timeout (tiempo de inactividad de sesión) no funcionaba de forma correcta. 
Solucionado un problema en el que el mecanismo WorkFlowTransitionConstraint no funcionaba correctamente en la dirección hijo putativo - papá putativo. Recuerde que este esquema funciona de la siguiente forma: en la tabla WorkFlowTransitionConstraint se definen  que transiciones de los hijos putativos (embebidos, es decir dirección pp-hp) o de los padres putativos (padre o padres de un elemento que actua como embebido hp-pp) se restringen si, el padre o hijo en cada caso, se encuentra en uno o más estados especificos. Si no se encuentra(n) en el estado correspondiente, la transición no es visible. 
[Breaking Change]: El feature ReplaceSquareBracketsByBookmarksOnOverwrite (que reemplaza los contenidos encerrados en [] por bookmarks en word) queda sin efecto, ya que el sistema reemplazará los marcadores [] siempre, para asegurarse de que se hagan los reemplazos correspondientes al fusionar un documento con información de metadata. Update 2019-07-11:  

[Breaking Change]: Se cambió el metodo de conversión de Word a HTML (ahora se usa una librería diferente). Esto soluciona el problema de las viñetas del . Sin embargo, debe ser probado extensamente. El metodo antiguo tiene una corrección disponible, pero se prefiere se use el método nuevo. Para usar el método antiguo (el que se sabe presenta el fallo), se debe usar un Parámetro WordToHTMLMethod (disponible en la siguiente versión v19.7 y debe ser agregado manualmente). 
Embebidos en SENSE no ordenaban por la primera columna 
En SENSE RO no se veian los campos HTML en Embebidos. 
En SENSE no se estaba aplicando de forma correcta showpdflinks 
Adicionada ayuda contextual al botón "Permisos y Responsables" 
No funcionaba el botón de expandir en contenido HTML en SENSE RO 
No se aplicaba de forma correcta MDVETRestriction en valores hijos de jerarqui en SENSE Edit / EditGrid 
Se ajustó el botón de "settings" de SENSE para que permita configurar en una sola ventana contraseña, imágen de avatar y firma escaneada. 
Se creó un mecanismo (versión beta) para habilitar el uso de la aplicación en caso de que se deshabilite en el servidor el protocolo TLS1.0. TLS es un protocolo utilizado selectivamente para la comunicación entre cliente (browser) y servidor web. En 2018, TLS 1.0 fue declarado inseguro debido a varias vulnerabilidades (, BEAST, DROWN, etc) y se recomienda desahbilitarlo en los servidores Windows. En caso de que se deshabilite, se debe agregar la siguiente línea en el web.config de la aplicación, del app service y en el .config del servicio windows: <add key="DisableLegacyTLS" value="true"/> de esta forma, la aplicación podrá operar normalmente. Puntos especificos a probar: arranque normal de la aplicación, envío de correos (tanto inmediatos como en cola), impresión, funcinamiento en todos los navegadores desde IE10, Chrome 72 y FF 67 y superiores. En general, funcionamiento correcto usando HTTPS.   Update 2019-07-17:  
Esto es un ByDesign: El cambio de elaborador est diseñado para cambiarlo absolutamente donde la persona está involurada en el elemento. Si se desea cambiar este comportamiento, es decir, que no se afecten las tareas del flujo donde la persona está asignada (ItemWorkFlowPermission), se debe configurar el feature DisableCreatorChangeWorkFlowModification por ET. 

Update 2019-07-22:   
Se creó una página para mostrar resultados de consultas en las cuales se mezclan las celdas contiguas en columnas, cuando existe una coincidencia entre ellas. Esto es útil para caracterizar procesos, es decir, extraer información relativa a elementos (procesos), sus metadatas, elementos embebidos ( y a su vez metadatas y otros embebidos). Para esto, utilice la página SENSE/SpanList.aspx asi: Sense/SpanList.aspx?Q=Custom_CsByDocument9&E=10151&Style=CsTable donde Q lleva el valor del SP custom, E es el id del elemento padre (parámetro necesario para el SP custom) y Style es el estilo de tabla existente en RO.css. Se requiere que la 1era columna sea un identificador. Se verá similar al siguiente:  
El datatype MaskNumeric ahora funciona en Lite Edit / Mobile Edit / SENSE. Update 2019-07-29:   
Se creó el feature AdditionalInfoSectionExpandedByDefault (por ET) para expandir por defecto la sección "Información Adicional" en el RO (swift). 
[Breaking Change]: Se modificó al estructura de las plantillas de correo para SurveysII. De ahora en adelante la plantilla deberá tener la misma estructura de plantillas usando campos con [Corchetes Cuadrados]. El sistema reemplazará los corchetes cuadrados por los correspondientes valores asi: [PersonName] será el nombre de la persona, [Link] tendrá el link para entrar al survey y [Nombre_de_MetaData] donde Nombre_de_MetaData es el nombre de una metadata será el valor de tal metadata (incluyendo infotexts). De tal forma que las plantillas basadas en {} no funcionan desde ahora. 
Se creó un feature SurveyEmailSubjectMetadatadId (por addon) que indica un metadataid en el tipo de elemento Survey, cuyo valor servirá de Subject del correo a enviar a la persona que responde. En caso de no configurarse, se usará el definiddo por el messageId 374.    

[Breaking Change]: Parameter.ParamenterId oficialmente pasa a ser smallint en vez de tinyint.  2.
Ahora tanto el administrador como el administrador de seguridad, cuando este último está habilitado, pueden ver la agenda de pendientes del administrador. Se creó el Parámetro DisableGeneralOutlookForSecurityAdmins que permite deshabilitar esta opción para administadores de seguridad. 3.
En RO SENSE, las metadatas tipo LINK tienen en cuenta la jeraquia de metadata ([Known Issue]: no aplica para EDIT). 4.
Se creó el tipo de dato de metadata (datatype) MaskDateTime, que permite usar cajas de texto con mascara tipo fecha/hora. EN SENSE la validación es dd/mm/yyy hh:mm y se puede usar con solo definir el datatype.   En SWIFT el formato es yyyy-MM-dd hh:mm y requiere usar el ETMD con el nuevo ValidationTypeId 18 (DateAndTime). 5.
Se creó el ValidationTypeId 19 (DateAndTimeBetweenNowAndNHours) el cual valida una fechz/hora más un número de horas hacia adelante. Se debe usar con el datatype MaskDateTime. 6.
Se ajustó y se puso en funcionamiento el validationtype Date_BetweenTodayAndNDays que valida una fecha absoluta entre hoy y un n número de días hacia adelante. 7.
En la creación de nuevas versiones de un elemento en SENSE/Mobile EDIT, el cuadro de dialogo que pregunta la nueva persona responsable generaba agotamiento del stack de script de cliente y bloqueaba la página luego del cambio. 8.
Al crear una nueva versión de un elemento, se estaba bloqueando la transacción ocasionando un deadlock en la BD. 9.
Los elementos embebidos automáticos que se crean cuando en MDV se usa "auto" en la configuración, ahora crean su código de forma correcta, usando el código del padre. 10.
[Breaking Change]: Los reportes tipo lista (CustomList.aspx) ahora utilizan la seguridad definida por AddOnSubMenuPermission, donde se define que grupos pueden abrirlos.   De esta forma, los reportes tipo lista deben usarse con un AddOn comodin y solo se pueden abrir desde el menú listados (SWIFT) o desde el menú de módulo en SENSE 11.
Se añadieron iconos indicadores en SENSE en el menú de módulo, para reportes tipo Pivot y tipo Lista. 12.
Se solucionó un problema que impedia el render del EDIT SENSE si un infotext usaba markup HTML. 13.
Se solucionó una situación en la cual en SENSE EDIT/Edit Mobile/Grid no guardaba los cambios para una metadata tipo lista interna o externa, si se borraba el único valor remanente en la lista (suggest y multi-selección). 14.
Se solucionó la función [Seleccionar Todos] para metadatas tipo lista multi-selección en EDIT Mobile/Grid/Sense. Explicación funcional y pruebas: 2. [Legrand] La opción de "Agenda de pendientes del administrador" debe ahora estar disponible según lo configurado.  3. [Valorem], consultar AJ. 4,5,6. Configurar las mascaras y las validaciones y probar tanto en SENSE como en Swift [VivaAir][Vigia] 7,8. Probar creación de nuevas versiones en IE, Chrome, FF. 9. Probar creación automática de elementos embebidos [Valorem][Nueva EPS], etc. 10,13,14. Probar en [Nueva EPS][Valorem] 12. [Valorem] consulta con LH Release Notes: SENSE Fixes, MaskDateTime, DateAndTimeBetweenNowAndNHours, CustomList changes, General Fixes, ChangeSet 1781  








Parcialmente (solo se corrige el problema en el que no se ejecutan las primeras transiciones cuando se hace un embebido).  5. 


Notificaciones usando plantillas HTML.[Beta 1] Para esto configure en la tabla NotificationMessage, los campos UseTemplate como 1 y en TemplatePath la ruta de la plantilla relativa al website (por ejemplo EmailTemplatesES_DefaultNotification.htm). En la plantilla, utilice en corchetes cuadrados los nombre de metadatas y otros datos del elemento asi: [PersonName] (Nombre de la persona), [AlternativeId], [CurrentWorkFlowStateName] (estado actual, [Link] (link al elemento) y [ElementName] Nombre del elemento. Tenga en cuenta:  Esta versión sigue usando el subject de NotificationMessage No es posible usar para correos agrupados Si no existe la plantilla no envía ningun correo Tome como base la plantilla por defecto que se incluyen en el paquete (EmailTemplatesES_DefaultNotification.htm)  7. 
[Beta 1]. Se creó la función QuickPrint (feature) que permite habilitar por ET la opción de impresión rápida de un Elemento basado en una plantilla HTML. Para esto configure en true el feature y cree en la carpeta PrintTemplates un HTML con el nombre del id del ET. Por ejemplo PrintTemplates/34.html es la plantilla para el ET 34. Use las convenciones de nombre de campo para las plantillas de NotificationMessage según se describe arriba. 8. 
El clonado de elementos queda ahora con la fecha del clonado, no con la fecha de la creación del element original. 9. 
Corrección en el mecanismo que obtiene el listado de preconfiguraciones de permisos sin condición. 10. 
Corrección en el mecamismo de obtención del primer nivel de metadatas en el árbol de filtrado. 11. 
Corrección en la forma en que se crea el tipo de elemento de los embebidos, cuando se generan de forma automática. 12. 
Ajustados los métodos de la API de acuerdo a la vesión 1.9 del . 13. 
Solucionado el problema de visualización de las fechas en los filtrados tipo árbol, para desktop y mobile. 14. 
[Breaking Change]: Se ajustaron todos los mecanismos en la aplicación que requieran listados de usuarios, los cuales solo usarna los que estén habilitados. Release Notes: NM HTML Templates, QuickPrint, API 1.9, Minor Fixes. Aplicabilidad: 6,8,9,10,12,13,14 Todas 7. Opain 8. Donde aplique el clonado.   UPDATE 2020-08-05:   15. 
Se ajusto mecanismo de envio de SMS para que funcione en cualquier situación donde se envien notificaciones.    Se debe configurar correctamente el AppService ShortenerURL que por ahora en todos los casos debe tener el valor  Para que pueda construir el short link, se debe dejar al final de Notification.Message con el marcador {SMSLink} o [SMSLink], por ejemplo "Puede consultar aquí: [SMSLink]" El servicio de acortado de links (URL Shortener) que está en  es universal para cualquier aplicación que lo consuma, luego no requiere configuración adicional.   16. 
Se ajustó la API para la creación de elementos, para que ejecute acciones de los addons. 17. 
Se ajusto el mecanismo de apertura de links desde el correo, para que se vea el RO del elemento de forma correcta al abrir sense en bajas resoluciones. 18. 
Se ajustó el editor HTML en cambios de estado en RO sense, para que se ajuste al ancho de la pantalla en mobile. 19. 
Se ajustó el mecanismo de cálculo de responsables basados en infotext, para no tener que obligar a guardar 2 veces ([Known Issue]: cualquier operación que dependa de RelatedElement para un primer guardado no funciona en este caso, ya que no se tiene la información del RE antes de ejecutar el llenado del infotext)

Se creó la interfaz para cargue de firma digital. Estará disponible si el parámetro UsePersonalDigitalCertificates es true. Con esto, en el botón de configuración de usuario aparecerá la opción. Notese que solo es posible subir certificados con extensión PFX o P12. Si la persona sube un certificado nuevo, sobreescribirá el anterior. 2. 
Se creó un método alternativo para firma archivos docx. Para esto, configure el parametro UseOfficeSigningAlternativeMethod en false. Para usar el metodo anterior, defina el parámetro como true. 3. 
[Breaking Change]: La sección "firma escaneada" solo será mostrada si se activa el parámetro UseSignaturesSection. 4. 




Se creó el feature ForceHideRelatedElementButtonOnROConfig por ET para forzar el ocultamiento de un botón de vincular en el RO Sense, en un estado específico para un ET embebido especifico. Configurelo como un valor separado por coma, donde el primer valor es el ET embebido y el segundo es el estado. Por ejemplo 2,3 oculta el botón de vincular el ET del tipo 2 en el WorkFlowTransition 3. 7. 

(Configuración de listados, comportamiento errático). SE implementó un mecanismo que vacia parcialmente el cache de aplicación al modificar los valores y se ajustó el mecanismo de las jerarquías. 8. 
Se ajustó un defecto grave en la aplicación de jerarquías internas en el EDIT Sense, el cual solo aplicaba para ciertas metadatas las jerarquías. 9. 
Se ajustó un problema con la configuración con autenticador externo (SSO con AAD) que impedía administrar los usuarios externos en la página correspondiente. Release notes: DS UI, DS alt method, MDVH 
minor fixes, Changeset 2027  Aplicabilidad y pruebas 1. Opain. Se debe verificar el correcto funcionamiento de la interfaz de cargue de la firma digital personal y que esta funcione de forma adecuada cuando se configure para firmar documentos digitalmente. 2. Opain, EficaciaCD 3,6,8,9 General. SE deben hacer pruebas completas del correcto funcionamiento de las jerarquias de controles en los diferentes formularios de SENSE Edit.   UPDATE 2020-08-28 10: 
Se corrigió la falta de scroll vertical en el menu principal en SENSE para IE.11: 
Corregido problema de preconfiguración de permisos sin condiciones, que no se aplicaban de forma correcta.12: 
Se corrigió una situación en la que quedan los valores en edit a pesar de que el campo esta oculto, cuando se cambian la metadata padre en la jerarquia en el EDIT.13: 
[Breaking Change]: Se oculta por defecto el Stamp en la aplicación de firmas digitales en PDF. Para que aparezca, use el feature DigitalSignatureStampIsVisible por MD. [Known Issue]: Aplicar varias veces la firma sobreimpone el stamp.14: 
Se creó el feature DigitalSignatureChangesAllowed para indicar que cuando se aplique una forma digital a un PDF, este en todo caso permita cambios (asi invalide la firma final). Si el feature no se establece, el PDF es marcado como final.    

Se realizaron ajustes de rendimiento generales en la aplicación (SENSE) en: Creación de elementos, Edición de Elementos y búsquedas. Se ajustaron varios mecanismos para aprovechar mejor el cache interno de aplicación, disminuir el número de lecturas/escrituras en base de datos, eliminar operaciones que no son transaccionales, agrupar operaciones transaccionales en una sola, agrupar operaciones CRUD en unas pocas, realizar operaciones asincrónicas para devolver el estado de control a la capa de presentación, escritura optimizada en tablas de cache de elemntos, permisos y tareas pendientes, y optimizar escrituras condicionales. Se realizó un ajuste de un total de tres para soportar altos picos de trabajo, simulando alrededor de 450 usuarios y 300 operaciones de lectura y guardado cuasi-simultaneas (lotes de 200 cada 20 segundos). Con los ajustes, se crearon 2 cambios tipo [Breaking Change]:  Las consultas generales por texto no utilizan por ahora (se revisará para una versión posterior) el feature SearchInEmbeddeds. Antes de ejecutar InfoTexts, no se refrescarán las tablas de cache (se requiere que los procedimientos almacenados asociados a Infotext NO usen tablas de cache). Para temporalmente poder usar los actuales infotext con tablas de cache, establezca el parámetro CalculatedFieldsRequireCachePrePopulate en true.  Es necesario probar con detalle (funcionamiento general y velocidad) los siguientes aspectos:  Apertura de listados por ET y por Modulo. Búsqueda por palabra clave general y por ET. Versión RO de elementos (que aparezca la información completa, que se manejen los permisos de forma adecuada, que se creen los responsables y permisos que heredan de metadata de forma adecuada) Edición de elementos (que se guarde la información de forma correcta, que se registren los cambios de forma correcta y rápida en EMDVStamp) Notificaciones Agendas de pendientes Funcionamiento normal de la API.  Release Notes: Performance FIXES, Changeset 2104    

Se ajustó el mecanismo de impresión en PDF para que tome rutas locales. Esto evita el problema de impresión cuando la aplicación utiliza SSL (https). De esta forma, establezca para la impresión de logos y otras imágenes, las rutas usando el formato UNC como por ejemplo file:///C:/yourpath/etc/etc.jpg. Además debe establecer el parámetro ForceUsingPDFLocalPaths en true y el parámetro WordToPDFFromHTML en false. Por otra parte, de existir, el parámetro DisableSSLOnPDFRendering siempre deberá quedar en false para evitar problemas de seguridad. 
Se implementaron mejoras en el mecanismo de guardado de información distribuida entre peers en el DMSIS (DocManager Secure Inter-Server Synchronization), para disminuir bloqueos y tiempos de escritura. 
Se creó un botón para disparar de forma manual el proceso de sincronización entre peers. Para esto vaya a admin/adminutils.aspx, en la sección DMSIS. 
[Critical]: Se corrigió una vulnerabilidad en las búsquedas en SENSE que permitia ejecutar ataques (reflected). 
[Critical]: Se corrigió una vulnerabilidad en la aplicación que permitia la ejecución de ataques de usando Cross-Frame Scripting. 
Se corrigió una vulnerabilidad en aplicaciones con autenticación con Azure Active Dirctory (AAD) que no cerraba de forma correcta las sesiones en DocManager a pesar de presionar el botón Salir. 
Se corrigió una posible vulnerabilidad en las búsquedas en SENSE que potencialmente permitia hacer búsquedas sin estar correctamente autenticado. 
Se creó una nueva página de administración de grupos, que subsana problemas de performance y se adapta al nuevo diseño de SENSE, usando una premisa de consultas paginadas. Para usar la versión anterior (no recomendado) se debe establecer el parámetro UseLegacyGroupAdmin en true. 
Ajustado un mecanismo que terminaba los hilos de ejecución de forma incorrecta al bajar archivos. 
Se ajustó el desempeño en operaciones de guardado de archivos Word afectado por fusión de metadata con plantillas. 
[Critical] Se realizó una corrección en el mecanismo que procesa y reintenta comandos contra la base de datos cuando ocurre un deadlock. 
Elminación de algunas transacciones innecesarias en guardados. 
Se ajustó el mecanismo de búsquedas usando textos, para mejorar el rendimiento y evitar deadlocks contra la tabla EMDV. Para esto, desde esta versión se deberán definir por ET las columnas que se incluirán en las búsquedas textuales, usando el feature SerchableColumns. Los nombres de las columnas se derivan de la tabla de cache correspondiente y deben llevar corchetes cuadrados []. Por ejemplo: [ElementName],[Nombre de la persona],[AlternativeId] Si no se definen estas columnas, se usarán por defecto las columnas [ElementId],[ElementName],[AlternativeId]. 
El parámetro EnforceUploadExtensions ahora es completamente obligatorio o la aplicación no podrá ser operada. 
[non-documented] En v23 se crearon los parámetros AzureSecret y AzureTenantId que deben ser diligenciados para poder realizar a sincronización con AAD. De esta forma, se rediseñó el mecanismo de sincronización y se corrigió un problema en el que se deshabilitaban siempre el usuario 1 o selectivamente varios usuarios de la aplicación.  Aplicabilidad y pruebas 1.General: probar impresión de imágenes con o sin SSL.  2,3 Eficacia CD: Probar sincronización?n de forma correcta.  4,7,13 General: Probar la ejecución correcta de las busquedas en SENSE.  5,6. General: Probar el ingreso y salida de la aplicación de forma correcta con autenticación normal, LDAP y con AAD.  8,10,14. General  9. General: Probar descarga de archivos en diferentes contextos.  11. Eficacia CD. Verificar que no existan registros en el event viewer de terminaci?n de w3wp.  12. General. Probar guardado de elementos.  15. Donde aplique AAD.   Release Notes: XSS, CFS, DMSIS improvements, SerchableColumns, SENSE group admin, AAD fixes, printing fixes, search fixes. Changeset 2116   Update 2021-02-16  16 
Se corrigió la vulnerabilidad  (Open Redirect). 17 
Se corrigieron errores menores en el mecanismo de Sincronización entre Peers (DMSIS). 18 
Ahora es posible ejecutar una sincronización parcial de personas (grupos) entre peers. Para esto configure en el parámetro PeerSynchronizableGroups con los actiongroupid, separados por coma, que se desean sincronizar desde los peer contrarios (por ejemplo, si deseo traer todo el grupo 1 desde el peer remoto, en el peer local configuro el valor 1). [Breaking Change]: Es obligatorio al menos tener configurado el grupo 1. 19 
En SENSE no se podrán editar elementos si el estado actual del flujo está en un peer diferente. 20 
Solucionado el problema en el cual no se asignan responsables a transiciones secundarias después de guardar por primera vez o al editar. 21 
[Breaking Change] Ahora se pide contraseña anterior para cambiar la contraseña actual (estando en la propia sesión del usuario). Si se desea deshabilitar este comportamiento, se deb establecer el parámetro DisableCurrentPasswordCheckOnChange en true (no se recomienda pues va en contra del OWASP Application Security Verification Standard). 22 
Solucionada la vulnerabilidad : Observable Response Discrepancy. [Breaking Change] Desde ahora, los mensajes de contraseña errónea y no-existencia del usuario se unifican para evitar dar información que comprometa la seguridad de los usuarios. De la misma forma, al reestablecer contrseñas, no se le darán pistas al usuario si su cuenta existe o no. 23 
Corrección en la página de Login para eliminar caches innecesarios. 24 
SENSE ahora cuenta con el mecanismo de Timeout, para el cierre de sesiones por inactividad. 25 
Solucionado un problema en el paginador de la nueva página de administración de grupos. 26 
[EDER]: Solucionado problema con la exportación de elementos/anexos. Se debe configurar el feature LinkFilesToExport (por ET) en true para indicar si el archivo de exportación incluye links a las carpetas, en vez de solo nombres de archivo. 27 
Se actúalizó la librería Jquery.js a la versión más reciente 28 
Ahora se fuerza la aplicación a utilizar . 29 Config: [Breaking Change]: Se deberá borrar de todas las aplicaciones el player de videos y usar solo el nativo HTML5, por temas de seguridad. 30 Config: Se deberá borrar el archivo App_Themes/JqueryUI.Smoothness/license.txt por temas de seguridad. 31 Config: En ambientes cloud que hayan removido las suites inseguras de cipher (Thunder, KOF, etc) se deberá establecer en true el tag DisableLegacyTLS del web.config de WebApp y API. 32 Config: En ambientes con SSL, se deberá establecer en true el tag httpCookies requireSSL 33 
Correcciones varias en configuración de la API. En este sentido, ahora se hace necesario configurar el parámetro AllowedAPIConsumerEndpoints que indica, separadas por comas y sin slash final, desde que URLs se estará invocando la API. Por ejemplo: https://rocket.docm.co:444,https://app.docm.co. Si no se establece (lo cual es una vulnerabilidad) quedará expuesto a ser consumido desde cualquier parte.  Pruebas Adicionales  Se debe probar toda la aplicación en busqueda de regresiones por el cambio de la versión de Jquery, la aplicación de medidas de seguridad en la API, la corrección de vulnerabilidades y el enformzamiento de medidas de seguridad. Esto incluye: Login/Reestablecimiento de contraseña/Cambio de Contraseña personal y la de otra persona en la consola de usuarios, Listados, búsquedas, edición (jerarquías, auto-suggest), impresión, lectura, embebido y cambios de estado 

[Breaking Change]. [Critical]: La aplicación WEB funcionará usando .net Framework 4.7.2 para lo cual hay que configurar el Application Pool con ASP.NET 4.0 Pipeline Mode (de esta manera, es prerequisito tener instalado el .net Framework 4.7.2. de acuerdo a la forma de instalación que el sistema operativo tenga para tal fin. En caso de requerir el runtime por no estar disponible, se puede descargar desde ). Esta versión de aplicación SOLO ES ESTABLE PARA SENSE, POR LO QUE NO DEBE SER UTILIZADA CON APLICACIONES SWIFT.   2. 


Solucionadas varias posibles vulnerabilidades en aplicación SENSE:    Autocomplete Privacy Violation.  Wrong Content-type setting.     4. 
La habilidad para manejar una sola sesión por usuario (por navegador) ahora esta disponible en autenticación híbrida con Autenticador Azure (recuerde que el parámetro DisableSingleSessionPerUser es false).   Release Notes: FRM 4.7.2, CVE fixes, Hybrid SSPU, ChangeSet 2131   Pruebas:   1,3. Pruebas generales totales SENSE: Notificaciones, Listados, Mezcla de Word, Conversiones a PDF, Impresión, Grillas, Filtrados, Active Directory, Edición, RO, Embebidos, Permisos, Responsables, API, Modulos de administración.   4. Donde aplique autenticación híbrida con Autenticador en Azure.   UPDATE: 2021-03-05   5. 
Se ajustó el Orden de las transiciones en lso botones del RO de sense, usando transitionnaturalorder.6. 
Correción en anomalía en creación de nueva versión, en la cual no se copiaban los datos de forma correcta y se duplicaban los datos en el elemento padre.7. 
Correcciones en login.aspx para textos de botones y mensajes.8. 
Corrección en operaciones de insertado masivo (por ejemplo evalueaciones). (timeout de 120s/lotes de 1000)9. 
Corrección en desempeño de agenda de pendientes de Administrador.10. 
Workaround al incremento desproporcionado del LOG al usar el serviceprocess PartialPurge.11. 
Se eliminaron todas las versiones inseguras y sin parches de Jquery.12. 
Para la firma digitales de documentos diferentes a PDF se creó el feature KeepOriginalFileForDigitalSignature por MetadataFeature, el cual mantiene el documento original a firmar y en otra metadata el documento firmado; se creó el feature ChangeExtensionForP7Z por MetadataFeature (Documento original a firmar) al que a estos documentos firmados se les cambia la extensión a P7Z (Depende de WS, en caso de Andes devuelve los documentos diferentes a PDF en P7)13. 
Para colocar la firma Stamp en el documento por medio del WS  en el parametro ExternalDocumentSigningEnvelopTemplate se debe enviar un envelope con las siguientes caracteristicas:  en el cual al momento de configurar debe tener en cuenta el parametro ubicacionImagen en el cual se indicara posicion de la firma, para que esta firma aparezca en el documento el usuario debe tenerla en su configuracion.   UPDATE: 2021-03-11 14. 
Ajustes varios en despliegue de metadatas tipos suggest con herencia entre padres e hijos, en EDIT SENSE. 15. 
Ajuste visual del GRID cuando se usa desde un menú Addon en SENSE (no aparecía el scrollbar). Para esto, en el menuaddon se debe incluir en la URL &AsList=1 16. 
Ajustes para el elemento mapeado desde la consola de usuarios. 17. 
Ajustes varios porr cambio de librerías de JS: Modificación Fondo/Forma, Listados SENSE, ReadOnly, Búsqueda de Embebidos.   UPDATE: 2021-04-07 18. 
Se creó una nueva interfaz de administración (consola) de usuarios. Para usar la anterior (no se recomienda) establecer el parámetro UseLegacyUserAdmin en true. [Known Issues]: No es posible ordenar, no se puede utilziar los elementos mapeados y las columnas tienen nombres fijos.
Video:    
Ver descripción del 
Pruebas y aplicabilidad. Alpopular y donde aplique. 
Ver descripción del 
Pruebas y aplicabilidad. Todas las apps. 
Ver descripción del 
Pruebas y aplicabilidad. Alpopular y donde aplique. 
(No Fix),  (No reproducible), (No reproducible) Ver descripción de los 

Se creó un diccionario en JS(Edit.js) para el reemplazo de caracteres que no permiten abrir la edición del elemento y no generen conflicto al momento de guardar (aplica pata metadatas tipo texto).Pruebas y aplicabilidad. Todas las apps. 
Se ajustaron los estilos del nuevo reporte pivot, manteniendo los estilos de sense.Pruebas y aplicabilidad. Todas las apps.
Se ajustaron los colores de la fecha de vencimiento, y el título del elemento ahora incluye el alternativeId en la agenda de pendientes generalPruebas y aplicabilidad. Todas las apps. 
BETA 
Se creó el parámetro 'CacheTableMultipleChoiceValuesMarkUp', dónde se puede definir el markup de como guardará cada valor de una metadata de selección múltiple en la tabla de cache, por defecto está la forma original “- |< br >” donde el “- ” es lo pondrá al inicio del texto y separado por | “< br>” es lo que pondrá al final por ejemplo “- MacroProcesos de la industria< br>”. (Tener en cuenta como se visualiza en la exportación).Pruebas y aplicabilidad. NuevaEPS y donde aplique. 
Ahora en la agenda de pendientes del módulo las fechas de vencimientos tendrán la misma configuración de colores de la agenda de pendientes principal.Pruebas y aplicabilidad. Todas las apps. 
Como mejora al desarrollo 
ahora es posible restringir a los administradores de grupos de no realizar acciones en el grupo principal, como agregar o eliminar usuarios. Estas acciones solo estarán disponibles para los grupos dependientes. Para habilitar esta funcionalidad, configure el parámetro AdminGroupManageLowerGroupsExclusively en 'true'. Pruebas y aplicabilidad. FEMSAKOF, Todas las apps.   
Como mejora a la funcionalidad de WorkFlowExternal, ahora el resultado del consumo realizado a la API externa quedará registrado en el OperationLog, lo que proporciona una trazabilidad más completa de los eventos. Además, las acciones de los usuarios al realizar un consumo manual se registrarán en la tabla WorkFlowExternalLog, permitiendo así un seguimiento detallado de las acciones de los usuarios. Esta información puede ser aprovechada en diversas consultas o informes. Pruebas y aplicabilidad. PEI,Todas las apps.   
Con los proveedores de autenticación actualmente compatibles en DocManager, como Okta y Azure Active Directory, ahora es posible sincronizar los grupos que el cliente elija y vincularlos a los usuarios correspondientes. Para configurar esta funcionalidad, simplemente ajuste los parámetros SynchronizeADGroupsFirst a 'true' y SyncAADGroupFilter para definir el filtro que determine los grupos a sincronizar (en caso de no indicarlo se asume que se sincronizan todos los grupos del directorio). EJEMPLO SyncAADGroupFilter para ADD: $filter=mailEnabled eq true EJEMPLO SyncAADGroupFilter para OKTA: q=TEST Para mayor información revisar las respectivas documentaciones de Okta y Azure Active Directory Pruebas y aplicabilidad. Todas las apps.   
Se han implementado mejoras significativas en los informes tipo Pivot, ampliando su compatibilidad con una amplia variedad de gráficos, que incluyen Gráficos de Área, Gráficos de Área Apilada, Gráficos de Área Apilada Completa, Gráficos de Línea de Área, Gráficos de Línea de Área Apilada, Gráficos de Línea de Área Apilada Completa, Gráficos de Área de Paso, Gráficos de Barras Apiladas, Gráficos de Barras Apiladas Completa, Gráficos de Línea, Gráficos de Línea Apilada, Gráficos Spline y Gráficos Spline Apilados, entre otros. Estos gráficos ahora se pueden vincular directamente a la tabla DefaultReportChart en el campo de la tabla DefautReport (DefaultChart). Además, se ha habilitado la capacidad de guardar configuraciones públicas o específicas por usuario, siguiendo el enfoque anterior en los informes pivote. También es compatible con los idiomas portugués, español e inglés. (Known Issue) Todavía se esta trabajando en la implementación de las características de semáforo y configuraciones preestablecidas por defecto. Pruebas y aplicabilidad. Todas las apps.   
Hemos habilitado la capacidad de notificar a cualquier actor necesario sobre un cambio de estado realizado por el superadministrador en un elemento. Para configurar esta notificación, le instamos a seguir el procedimiento estándar utilizando el evento 'StateChangeBySuperAdmin'. Es importante destacar que esta notificación debe estar vinculada a un ElementType específico Pruebas y aplicabilidad. FEMSAKOF,Todas las apps.   
Se ha implementado una solución para un error en los filtros de los elementos embebidos, que previamente no tenían en cuenta los estados pertenecientes a los flujos  'MinorChangeWorkFlowId' y 'MajorChangeWorkFlowId' del tipo de elemento. Pruebas y aplicabilidad. EBSA,Todas las apps.   
Durante la conversión en tiempo real a PDF con 'RealTimePDFVersion,' se identificó un problema en el que, en ciertas ocasiones, no se respetaban los encabezados ni los pies de página. Para solucionarlo, hemos introducido nuevas funcionalidades que pueden configurarse según el 'ElementType': RealTimePDFVersionHeaderDistance, RealTimePDFVersionFooterDistance y RealTimePDFVersionClearHeaderFooter. Estas adiciones se han implementado para mejorar y ampliar las funcionalidades existentes de esta característica. Pruebas y aplicabilidad. EBSA,Todas las apps.   
Ahora es posible llevar a cabo la sincronización de los miembros pertenecientes a múltiples grupos de distintos directorios, tales como Okta y Azure Active Directory. Para configurar este proceso, se requiere especificar los identificadores (IDs) de los grupos que se desean sincronizar, separados por punto y coma (;), en los parámetros correspondientes: OktaGroupId y AzureSyncGroupId. Pruebas y aplicabilidad. Todas las apps.   
Se implementó el mecanismo de RefreshToken en OAuth2 en la API de DocManager. Esto permite que una vez se establezca un BearerToken, se adquiera de inmediato in RefreshToken con el cual se puede obtener a su vez un nuevo BearerToken (ya que este tiene una vida útil de 20 minutos). En postman, en el de DocManager, se puede probar (sacar una copia). Pruebas y Aplicabilidad: Eficacia CD y todos los consumidores de la API que requieran pasar el límite de los 20 minutos de duración del BearerToken   
(Breaking Change). Se mejoró la seguridad de la cookie de reestablecimiento de la sesión, para que este no puede ser reutilizada. Adicionalmente, se removió de allí información no necesaria y se ajustó para usar la propia llave de encripción de la aplicación. Pruebas y Aplicabilidad: Todas las aplicaciones   
En la búsqueda de embebidos, se eliminó el icono de vincular y se cambió por la palabra 'Vincular'. Pruebas y aplicabilidad: Todas las aplicaciones   
Se creó un mecanismo para variar el layout de los listados por ET (y agendas de pendientes de modulo), usando imágenes, textos o colores condicionales. Para esto, configure por ET el feature SenseCustomListConfiguration, con un JSON con el siguiente formato: CustomColumns --> ColumnName (Nombre de una columna), Markup (HTML para reemplazar el texto), Value (el valor que servirá cómo condición para reemplazar el texto), HideText (true si se debe ocultar el texto original). Adicionalmente, se puede usar IsScript, para indicar que el markup tiene un comando de javascript y ScriptRequiresPersonId si tal script usa el PersonId de la persona actualmente autenticada. Por ejemplo:   Pruebas y aplicabilidad: KOF, Todas las aplicaciones   
(CG - HRP) Se creó el mecanismo de Favoritos, el cual permite que los usuarios añadan como favoritos, los elementos que deseen. Cuando se define el Parámetro UseFavorites, los listados de elementos por ET en SENSE podrán tener un botón que permite establecer o eliminar un elemento como favorito. Para esto, use la configuración de SenseCustomListConfiguration usando el ejemplo 5. Pruebas y aplicabilidad: Todas las aplicaciones   
Se creó un mecanismo que desactiva usuarios (les pone el atributo de Enabled en 0) si pasa cierto tiempo (días) sin actividad. Para esto, se definió el parametro UserInactivityThreshold, que indica el número de días de inactividad de un usuario, basado en su último logon (nueva columna Person.LastLogonDate). Si se define como 0, no se obliga a la desactivación automática. No aplica para AD o AAD. Pruebas y Aplicabilidad: Donde aplique. Se sugiere implementar siempre en nuevas aplicaciones.   Release Notes: Pivot 2.1, Favorites, AAD/Okta groups sync, Cookie Own Encrypt, External Workflow fixes, 
fixes, Changeset 3074   Update 2023-09-28   
Se ajustó un defecto en la aplicación del parámetro DisableSingleSessionPerUser a causa de la combinación de la nueva página de autenticación y la inclusión del modificador de seguridad de las cookies samesite=strict. Pruebas y Aplicabilidad: Todas las aplicaciones donde se tenga activado (false) el parámetro. 
Ajustado problema en la agenda de pendientes del adminsitrador al momento de reasignar, 
relacionados (, ) Pruebas y Aplicabilidad: Todas las aplicaciones.   Update 2023-10-03   
Se creó el parámetro SenseHTMLEditorProperties para permitir definir ciertas características del editor HTML de las metadatas en el formulario EDIT de SENSE. Por defecto, esta configuración le quita la mayoría de formatos al editor HTML al momento de pegar. Pruebas y Aplicabilidad: Stork y todas las apps que tenga este problema.    

Se realizó ajuste para la utilización de máscaras que pueden ser definidas al momento de la configuración de la metadata, para ello debe configurar el ElementTypeMetaData como MaskCustom (en DataType) y adicional debe configurar el feature CustomMask por ETMDFeature en el que indica la máscara a utilizar Definiciones de enmascaramiento predeterminadas  a: alfabética 9: numérica *: alfanumérica  Ejemplos:  /* máscaras estáticas */  "(999) 999 9999" "999-999-9999" "aaa-999-9999" "(99) 9999[9]-9999" /* se puede definir valores opcionales con [] */ {mask: "999-999-9999"}      /* Formatos Numéricos o de moneda  Con esta se pueden determinar si son opcionales los decimales, usar prefijos o sufijos  según se requiera.  Ej. 1 */   {alias: 'currency',  pre
'COP ',  suf
',  radixPoint: ',',  digits: '*',  digitsOptional: true,  groupSeparator: '.',  autoGroup: true}  // Ej. 2  "decimal", {             digits: 2,             autoGroup: true,             groupSeparator: ",",             allowPlus: false,             allowMinus: false,             pre
"$ ",             suf
" $$"         }  // Ej. 3 cambia orientación de la mascara de izquierda a derecha             {alias: 'currency',         pre
'COP ',         suf
',         radixPoint: ',',         digits: '*',         rightAlign: false, // este parametro cambia la orientación         digitsOptional: true,         groupSeparator: '.',         autoGroup: true}       //        usando expresiones regulares:  "Regex", {regex: "^[0-9]{1,6}(\\.\\d{1,2})?$"}  //  En este ejemplo condiciona para escribir un numero de 6 dígitos y 2 decimales. // ese metodo es el mas recomendado para realizar las validaciones // NOTA: Revisar capacitacion de expresiones regulares       /* Formatos de tiempo Ejemplo Hora formato de 12 horas */ "hh:mm:ss", {         placeholder: "HH:MM:SS",         insertMode: false,         showMaskOnHover: false,         hourFormat: 12       }    2. 
Ahora los documentos resultantes de las plantillas de Word quedaran con el nombre "AlternativeId - Nombre_archivo_plantilla" 3. 
se creó el parámetro "CertifiableExtensions" en el que se indican las extensiones de los archivos certificables (Aplica para WS externos como ANDES) 4 
Ahora con Transformation se pueden adjuntar archivos diferentes a Word para que estos sean copiados a el elemento resultante. 5 
En tranformation se realizaron ajustes para la creación de los marcadores estos puedan tener solo 40 caracteres el cual es límite que tiene Word para la su creación 6 
Se creó un mecanismo para enviar encuestas vía correo, las cuales son diligenciables directamente desde el cliente de email, con las siguientes observaciones y limitaciones.  Se presume que el mensaje de correo presenta el formulario con un formato adecuado y permite ser diligenciado y enviado desde el propio mensaje en los siguientes clientes de email:  Gmail web Gmail mobile (Android) En outlook[.]com (Hotmail, msn.com) solo se muestra el link yahoo[.]com (incluyendo ymail.com) mail . ru Cliente IPhone Mail.   En los siguientes cliente no es posible visualizar el formulario o este no es operable, por lo que se realiza un fallback, es decir, se oculta el formulario y se ofrece un link que lleva a una página web donde se puede diligenciar:  Microsoft Outlook Windows Mail   En otros casos (o cuando las condiciones de seguridad de los clientes mencionados cambien), si no es posible ver el formulario, el usuario podrá usar la opción de ver el formulario en una página web (esto incluye clientes de correo en los que no fue posible probar). Es posible que, en cada cliente de correo, el formato y el markup del formulario se vea diferente, esto debido a la tecnología adaptativa que utiliza el cuerpo del mensaje (). Por especificaciones, no se estableció un límite de cuantas veces puede una responder una misma encuesta.  Este mecanismo de encuestas simples se configura en un AddOn que se debe llamar SimpleSurveys. [Known Issue] Los surveys simples no son configurables por aplicación, sino que se deben ajustar directamente en el HTML del template. Se requiere configurar para el AddOn los siguientes features:  SimpleSurveysConfig: es la configuración que ajusta el tipo de elemento y estado asi: ElementTypeId;WorkFlowTransitionId;NameMetaDataId;EmailMetaDataId;EmailTemplate. Por ejemplo: 15;105;88;378;EmailTemplates\Survey.html representa que para el tipo de elemento 15, cuando ocurra la transición 105, se debe enviar el survey a la persona definida con el nombre que establezca el metadataid 88 y su correo en metadataid 378 y en cuyo caso, debe usar el template en la ruta EmailTemplates\Survey.html. Se pueden configurar múltiples registros con tipos de elemento, transiciones, metadatas y plantillas como se requiera. SimpleSurveysEmailSubject: Define el subject de la encuesta enviada. SimpleSurveysCompleteTemplatePath: Define la ruta relativa donde se almacena un HTML que se presenta cuando la persona ha diligenciado el formulario y se le quiere dar un agradecimiento o similar. Ejemplo EmailTemplates\ThankYou.html. Adicionalmente, se puede usar el feature existente SurveyOverridesEmailQueue para realizar pruebas de envíos de los correos de forma inmediata, evitando que lleguen primero a la cola.  Los templates de correo permiten 4 tipos de campos: Selección simple con radio buttons, selección múltiple con checkboxes, selección única con ‘caras’ y un solo campo tipo textarea de máximo 240 caracteres:  Se deben tener las siguientes consideraciones:  Con este release se suministra un Template HTML modelo, que es el que se debe utilizar como base, ya que tiene ajustado los tags de AMP y el fallback En este template no se deben modificar las clases o selectores de CSS, salvo en el caso de colores o fuentes. El HTML utiliza tables en vez de divs, para darle el mayor grado de compatibilidad a todos los clientes de email. La URL de las caras siempre deben apuntar a https://thunder.docm.co/Prod/images por ejemplo:       No se deben modificar, cambiar o eliminar tags que hagan referencia a ?4email, ampproject.org amp o amp-custom. Se puede utilizar [PersonName] en el cuerpo del template, el cual es cambiado por el nombre de la persona. Existen además 3 campos tipo hidden [Email], [PersonName] y [ElementId], los cuales no deben ser borrados.  Las respuestas a las encuestas serán guardadas en las tablas SimpleSurvey (guarda el elementId relacionado, nombre y email de la persona y la fecha de guardado) y SimpleSurveyData (guarda las preguntas y respuestas “raw”, es decir, como vengan del formulario y no tienen integridad referencial ya que no son preconfigurables). Es posible presentar los resultados de las encuestas en una metadata tipo link (se puede tomar como modelo Custom_GetSurveysSimpleResults en la base de datos de desarrollo) y presentar los resultados generales de todas las encuestas en un reporte tipo lista en SENSE (se puede usar como modelo Custom_GetSurveysSimpleResultsGeneral en la base de datos de desarrollo). Se creó un OperationType AddOnEmailSent para que en OperationLog queden registrados los envíos de correo de este y otros AddOns. 7. NEW/
Se creó un mecanismo para imprimir de forma correcta, las metadatas tipo link en los elementos, particularmente solucionando el problema cuando las páginas HTML de tales links se renderizan con javascript. Para esto, se implementó un microservicio el cual utiliza un headless Chrome, el cual consulta el link y resuelve el HTML completamente y se lo pasa a su vez al mecanismo de impresión. Tenga en cuenta que los links deben estar expuesto públicamente sin restricciones para que sean consumidos desde el microservicio (en el caso de las caracterizaciones, se definió agregar el querystring &TimeStamp para que la aplicación defina un timestamp que permite omitir una previa autenticación para consumir el reporte). Algunos detalles de configuración:  Se debe configurar el tabla AppService un servicio con el nombre ContentRender el cual debe tener la URL del microservicio. DELETE: {{Se publicó un microservicio en  el cual se puede usar por las aplicaciones que en cuya infraestructura (servidor) pueda consumir recursos externos en Internet}}. En los demás casos, se requiere publicar el microservicio (disponible en los instaladores). Es posible que requiere hacer ajustes en el CSS del HTML para que pueda ser desplegado de forma correcta en el PDF. Particularmente, agregue ajustes para @media en RO.CSS asi:  @media (max-width: 1024px) {     .CsTable { font-size:10px; }     .CsTable th { font-size: 10px;  } }   UPDATE 2021-09-
Se realizó ajuste en el mecanismo de asignación de responsables provenientes de un infotext, en el cual solo quedaba asignado el ultimo responsable del listado. Recuerde que el formato es Personid|,Personid|...etc   9 
Se solucionó error el cual ocasionaba que cuando estuviera configurado transformation y se intentaba realizar una transición en un ET para el que no aplicaba activaba una ventana modal UPDATE 2021-09-
Se ajustó el mecanismo de cambio de contraseña para que no lo ejecute si la persona esta en el AAD y se usa autenticación híbrida con Azure. En este caso, el usuario recibirá un email indicando que la operación no es posible. 11 
Se ajustó un problema que ocasionaba que el cambio de contraseña por vencimiento arrojará una página http 404 en un iframe. Release Notes: Changeset 2327, Email Surveys, Masks Fixes, DocManager ContentRender. Pruebas y Aplicabilidad: 1,2,3,4,5,8,9: General 6: Opain 7: Nueva EPS 10. KOF      


Ahora es posible aplicar herencia de metadatas a elementos creados con la API yvincularlos inmediatamente al elemento padre, para ellos existen dos formas de hacerlo:  Mediante configuración: Para realizarlo mediante configuración debe configurar los siguientes features: CreatableElementParentKeyMetaData por ElementType child en el cual indica una metadata llave la cual será tenida como referencia para conocer al elemento padre, en elemento padre esta debe ser única. CreatableElementParentElementTypeId por ElementType child en el que indica el ElementType parent. MetaDataToInheritToTheList por metadata (del elemento padre) en el que indica las metadatas a ser heredadas y la metadata destino (del elemnto hijo), CreatableElementParentEmbeddedMetaData por ElementTypeParent en el que indica la metadata embebida donde quedara el elemento hijo.) Enviando información por la API: para ello se debe enviar la información en el JSON funciona para los métodos de créate y store:    Se prefiere la segunda opción. Pruebas y aplicabilidad: EFICACIA CD.    

Se ajustó una inconsistencia al crear elementos mediante la API, en la que si se enviaba información incorrecta quedaba en ElementMetaDataValue metadata con valor de 0 lo que ocasionaba errores en otros procesos de DocManager.  Pruebas y aplicabilidad: General     

Ajustes en la generación del Hash para el consumo de la API de SmartSupervision.  Pruebas y aplicabilidad: Alpopular   

Se corrigió un error en la generación del Token en la API la cual permitía que usuarios pudieran quedar con los permisos incorrectos e incluso no quedara el usuario indicado (NOTA: No repetir personid en los API consumer).  Pruebas y aplicabilidad: General. Debe aplicarse a las apps que usan secretlessread y secretlesswrite.   R28.2-FBU-01: 



Se agregaron nuevas validaciones de fecha en la que sera valida fecha actual+n dias Date_GreaterThanTodayMoreNDays y Date_GreaterOrEqualToTodayMoreNDays.  Pruebas y aplicabilidad: General, donde aplique.   

Se corrigió el mecanismo de mezcla de marcadores de Word con metadatas tipo ROList, para que incluya un borde simulado en la tabla que se adiciona al reemplazar el bookmark. Pruebas y aplicabilidad: OXY (Sierracol).   R28.2-FBU-02: 

Se creó un mecanismo para incluir un footer en las conversiones de Word a PDF. Para esto se deben usar los features PrintedAttachmentFooter (por ET, indica el markup de HTML que se usa para el footer - se recomienda bassrse en el de la db de desarrollo -), MustExcludeCssFromAttachmentPDFHeader (por ET, excluye ro.css del markup del header) y MustExcludeCssFromAttachmentPDFFooter (por ET, excluye ro.css del markup del footer) Pruebas y aplicabilidad: OXY (Sierracol).   

Sello en pdfs. Ahora es posible incluir un sello en loss PDF anexos en una metadata, cuando se ejcuta una transición. Para esto configure los features PDFStampMetaDataWFTransitionPair (por ET, define la pareja metadata, transición en la que se aplica el sello, por ejemplo 7,23), PDFStampImagePath (por metadata file, indica la ruta relativa desde la raiz donde se almacena el gif del sello, por ejemplo Images\Custom\Stamp.gif), PDFStampConfiguration el cual es un JSON que indica la configuración del sello, con width (ancho), height (alto), xPos (posición en el eje X, máximo 548 menos el ancho), yPos (posición en el eje Y, máximo 745 menos el alto), applyToAllPages (si aplica para todas las páginas), transparency (valor entre 0 y 1) y specificPage (si aplica solo para una página específica); por ejemplo {    "width": 100,    "height": 100,    "xPos": 438,    "yPos": 545,    "applyToAllPAages": true,    "transparency": 0.4,    "specificPage": 0  } Pruebas y aplicabilidad: VivaAir   

Ahora es posible pegar varios archivos PDF en uno solo. Para esto, utilice el Feature JoinInSinglePDFWFActionGroupWFStatePair (por ET, define la pareja Grupo,estado en el que el PDF unido será ofrecido) y JoinInSinglePDFMetaDataId (por ET, inidca la metadata -una por registro- de la cual se tomarán los archivos PDF a ser unidos). Pruebas y aplicabilidad: Comfandi   
(Workaround). Se creó un mecanismo para reconvertir archivos PDF que por las dimensiones de sus imágenes, no es posible mostrarlas en el visor PDF seguro. (
Para esto, configure el Feature MustReconvertPDF (por metadata, en true para indicar que de esta metadata se extraeran los PDF para reconversión ) junto con el ya existente feature AddPDFVersionToTargetMetaData (el cual define la metadata destino donde se depositará la conversión) Pruebas y aplicabilidad: KOF    

Se creó u nuevo Endpoint StoreSync en la API, que usa Oauth2, para hacer store de UN solo elemento de forma sincrónica (de la misma forma que StoreAsync, solo que en este caso se retorna el ElementId). Pruebas y aplicabilidad: PEI y general.   

Ahora es posible usar el personid (definido en una metadata) para que quede como creador de una nueva versión de un elemento (ya no le pedirá elegir el nuevo creador). Para esto, configure por ET el feature NewVersionResponsibleMetaDataId (metadata tipo texto, infotext o lista externa). Si esta definido el ETFeature pero sin valor, toma el usuario 1. Si no se define el ETFeature, sigue funcionando de la manera tradicional. Pruebas y aplicabilidad: PEI    

Ahora es posible crear listados y páginas HTML (por ejemplo, el calendario) en SENSE dentro de los módulos, y estos pueden abrir en paneles a la derecha los elementos indicados. Pruebas y aplicabilidad: KOF y en general.   

Ahora es posible limitar la extensión de los archivos subidos a través de la aplicación, para metadatas tipo file. Para esto configure en ETMD el validationtypeId File_ValidExtensions (21) e indique en ValidationRules las extensiones (Sin punto) permitidas, ejemplo pdf,docx,doc. Pruebas y aplicabilidad: Comfandi   R28.2-FBU-02: 
Ahora, en aplicaciones que utilicen Active Directory tradicional, se podrá cerrar la sesión y la aplicación lo llevará a la página definida por el parámetro HybridAuthLandingPage (se recomienda ../Public/Start.aspx ya que ella elimina las variables de sesión completamente). Pruebas y aplicabilidad: Todas las que tengan AD.   R28.2-FBU-03: 
Se creó una nueva página para "Agenda de Pendientes del Administrador" en SENSE. Esta reemplaza por efectos de rendimiento y UX a la anterior (admin/generaloutlook.aspx). Si se requiere usar la anterior (no se recomienda), configurar el parámetro UseLegacyOutlookInSense en true. Pruebas y aplicabilidad: Todas las aplicaciones SENSE   Release Notes: SenseOutlook, ChangeSet 2608, PDF Reconversion, API parent linking, LegacyContainer fixes.        


(Breaking Change): Se subió el requerimiento de .NET Framework para la aplicación web a 4.8, por lo que de ahora en adelante es requisito de instalación. Con esto, ahora es posible montar DocManager como un AppService en Azure, para que no dependa de una VM (con la limitación que la carpeta Files debe ser de tamaño reducido). Pruebas y aplicabilidad: General.   


La corrección afecta en SENSE a todos los modulos de adminsitración donde existe el perfil de administrador de seguridad.   







Ajustado el visor de PDF seguro, para poder ocultar el panel de opciones, incluyendo un ajuste de visualización en la versión móvil. Pruebas y aplicabilidad: General, en especial KOF.   

Corrección en el mecanismo de solicitud de código 2FA que no validaba de forma segura el ServiceToken.   
(BETA) Se creó la primera versión del mecanismo de Super Administrador (SuperAdmin). Este perfil especial tendrá la potestad de realizar operaciones de bajo nivel en la aplicación con las siguientes características:  Solo puede haber una persona SuperAdmin y esta definida por el Parámetro SuperAdminPersonId. Para habilitar la opción de superadministración, se debe establecer la llave definada por el parámetro SuperAdminChallengeCodede la tabla parameter, con un valor suministrado por el área de desarrollo. El SuperAdmin tendrá todos los permisos del Administrador y del Administrador de seguridad. El SuperAdmin requerirá un código de 2FA para entrar a la aplicación y uno para cada operación de superadministración. Todas las operaciones realizadas por el superadmin quedarán registradas en el OperationLog con los operationTypes: SuperAdminOperationStart, SuperAdminOperationEnd, SuperAdmin2FARequest, SuperAdmin2FAPass, SuperAdmin2FAFail y SuperAdminForceWorkFlowState. En esta versión se podrán ejecutar las siguientes operaiones de super administración: 1. Cambio Forzado de estado, 2. Cambio forzado de valor de EMDV. 3. Eliminación de elementos Y 4. Rollback de cambios de estado. No es posible configurar el usuario superadmin por el panel de usuarios. Este se debe hacer por la base de datos.  Pruebas y aplicabilidad: General.   


Se cambió el mecanismo de cálculo de los NonWorkingDays.   

Desde esta versión se iniciará con la implementación de un mecanismo de cifrado usando AES cuyas llaves serán especificas para la aplicación. Esto quiere decir que paulatinamente se cambiarán partes de la aplicación para usar las nuevas llaves, con la consecuencia natural de que una vez se ejecuta el cifrado, no se podrá descifrar en una aplicación diferente. Pruebas y aplicabilidad: Todos.   

Desde esta versión se requiere llenar en los archivos .config (app, api y srv) una llave AppKey la cual debe ser una secuencia Alfanumérica de mínimo 16 caracterés, por ejemplo JAaJ87JNNus7HS39k. Esta llave no se podrá cambiar durante la vida del proyecto y servirá para calcular la llave de encripción descrita en el punto anterior. Esta llave además no se debe repetir entre aplicaciones. Adicionalmente, se incluyó en la tabla parameter el parámetro AppSalt que es un  con el mismo objetivo y esta debe se solicitada al área de desarrollo (también debe ser única entre aplicaciones).  Pruebas y aplicabilidad: Todos.   
(BETA). Se creó un mecanismo para cifrar valores de metadata del tipo texto. Este mecanismo guardará de manera cifrada en EMDV y en la tabla de cache, la información que se defina. Para esto, establezca en 1 la columna MetaData.IsEncrypted. Tenga en cuenta los siguientes aspectos:  La información cifrada NO podrá ser descifrada interactuando con la base de datos, unicamente a través de la aplicación WEB (en esta versión no se podrá a través de la API). La información aparecerá descifrada en el ReadOnly y en el EDIT, pero no en los listados. Se podrán hacer búquedas de la cadena descifrada, en la barra superior de SENSE, pero no funcionará con cadenas parciales (es decir, si se almacena el texto roma, no se encontrarán coincidencias si se busca ro o se busca aroma ni tampoco usando variaciones mayúsculas/minúsculas). No se podrá consultar la información cifrada en una aplicación diferente a la que se uso para cifrar la información.  Pruebas y aplicabilidad: General.   


(NO SE REPRODUCE, DEVUELTO)   
Reasignación de actividades sin conflicto de intereses: se creó la nueva funcionalidad para detectar conflictos de intereses al hacer reasignaciones masivas, es decir desde la agenda de pendientes general. Para configurarlo agregue el feature StatesWithConflictOfInterestByET por ET indicando en value “estado actual;Estado destino”. Una vez detectado una serie de conflictos de intereses, el usuario podrá hacer la reasignación, pero se ignorará el conflicto que se presente. Pruebas y aplicabilidad: Todos.   
Ahora es posible que al crear una versión de cambios menor (MinorChange) use su propia configuración, para esto debemos activar el feature IndependentMinorChanges por elementtype en true (Por defecto esta en false). Los features con los que se configuran actualmente la creación de nueva versiones fueron "duplicados" con el fin que puedan ser usados para la creación de versiones de cambios menores y su configuración es igual a la ya existente. Los features creados son: -NonCopiableMetadatasForMinorChanges -DisableRECopyInParentNewVersionForMinorChanges -CloneREOnNewVersionForMinorChanges -DeletableChildMetaDataOnCloningForMinorChanges -OrderEmbedsToCloneForMinorChanges -RelinkOnCloneWithETMetaDataPairForMinorChanges NOTA: Es obligatorio para el uso de estos features tener configurado el feature IndependentMinorChanges o de lo contrario no los tendra en cuenta al momento de crear una nueva versión(MinorChange) y usara los que existen generales. Pruebas y aplicabilidad: Todos.   

Se realizó un ajuste en multi-idioma en el cual al hacer las validaciones usando ValidationCaption, el mensaje no correspondía ya que aparecía el mensaje por default (del idioma principal). Para corregir configure el feature LangETMDValidationCaption por ETMD indicando el mensaje deseado y por cada idioma. Pruebas y aplicabilidad: KOF México.   


Se cambió la forma de aplicar el merge entre los pdf de versión de impresión y metadatas de tal forma que se puedan ajustar los márgenes con los features ya existentes PrintedHeaderHeight, PrintedLeftMargin, PrintedRightMargin  y PrintedFooterHeight   Pruebas y aplicabilidad: PHQ, general.   

Mejoras en la integración APIS Externas, se actualizará el documento con las nuevas funciones de Edición de elementos, guardado de archivos que sean recibidos en base64 y otras mejoras. Pruebas y aplicabilidad: General   

Ahora mediante el consumo de APIS externas es posible manejar un buzon de correos office365 con el se puede crear y editar elementos y obtener files para ser guardados en DocManager. Para ello, el cliente debe crear un registro de aplicación en Azure con los permisos delegados de email profile openid IMAP.AccessAsUser.All,  Mail.Read Mail.Read.Shared,  Mail.ReadBasic,  Mail.ReadWrite Mail.ReadWrite.Shared,  Mail.Send, Mail.Send.Shared, POP.AccessAsUser.All, SMTP.Send, User.Read y suministrar TenantId, ClientId y Secret. para mayor información sobre los diferentes metodos revisar  Pruebas y aplicabilidad: VIVA   

los elementos creados mediante API externas también podrá extraer información de las facturas en XML las para lo cual deberá configurar el feature DataExtractionMetadatasFileByNewElement por ET (El archivo debe estar obtenerse mediante la creación o edición en cadena del elemento) Pruebas y aplicabilidad: VIVA, PEI   

Ajuste en la extracción de la información de facturas en XML - cuando el zip estaba en subcarpetas no se detectaba el archivo- . Ahora busca en todas las subcarpetas y continua su funcionamiento normalmente. Pruebas y aplicabilidad: Viva, PEI.   

Al momento de crear una nueva versión ahora es posible dejar comentarios en un textarea dentro del cuadro de verificación para confirmar la creación de la nueva versión del elemento. Los comentarios se guardaran en ItemWorkFlowHistory de la versión "padre". Adicionalmente,  se crearón dos Features que se configuran por ElementType y son de tipo booleano los cuales son: -RequireCommentsOnMajorVersion: Indica si es obligatorio dejar un comentario al momento de crear una versión de fondo -RequireCommentsOnMInorVersion: Indica si es obligatorio dejar un comentario al momento de crear una versión de forma. Si no son configurados estos features, por defecto no pedirá dejar un comentario obligatoriamente. Pruebas y aplicabilidad: Todos.    R29.0-TC-01: 
Se hicieron cambios estructurales en el mecanismo de exportación (listas, grid) por refactorización. Por ende se deben probar todos los mecanismos de exportación de la aplicación. Pruebas y aplicabilidad: Todos.   

Ajustados unos potenciales problemas de SQL injection en EDIT (SENSE) y se habilitó un token anti-CSRF en general. Pruebas y aplicabilidad: Todos.   

Se realizó un ajuste en el mecanismo de obtención de las tareas pendientes generales, que presentaba lentitud (Ajuste en el SP element_todos). Pruebas y aplicabilidad: Todos.   

Ahora es posible dar Permisos para descargar anexos de elementos (paralelamente a usar visor seguro si asi esta configurado) por metadata. Para esto establezca el valor del feature AttachmentDownloadActionGroup indicando el ActionGroupId que puede descargar el anexo Pruebas y aplicabilidad: Todos.   

(ALPHA). Esta versión contiene los desarrollos iniciales para reemplazar la carpeta FILES con un Blob Storage en Azure y para poder soportar el balanceo de carga de tráfico web usando AppServices en Azure. Pruebas y aplicabilidad: TBD.    Release Notes: SuperAdmin, AppEncryption, BlobStorage Alpha, CVE fixes, misc fixes, ChangeSet 2682.                


Se corrigió el problema de exportación en la grilla cuando se seleccionan elementos para exportar (no tomaba los elementos seleccionados o no realizaba ninguna exportación). Pruebas y aplicabilidad: General.   

(Breaking Change) Ahora en los procesos de exportación desde las listas de SENSE, solo se exportarán las columnas que sean visibles, por defecto. Se podrán seleccionar que grupos pueden exportar todas las columnas, estableciendo por ET el feature CanExportFullColumnsGroup (indicando el ActionGroupId, - uno por registro - que podrá exportar todas las columnas). Quien pueda exportar todas las columnas, observará:  Pruebas y aplicabilidad: General. Se deben probar los procesos de exportación con y sin el feature, asi no aplique para la app.   

Se corrigió el mecanismo que determina el gráfico de la ayuda de flujo de un elemento, para que tenga en cuenta transiciones no visibles. Pruebas y aplicabilidad: General.   

Se corrigió una situación en la que al usar el feature JoinInSinglePDFMetaDataId, surgía un error si en los anexos se encontraban al menos uno con una extensión diferente a PDF. Pruebas y aplicabilidad: Comfandi.    



Se corrigió una situación en la que no se enviaba la notificación de reset de contraseña cuando se activaba un usuario. Pruebas y aplicabilidad: General. Probar todo el proceso de creación de usuarios, revisando los envíos de correo correspondientes.   
(Breaking Change). 
Se cambió el mecanismo de plantillas de correo de sistema (no las notificaciones por transición). Ahora se utilizarán unas plantillas estándar y solo quedará funcionando la tabla EmailTemplate. La configuración de plantillas actuales debe ser copiada a dicha tabla (desde la tabla Parameter). Ahora funciona con múltiples idiomas (si no se encuentra configuración, se utilizará la que existe por defecto, con el color naranja). Pruebas y aplicabilidad: General. Probar todo el proceso de creación de usuarios, revisando los envíos de correo correspondientes.   
(Breaking Change). 
La plantilla de reset de contraseña ahora utiliza el formato [ ] y no requiere de configurar el parametro SendLoginInPasswordResetEmail. Simplemente incluya [Login] como parte del cuerpo del mensaje. Pruebas y aplicabilidad: General. Probar todo el proceso de creación de usuarios, revisando los envíos de correo correspondientes.   



Desarrollo de . Consideraciones: - Se creó la tabla MappedPersonConfig que reemplaza la configuración de MappedPerson de Parameter, asi: ElementTypeId: Tipo de elemento. Se puede ahaora configurar más de un tipo de elemento que genere personas mapeadas.CreationWorkFlowTransitionId: Transición en la que se crea la persona. Si no se define, se origina en la creación del elemento.RecreateOnWTRepeat: No esta en uso todavia. Se utilizará para determinar si se debe recrear el usuario mapeado si una transición se repite.LegalIdMetaDataId: Metadata en el elemento que representa el LegalID de la persona (Cédula, T.I, etc).NameMetaDataId: Metadata que representa el nombre de la persona.EmailMetaDataId: Metadata que representa el Email de la persona.DefaultPositionId: Cargo por defecto de la persona creada.DefaultActionGroups: ActionGroupIds, separados por comas, en los que la persona quedará asociada.WelcomeWorkFlowTransitionId: Transición en la que se envía el correo de bienvenida. Si no se define, se hará al crear el elemento.PasswordResetWorkFlowTransitionId: Transición en la que se hace el password reset de la persona. Si no se define, se hará al crear el elemento.PhoneNumberMetaDataId. Metadata que representa el teléfono de la persona. Es opcional y solo se usa para envío de SMS.TransitionsForOwnElement: Transiciones a las que la propia persona (identificada por elemento mapeado) será asignada. Notas: - Si se crea una nueva versión de un elemento que mapea a una persona, tal persona ahora tendrá como MappedElementId, el nuevo elementId. - Si se cambia el LegalId, Nombre o Email en el Elemento Mapeado, se cambiará la información en la persona mapeada correspondiente. - Person.LegalId sigue siendo la llave cuando se cree un elemento nuevo y el LegalId sea el de una persona existente. En tal caso, se reemplazará Person.MappedElementId con el ID del nuevo elemento. Entonces es responsabilidad del configurador implementar IsUnique para evitar que ocurra el caso. Pruebas y aplicabilidad: General. Probar todo el proceso de creación de usuarios mapeados a elementos, desde la creación y manipulación del elemento. Se debe probar además la creación de la nueva versión para verificar la permanencia del vinculo entre la persona y la nueva versión. Se debe probar con y sin la característica de IsUnique.   

Corrección al envío de correo por cambios hechos por el superAdmin, que ahora utiliza la plantilla changeSuperAdminMail.html definida en EmailTemplate. Pruebas y aplicabilidad: General.   

Se corrigió una situación en la cual no se podía usar un modulo si la persona no tenia permisos de crear/listar en al menos un ElementType. Ahora con este ajuste también podrá tener en el módulo únicamente reportes. Pruebas y aplicabilidad: General.   

Ahora es posible quitar de forma optativa el link de los elementos embebidos en el RO de SENSE. Para eso establezca el feature RemoveEmbeddedLink en true. Pruebas y aplicabilidad: General.   

Se realizó una corrección en las notificaciones con multi-idioma la cual ocasionaba que enviara o dejara en cola notificaciones que no correspondían a la transición.  Pruebas y aplicabilidad: General.   

Se adicionó la funcionalidad de super usuario de cambiar información en el historial de flujo (fecha, ejecutor y comentarios). Pruebas y aplicabilidad: General.   Release Notes: Column-strict Export, EmailTemplates, MappedPersonConfig, SuperAdmin 1.1, Minor Fixes, ChangeSet 2719   UPDATE: 2022-09-19   

Se ajustó el mecanismo de creación de embebidos para que cuando estos se crean abriendo una tabla o un enlace desde el RO, al guardarlos se ejecuten los calculados del elemento padre.   

Corregida una regresión ocasionada por 
en la que se corria el texto a la derecha después del markup de un archivo anexo en la versión de Impresión.


Se reescribió todo el mecanismo completo de búsqueda de embebidos en SENSE, con las siguientes características:  Conserva el estilo de tablas de SENSE. Realiza la consulta paginada desde la base de datos, con un mejor desempeño con respecto a la versión anterior. (Breaking Change). Implementa el mecanismo de seguridad en el cual solo es posible vincular elementos embebidos si estos se pueden listar, leer o editar (es decir, se tengan los permisos correspondientes). En caso contrario, no se mostrarán en los resultados. Tiene en cuenta si la metadata tipo embebido es de selección simple o múltiple.  Al vincular un embebido, en el EDIT consumidor se mostrará el código y el nombre del elemento vinculado. Tiene funcionamiento en multi-idioma. Por defecto se mostrán las columnas AlternativeId (código) y ElementName (nombre). Si requiere mostrar otras columnas, utilice el feature EmbeddedSelectorVisibleField por ET (una columna embebido por registro en ElementTypeFeature) indicando el nombre de la columna a mostrar (tenga en cuenta las columnas base: ElementName, AlternativeId, CurrentWorkFlowStateName, CreationDate, etc). La búsqueda por texto tiene en cuenta el mismo feature para búsquedas por texto en listas SENSE (SerchableColumns). Incluye búsquedas sobre metadatas cifradas.  Pruebas y aplicabilidad: General. Se debe probar también en mobile.   

Mejoras en apariencia y comportamiento de los botones para embeber, en el EDIT y RO de SENSE:  El botón de vincular con GRID ahora esta disponible tanto en el EDIT como en el RO. El botón de crear/editar en GRID en el EDIT no se muestra si en embebido es de selección simple. En el EDIT ahora el sistema advierte que se debe guardar el elemento para aplicar los cambios de los elementos que fueron embebidos.  Pruebas y aplicabilidad: General.   

Correcciones a 
relacionados con embebidos: 







Se adicionó almecanismo de MappedPersonConfig para deshabilitar completamente el envío de correo de bienvenida y password reset, de ser necesario. Para esto, establezca las columna DisableWelcome y DisablePasswordReset (de MappeedPersonConfig) respectivamente. Pruebas y aplicabilidad: Comfandi   
Corrección de una regresión en 
que ocasionaba exportaciones vacias si no hay selector de columnas en listados SENSE. Pruebas y aplicabilidad: General   

Ahora es posible utilizar , en vez de la carpeta Files, para almacenar archivos anexos. Esto tiene las siguientes características:  El blob storage es un mecanismo de almacenamiento heterogeneo que no es consumido como una unidad de disco de una maquina virtual y es utilizado como un servicio en Azure. La carpeta Files seguirá existiendo, pero todos los archivos anexos quedan almacenados en el Blob Storage de manera segura (utilizan cifrado nativo). Cualquier aplicación puede utilizar el Blob storage, sin importar donde este almacenada: solo se requiere que el servidor tenga acceso via API al Azure Blob Storage. Con esta implementación ya es posible configurar el propio DocManager como un AppService en Azure y utilizar un balancedor de carga nativo cuando se configuren multiples AppServices que apunten a la misma base de datos. (Knwon Issue), esta pendiente por resolver el funcionamiento del Servicio Windows. Para utilizar el Blob storage se deben configurar los parámetros: (a) StorageType, que tiene 2 opciones (Default, para seguir usando el método tradicional de almacenamiento) y AzureStorageV2, para usar el BlobStorage. (2) AzureStorageKey, AzureStorageAccount, AzureStorageContainerName y AzureStorageTempContainer que indican respectivamente, la llave de conexión a Azure (configurable en el config hub), la cuenta de almacenamiento en Azure, el nombre del contenedor (que reemplaza a la carpeta files) y el contenedor temporal en Azure.  Pruebas y aplicabilidad: General, donde aplique.   
Se incluyó en el mecanismo de lectura de facturas XML externas, la posibilidad de hacer el auto-avance de la primera transición, según se configure  WFTransitionToExecuteOnFirstSave. Pruebas y aplicabilidad: General, donde aplique lectura de facturas.   UPDATE: 2022-10-31    

(SL,EG). Se ajustó el mecanismo (SP) de tareas vencidas para optimizar la consulta. Pruebas y aplicabilidad: General, probar que el mecanismo de obtención de tareas vencidas lo haga con la canitdad de elementos adecuada y el footprint de memoria/cpu sea minimo.   


Se ajustó el mecanismo de AttachmentDownloadActionGroup pues solo tomaba de forma adecuada la primera configuración encontrada.   


Se cambió el mecanismo de descarga de anexos para solucionar los problemas inherentes a : daño en los archivos PDF, cortes en la conexión y demoras en la descarga. Si tuviese algún problema, se puede habilitar el mecanismo anterior, estableciendo el parámetro UseLegacyAttachmentViewer en true. Pruebas y aplicabilidad: Probar en general descarga de documentos y en especial que los PDF no se dañen al mostrarse en el visor seguro o al descargarse.   

Se ajustó un problema en el cual no se podia pasar un valor textual de padre a hijo embebido (putativo) y este lo tomará para poder determinar personas que se copiaban a flujo. Pruebas y aplicabilidad: Situación reportada en Eficacia SSTA   

Se solucionó un problema en el cual en el diálogo de cambio de estado, que ocasionaba doble-clics consecutivos y dañaba la información del flujo (historial). Pruebas y aplicabilidad: General, probar doble-triple clic en ejecución de transiciones.   

Se creó el feature DisableFusionAlternativeIdNaming para deshabilitar el alternativeid en el nombramiento de los word fusionados.  Pruebas y aplicabilidad: General, probar generación de word fusionado (bookmarks y metadata).   R29.2.-FIX-09: 

Release Notes: Blob Storage, SENSE Embedded Search, MappedPersonConfig overrides, ChangeSet 2743.


Se creó un mecanismo para cumplir con .  Consiste entonces en crear versiones nuevas de elementos, de forma automática, si se cumplen ciertas condiciones. Características:  Cuando se utiliza Create, Store o StoreSync en la API de Element, la aplicación usualmente verifica con una metadata llave la existencia del elemento. En caso de que exista, no se crea de nuevo el elemento sino que se actualiza. Con la nueva configuración, se utiliza una o más llaves para verificar la existencia del elemento y opcionalmente, se creará una nueva versión del elemento existente. Con el versionamiento del elemento existente, se cumple la retoma/reutilización del formulario, facilitando que no se deba crear desde cero. Para configurar la reutilización, configure la tabla EtAutoVersioningConfig asi: ElementTypeId --> el tipo de elemento a autoversionar; TriggerParentElementTypeId --> representa el tipo de elemento padre, en el caso que el ElementTypeId corresponda a un tipo de elemento embebido (si se deja vacio, solo aplica cuando NO es embebido); WorkFlowStates --> define los estados (separados por comas) en el que Elemento existente debe estar (uno de ellos) para que se tome ese elemento y se versione; KeyMetaDatas --> define los metadata ids que definen la o las llaves de comparación para determinar la existencia del elemento a versionar (pueden ser listas internas, texto o infotext); IsMinorVersion --> true si la auto-versión generada es cambio menor (forma) o en caso contrario, será de fondo.  De la misma forma, se pueden definir que metadatas NO se copiaran a la nueva versión. Para esto, defina la tabla ETAutoVersioningMDConfig asi: ETAutoVersioningConfigId --> Indica el id de la tabla ETAutoVersioningConfig a la que corresponde la configuración; MetaDataId, la metadata sobre la que aplica la configuración y NonCopiableOnly, define que esta metadata NO se copiará a la nueva versión. Tenga en cuenta que si la metadata configurada es del tipo embebido, puede aplicar de nuevo las reglas definidas en EtAutoVersioningConfig. El Campo NonCopiableExtensions no tiene uso en esta versión. Tenga en cuenta entonces que la configuración se aplica de forma recursiva: aplica sobre el elemento versionado, sus embebidos y los embebidos de los embebidos ciclicamente. Se debe deshabilitar el feature CreatableElementUniqueKeyMetaData (que define una sola metadata llave por ET) y no usar KeyMetaDataId en el request a Create/Store/StoreSync. En caso contrario, la aplicación utiliza el mecanismo tradicional de comparación de llaves (única llave). (Known Issue): Esta versión solo soporta el idioma principal. Si por medio de la API se están inyectando valores al elemento a versionar, estos reemplazan la información en el elemento con la nueva versión. El resto del comportamiento de versionamiento es idéntico al usual y el versionamiento que se realiza por la GUI no tiene cambios. Recuerde que el versionamiento solo está funcionando con tipos de elemento que tengan flujo configurado.  Aplicabilidad y pruebas: EFICACIA CD. Hay que probar inyección desde la API y el versionamiento normal en la GUI.   

Se solucionó un inconveniente en el que ciertas situaciones se hace una consulta innecesaria a FileMap, lo que ocasiona un lock que ocasionaba demoras en consultas y guardados. Aplicabilidad y pruebas: EFICACIA CD y todas las aplicaciones. Probar que esté funcionando los mecanismos de descarga y visualización de archivos, utilizando el visor seguro, el feature de descarga por grupo y la descarga directa. Revisar ausencia de locks de más de 3s en la base de datos.   

Se incluyó en la base de datos el feature AutoEmbeddedExistenceCheckNewestFirst que ya tenía funcionalidad en la aplicación desde v20.0 y que permite que los registros de los embebidos automáticos se adicionen en orden del más nuevo al más antiguo. De la misma forma, se adicionó AutoEmbeddedExistenceCheckStatesFilter que indica un estado (por registro) por el cual se deben filtrar los embebidos a relacionar. Aplicabilidad y pruebas: EFICACIA CD, en el caso en que se utilicen auto-embebidos configurados en la tabla WFTEAutoCreation   

(Workaround). Se ajustó una situación en la que cuando el archivo de Word resultante de fusionar plantillas con bookmarks, sigue el esquema de nombramiento que incluye el código (AlternativeId) del elemento que lo contiene, falla al fusionar puesto que no encuentra el archivo de Word, si el código del elemento es compuesto por parte del código de su elemento padre (es decir, cuando esta embebido). Para esto, se creó el parámetro DisableFusionAlternativeIdNaming para desactivar el nombramiento usando el código del elemento. Resolución parcial de 
Aplicabilidad y pruebas: DocService. Probar fusión de Word con plantillas/bookmarks y verificar que en todo el ciclo de vida del elemento, el word vaya tomando los cambios correspondientes.   

Se creó el feature ForceTargetPDFFileToBeRecreated (por ETMD o MD), para forzar a que el PDF que se genera usando el feature AddPDFVersionToTargetMetaData, se recree cada vez que se guarde el elemento (actualmente se hace solo la primera vez). Esto es útil en el caso de generar un PDF a partir de un word resultante de fusionar una plantilla con bookmarks. Se activa al targetmetadata Aplicabilidad y pruebas: DocService. Probar fusión de Word con plantillas/bookmarks y verificar que en todo el ciclo de vida , el PDF generado tenga la misma información que el Word.   

Se ocultó el botón 'Clonar Seleccionados' cuando el grid (la grilla) está en modo embebido, ya que conceptualmente no funciona como se pretende (es decir, clonar no signfica auto-embeber). Aplicabilidad y pruebas: Todas las aplicaciones que utilicen la grilla para administrar elementos embebidos.   

Se ajustó el mecanismo de 2FA en autenticación de la aplicación, ya que presentaba una falla grave que permitía que en cierto escenario se pudiese saltar la validación del código de verificación. Aplicabilidad y pruebas: General, donde se este utilizando 2FA   

Se implementó el mecanismo de 2FA para que funcione también con autenticación basada en Azure Active Directory (autenticación HybridWithDMAuthenticator).  Aplicabilidad y pruebas: PAE y en general donde se requiera 2FA usando HybridWithDMAuthenticator   


Se ajustó el mecanismo de gestión del valor de campos de selección simple, en la que en ciertas situaciones se cambiaba el valor a uno diferente del almacenado, cuando se abría el EDIT para editar un elemento ya existente. Aplicabilidad y pruebas: Se debe probar en todas las aplicaciones, la gestión correcta de las jerarquias de valores de metadata cuando el hijo es de selección simple. Se debe verificar tanto en la creación como en la edición del elemento.   Release Notes: ETAutoVersioningConfig, FileMapping 
ChangeSet 2755   UPDATE: 2022-11-16   

Se ajustó el mecanismo de creación de PDF a partir de una metadata origen, el cual en ciertas situaciones de manera incorrecta duplicaba el registro de valores anexos en la metadata destino. Igualmente, no en todas las situaciones de cambio de estado aplicaba la generación del PDF Aplicabilidad y pruebas: DocService. En general, se debe probar de nuevo la generación de PDF convertido desde Word origen.   

Se ajustó el mecanismo de extracción de información de los XML (facturas) para que cuando se concluya el proceso, se refresque la información de flujo que dependa de metadatas. Aplicabilidad y pruebas: Viva Rad. Probar el proceso completo de extracción de información de facturas y verificar que la información quede asociada al elemento y la que pase a flujo (dependiente de metadata) quede correctamente actualizada.   UPDATE: 2022-11-17   


(Breaking Change) Solo se permite guardar valores con ciertas mascaras, si el valor cumple en su totalidad con la mascara. En caso contrario, se limpia el control cuando pierde el foco en la UI.   


UPDATE: 2022-11-22   
Ajustes al importador de elementos.
Video:    
Ahora es posible utilizar una página HTML que se abra como un dialogo, en el EDIT de SENSE, para que permita llenar información de una caja de texto, de manera externa (aparecerá un botón en la parte derecha superior del control de texto). Por ejemplo, se puede utilizar el mecanismo de  (mecanismo para colocar las direcciones postales usando secciones predefinidas y estándar) para poder llenar de manera consistente una dirección de un predio. Para esto, configure por MD o ETMD el feature TextMetaDataFillerConfig con el formato |||. Ejemplo:  Seleccione una dirección|||../WebTemplates/x.html . Tenga en cuenta que la página HTML debe proveer el mecanismo para devolver el dato seleccionado al campo HTML. Por otra parte, al editar la información, ésta deberá ser diligenciada desde cero en la página dialogo. Aplicabilidad y Pruebas: Cafam y cualquier aplicación que requiera llenar la información de un texto desde un dialogo.   
Se hicieron modificaciones en el web.config de la aplicación para modificar los tiempos de permanencia de cache de ciertas partes de la aplicación. De la misma manera, se estableció una sección NO CACHE que debe ser utilizada cuando el mecanismo normal de refresco de cache de browser no es limpiado de manera natural y se requiere forzarlo (en tal caso, descomentar las lineas de la sección):  Aplicabilidad y pruebas: todas las aplicaciones.   
Se creó un mecanismo para limitar por metadata tipo FILE, el tamaño máximo combinado de los anexos que se pueden subir. Para esto, defina por MD o ETMD el feature AttachmentsMaxSizeSum con el valor en KB (sin comas ni puntos). Pruebas y Aplicabilidad: CAFAM. Probar añadiendo y removiendo anexos.   
Se creo para la API un mecanismo de autenticación basado en OAuth2, sin contraseña denominado PKCE (Proof Key for Code Exchange), según se especifica en RFC7636. PKCE permite autenticarse desde una página HTML (siempre y cuando este permitido desde AllowedAPIConsumerEndpoints) para usuarios secretless (write/read) que no sean PersonId 1. Un ejemplo de esto se deja en la carpeta Examples de instaladores. Pruebas y aplicabilidad: CAFAM y todas las aplicaciones que requieran utilizar OAuth2, pero que requieran no quemar la contraseña en el código (HTML/JS).   

Pruebas: Se requiere probar con y sin la configuración de “Seleccione un valor”, campos externos e internos de selección simple, al guardar y al editar.   
Se ajustaron varios mecanismos en la aplicación para permitir usar el botón de descargas de anexos (definido por el feature AttachmentDownloadActionGroup) asi:  Es posible usarlo con o sin FuseInContents, con o sin ShowLinksInPDF, con o sin visor seguro, en metadatas tipo FILE. Es posible usarlo con anexos PDF en metadatas HTML, que utilicen o no “Ver como Icono” y que utilicen o no el visor seguro. Para este último caso adicionalmente, se creó el parámetro HTMLAttachedPDFForcedViewOptionId para forzar a los anexos de los contenidos HTML a usar un visor diferente (de ser requerido) del definido en la tabla FileTypeViewOption.  Esto soluciona 
(Known Issue): En algunos casos de contenidos HTML, el PDF no baja con el nombre original. (Known Issue) Esto no aplica para Blob Storage. Pruebas y aplicabilidad: Todas las aplicaciones que requieran descargar de anexos por grupos y que tengan contenido HTML o FILE. Probar la impresión con contenidos fusionables.   

Se solucionaron dos aspectos:  Poder colocar links hacia el elemento originador de la evaluación, cuando surveys-II no utiliza el modo Legacy. Para esto, se debe definir un InfoText que tenga la configuración <SP>{0}|SourceElementId, por ejemplo Custom_GetRelatedDocument {0}|SourceElementId. En este caso, el SP Custom_GetRelatedDocument utiliza SourceElementId que es el ElementId del ”programa de evaluación” que es el que debe tener relacionado el elemento correspondiente. (Por favor tomar de ejemplo el SP mencionado de la base de datos de desarrollo para el ejemplo de como se configura el link). Se corrigió el formulario del EDIT en Surveys-II modo legacy, para que permita abrirse de manera adecuada en SENSE. (Known Issue). El ajuste no es retroactivo, es decir, no afecta evaluaciones ya enviadas.  Pruebas y Aplicabilidad: Según se indica en el 
Probar la inclusión de links usando InfoText en Surveys-II modo legacy y no legacy.   
DocManager soporta balanceo de cargas en Azure, sin embargo, las conversiones a PDF no funcionan de manera correcta, por ello fue necesario implementar un api que se encargue de ese proceso, para configurarlo solo debe Insertar en la tabla AppService El servicio con el nombre “PDFManagement” apuntando a la URL  Pruebas y aplicabilidad. CAFAM   
Ahora desde el Migrador de Elementos es posible la creación de usuarios, mediante el mecanismo de MappedPerson, para activarlo, configure por ET los features MappedPersonElementMigrator(Para indicar que es permitido la creación de usuario para ese ET) y MappedPersonMigrationResetNotification (para activar notificación de usuarios, en la creación de este) Pruebas y aplicabilidad. Todas las apps   
El consumo de API externas ahora soporta autenticación Básica, para configurarlo debe indicarlo en el JSON de configuración con un (1) y en el array de credentials indicar usuario y contraseña. Pruebas y aplicabilidad. CAFAM   

se realizaron los ajustes correspondientes al filtro de las metadata tipos suggest Pruebas y aplicabilidad. BHD   

Se realizó un ajuste en la exportación del listado de elementos en Sense de tal forma que Ahora funcionan exactamente como lo hacía en Swift Pruebas y aplicabilidad. PHQSGC   

Se realiza ajuste en el envío de correos mediante API Pruebas y aplicabilidad. Stork   

Se ajustó la consistencia de la información en la ayuda del flujo Pruebas y aplicabilidad. Todas las apps, se debe validar la consistencia del historial del flujo con la ayuda del flujo 

Ahora en IWFH dónde se registran los comentarios ingresados(así no queden comentarios), el campo 'changedBy' corresponde al 'PersonId' del usuario que desencadenó el proceso de versionamiento, y en 'ResponsibleId' se registra el usuario seleccionado como creador de la nueva versión.  Pruebas y aplicabilidad. Todas las apps donde se use versionamiento 

Ahora el ServiceProcess 'ExecuteMetaDataAssignedNotification' tiene en cuenta la configuración del idioma  Pruebas y aplicabilidad. Kof y dónde aplique  

Ahora, mediante una jerarquía externa (Tabla ExternalValueHierarchy), es posible especificar que, cuando se realice una modificación en la metadata padre, los valores de la metadata hija no se verán afectados. Es importante tener en cuenta que la metadata hija debe ser de tipo externo para que esta funcionalidad se aplique. Es importante recalcar que cada que la metadata padre cambie recalcula la consulta de la metadata hija y si no depende de un texto explicito (columna ParentExplicitValue) este funciona sin necesidad de guardar el elemento. Para que esta configuración funcione se debe: 1) Configurar el feature 'PreserveValuesOnExternalHierarchyParentChange' por MetadataFeature indicando el Id de la metadata hija.2) La configuración en la tabla ExternalValueHierarchy debe quedar el Id de la jerarquía (MetaDateHierarchyId), el Id del MetaDataValueId de la metadata Hija (ChildValue) y en ParentValue debe ser 0    En Caso de ser texto explicito (columna ParentExplicitValue), igual que el punto anterior pero ParentValue debe ser null y ParentExplicitValue va el texto  Pruebas y aplicabilidad. Cafam 

Teniendo en cuenta la configuración en 
la metadata hija ahora puede ser configurada de las siguientes formas adicional a las ya existentes:1) Custom_ABC {0}| ElementId   Donde ElementId es el mismo elementId del elemento donde esta siendo usada (requiere ser guardado primero para que funcione) 2) Select X, Y from Z where W = {0}|207 Donde 207 es el valor de una metadata previamente diligenciada en el formulario para que aplique un filtro, en caso de no llevar valor por defecto pone un 0 3) Select X, Y from Z  where W = {0} AND X = {1} AND Z = {2}|207,208,209 igual que el caso anterior pero pueden ir mas metadatas en la consulta, se debe tener en cuenta que solo pueden ir 2 o 3 columnas en el select 'DISTINCT' en caso de ser requerido, 'ID' la columna del id del valor y 'VALUE' el texto del valor.  Pruebas y aplicabilidad. Cafam   
Ahora cuando se use una jerarquía por medio de 'AlternativeId' se puede definir que el filtro lo retorne como varchar y no con int como funciona, para esto configure el feature 'ExternalMetaDataUsesVarcharIds' por la MetaData hija  Pruebas y aplicabilidad. Dónde aplique   
Ahora en EMDVStamp se pueden configurar metadatas HTML, sigue funcionando con el mismo feature  Pruebas y aplicabilidad. Todas las Apps   
Ahora  en EMDVStamp se incluye el estado dónde ejecuto el guardado de la información. Pruebas y aplicabilidad. Todas las Apps 
Ahora en EMDVStamp se puede definir que solo guarde los valores modificados en vez de que en cada guardado siempre guarde toda la información del elemento, para esto adicional del feature 'UseEMDVStamp' configure el feature 'FilteredStampToNotDuplicateData' por MetaDataFeature indicando las Metadatas que requieren esta funcionalidad  Pruebas y aplicabilidad. Todas las Apps 
Ahora  en la tabla ServiceConfig, se creo la columna 'Oclock' el cual indica si el serviceProcess configurado debe ejecutarse a la hora en punto, para esto el interval debe ser 60  Pruebas y aplicabilidad. Donde aplique   
En la tabla 'NonWorkingDays' Se adicionaron tres columnas 'StartTime', 'EndTime' y 'FullDay', (Known Issue) para que siga el funcionamiento normal se debe actualizar la columna 'FullDay' a 1 en todos los registros de la tabla   Pruebas y aplicabilidad. Todas las App
Se creó la columna 'MaxHours' en la tabla WorkFlowState el cual indica que la fecha de vencimiento se le adicionan las horas configuradas, este tiene dos características:1)Si se usa NonWorkingDays en true, este valida la configuración en la tabla 'NonWorkingDays' teniendo en cuenta si es FullDay o si tiene una hora de inicio y fin, adicional tiene en cuenta la hora de trabajo de la semana la cual se debe definir en la tabla nueva 'WorkSchedule', así agregando horas 'Hábiles' a la fecha de la última modificación del elemento.2)Si se no usa NonWorkingDays solo tiene en cuenta el horario de trabajo definido en 'WorkSchedule', así agregando horas 'Hábiles' a la fecha de la última modificación del elemento.NOTA: Para poder usar esta funcionalidad en custom se puede usar la función 'AddHoursWithOptions'  Pruebas y aplicabilidad. Todas las App
Se crearon los ServiceProcess 'ProcessHourlyDueToExpireNotifications' que notifica los elementos a punto de vencerse por configuración de MaxHours y 'ProcessHourlyAutoAdvance' que auto-avanza los elementos vencidos por configuración de MaxHours, estos dos ServiceProcess.NOTA: para el ServiceProcess 'ProcessHourlyDueToExpireNotifications' se creo la colunma 'IsPriority' en la tabla 'NotificationQueue' para determinar que correos tienen prioridad al momento de enviarlosPruebas y aplicabilidad. Donde aplique   
Se ajustó el mecanismo del parámetro AdminGroupManageLowerGroupsExclusively, ya que ocultaba grupos administradores sin dependencias. Ahora, el grupo administrador que no tiene dependencias será visible tanto en la administración de usuarios como en la de grupos. Para lograr esto, se realizaron ajustes en el stored procedure ActionGroup_ListByAdminGroup. Además, se corrigió el registro IsAdmin en la tabla PersonActionGroup, que no se actualizaba cuando se agregaba un grupo administrador. Para solucionarlo, se realizaron ajustes en los stored procedures PAG_Add y PAG_Merge (este último se utiliza para la sincronización con AAD). Pruebas y aplicabilidad: KOF   Release Notes: MaxHours, PKCE, Ext Config Additions, fixes. Changeset 3135UPDATE 10-11-202
Se hace ajuste en el css de la ayuda del flujo ya que cuando el nombre de un estado es muy largo no era consistente la forma en la que se mostraba.Pruebas y aplicabilidad: Todas las apps   UPDATE 23-11-202
Se hace ajuste en la forma en la que lee lo permisos de los anexos cargados en campos HTML ya que cuando se versionaba un elemento, en la versión nueva un usuario sin permisos de ver la versión anterior del elemento no le permitía ver y/o descargar los archivos subidos a los campos HTML.Pruebas y aplicabilidad: Seguros mundial     UPDATE 29-11-202
Se creó el EndPoint 'external/query' tipo POST de tipo de autenticación OAUTH2 para poder consumir una API externa paralelamente se consume la API de DocManager con este metodo, para usar este metodo se debe: 1) Configurar en la tabla AppService la configuración de la API externa.2) en el body de la petición debe pasar un json de la siguiente forma:    {     'DataSource':'EEEEAAAASASA', //El nombre del AppService encriptado.       'Parameters':'{\'TipoDocumento\': \'03\',\'Documento\': \'10101010\'}', //El body de la petición como string de la API                                                                                                                     externa (este es un ejemplo ya que varia de                                                                                                                     acuerdo a la api externa que es consumida)     'ElementId':47059 //Opcional el ElementId del elemento a usar. }  Pruebas y aplicabilidad: Cafam    
Se creo el feature ExternalAPIResultFilter para definir el jsonPath con el que se filtrará el resultado de la API externa consumida por medio del EndPoint 'external/query', para su uso se debe configurar por la tabla AppServiceFeature indicando AppServiceId de la configuración de la API externa consumida y en el value el jsonpath a ser usado.Pruebas y aplicabilidad: Cafam  

Sincronización de cargos y otras columnas en Azure Active Directory: para configurar debe indicar en el parámetro AzureRetrieveColumnsFromRequest los campos a ser importados (de no indicarse se forma por default, si se configura “displayName,userPrincipalName,accountEnabled,id” son obligatorios). Posterior se debe indicar en la tabla MapSyncColumnsConfiguration indicando las columnas y la ruta jsonpath del campo a ser importado. En el caso de que sea una llave foránea se debe indicar un CustomQuery indicando la consulta que debe realizar para obtener el id necesario en el caso en la tabla de búsqueda la columna a ser consultada tenga un nombre distinto debe indicar un alias en la consulta. Aplicabilidad y pruebas. Donde aplique. PHQ   
Filtros en los embebidos, ahora es posible realizar filtros por los elementos embebidos por estado (nuevo selector de embebidos) Aplicabilidad y pruebas. Donde aplique.   
Ahora es posible ocultar la sección de Filtros por grupos indicando el feature ShowGroupStatesFilter en los cuales indicara que grupos pueden ver los filtros por estado, si no se configura todos podrán verlo. Aplicabilidad y pruebas. Donde aplique.   
Ahora es posible indicar una los filtros seleccionados por default por grupo, para ello indique en el feature ShowSelectedWFStatesActionGroupConstraintPair por ET que grupos y que estados estarán por default seleccionados así: {grupo};{estado} Aplicabilidad y pruebas. Donde aplique.    
Restringir permisos al administrador de seguridad. Ahora es posible restringir por completo al usuario de seguridad. En el cual configurando el parámetro SecurityAdminProfileCanReadData en false este no podrá acceder a ninguna información como Elementos y listados, con esto solo podrá tener labores administrativas. Aplicabilidad y pruebas. KOF MX, Seguros Mundial. Verificar el comportamiento con los 3 perfiles.    
Administradores de grupo. Ahora es posible designar a un usuario como administrador de grupo el cual se configura en la tabla PersonActionGroup en la columna isAdmin, esto habilita la administración de usuarios. También existen dependencias entre grupos en la cual se puede configurar en la tabla ActionGroupHierarchy si un grupo tiene dependencias, el administrador también podrá administrar usuarios de esos grupos. Aplicabilidad y Pruebas: KOF MX, grupos por país.   

Falla en el margen de los PDF creados en vivo: se crean los features por ET OfferRealTimePDFVersionMarginHeader, OfferRealTimePDFVersionMarginFooter, OfferRealTimePDFVersionMarginLeft, OfferRealTimePDFVersionMarginRight en los cuales se indica el tamaño del margen.   

se ha creado el feature HideMetaDataInPrintedVersion con el cual se oculta la metadata para que no aparezca en la versión de impresión. (ver comentarios del 










y 
(NO FIX) Se solucionan haciendo la configuración de una primer transición con el feature WFTransitionToExecuteOnFirstSave.   
Ahora es posible utilizar ContentRender en aplicaciones que utilizan Directorio Activo. Ten en cuenta que para poder aprovechar esta funcionalidad, es necesario contar con las credenciales de un usuario activo que pueda iniciar sesión en la aplicación 'docm'. Es importante mencionar que esta configuración solo se aplica a aplicaciones que utilizan Directorio Activo de Windows; en otros modos de autenticación, el funcionamiento sigue siendo el mismo sin necesidad de realizar esta configuración. Para configurar el uso de ContentRender, debes acceder al archivo de configuración del servicio de aplicaciones llamado 'DocManager.ContentRender.dll.config'. En dicho archivo, encontrarás una etiqueta con la clave 'US' donde deberás ingresar el nombre de usuario para el inicio de sesión, y otra etiqueta con la clave 'PA' donde deberás ingresar la contraseña correspondiente a dicho usuario.      Es necesario encriptar el archivo de configuración para garantizar la seguridad de los datos. Para lograr esto, se han añadido dos archivos en la carpeta que permiten realizar el proceso de encriptación y desencriptación de la configuración.  Pruebas y Aplicabilidad: Cualquier APP con ContentRender on-premise, PHQ   
no usar, aplica para próximo release. Ahora, en la ayuda del flujo de cada elemento, es posible visualizar los responsables asignados para ejecutar sus transiciones, así como también se indica si la transición ha sido ejecutada o no, brindando mayor claridad sobre el estado del proceso. Para esto configure el feature ShowWorkFlowHelpWithResponsiblesByGroup por ElementType (un grupo por registro) indicando el ActionGroupId que puede ver esta información adicional en la ayuda del flujo. Pruebas y aplicabilidad: General, probar que la información mostrada sea la correspondiente al flujo.   
Se implementó un mecanismo para redirección automática de http a https. Para esto se requiere: - Que el servidor tenga instalado el modulo de IIS Rewrite , disponible en este link https://download.microsoft.com/download/1/2/8/128E2E22-C1B9-44A4-BE2A-5859ED1D4592/rewrite_amd64_en-US.msi - Descomentar en el web.config las líneas:  Esto es un mecanismo de seguridad obligatorio para aplicaciones expuestas a Internet. Aplicabilidad y pruebas: Todas las aplicaciones expuestas a Internet. Se debe probar la redirección cuando se utiliza http en la barra de direcciones.     
Se creó un mecanismo para abrir los anexos PDF (metadata tipo File) en paneles en SENSE, con el mismo header del RO del elemento que los contiene. Para esto, configure el feature OpenAttachmentInSensePanel en true por MD o ETMD (debe estar ElementTypeMetaData.ShowLinksInPDF en true) Aplicabilidad y pruebas: KOF MX. Probar que se pueda visualizar en el visor seguro o en el visor por defecto del browser, el archivo PDF.     
Se habilitó el mecanismo para exportar el Reporte de Operaciones. Aplicabilidad y pruebas: Todas las aplicaciones. Se debe probar la exportación aplicando los filtros correspondientes.     
Se creó un mecanismo para poder copiar y pegar múltiples direcciones de correo a un control tipo suggest (lista externa de personas). Para esto, se requiere la siguiente configuración:  La metadata deber del tipo suggest y debe consumir un listado de personas. Se sugiere que el texto a buscar sea nombre y correo y se componga de ambas cosas. Por ejemplo:     Se debe configurar para la metadata, el feature UseUserBatchImport en true. Esto habilitará una opción para hacer la importación asi:    Al hacer clic en la opción, el usuario verá un cuadro donde podrá pegar los correos:      Las direcciones de correo que puede pegar, deben ir separadas por punto y coma (;) y pueden constituirse de : a) solo e-mail o b) e-mail y nombre. Por ejemplo: prueba@prueba.com; John Smith <prueba@prueba.com>. Notese que cuando se usa la combinación nombre+email, este último usa el formato de Microsoft Outlook o G-mail, que es usando los símbolos “<” y “>”.     Al presionar “Validar y añadir usuarios”, el sistema validará que solo se incluyan personas existentes (usuarios en la tabla person). Las personas repetidas o inexistentes no serán agregadas. Una vez se ejecute este proceso, aparecerá a la derecha una opción que indica el resultado de la operación:    Aplicabilidad y pruebas: KOF MX. Se debe probar múltiples correos, hasta 10000, con las diferentes combinaciones mencionadas.     
Se creó un mecanismo que permite que usuarios del sistema puedan interactuar con formularios HTML externos a la aplicación, con conexión a la API, donde solo se haga una verificación de la identidad,  más no una autenticación. Con esto, se reduce la carga operativa a usuarios con dificultades para operar un mecanismo de autenticación, mediante el ingreso a un formulario que solo requiere que se valide el número de identificación de la persona, sin usar una contraseña. Caracteristicas:  El proceso tiene el siguiente ciclo de vida:   Todo parte de la creación del usuario (1), mediante un proceso manual (Consola de Usuarios) o Automático (MappedPerson). Igualmente, se debe crear un elemento (manual o vía API) que será el que el usuario posteriormente manipule(2). Una vez exista el formulario, debe sufrir un cambio de estado para que el proceso envíe un e-mail a la persona(3 y 4). En este email encontrará el link que lo llevará al formulario de validación de identidad (5) y posteriormente al formulario de manipulación del elemento (6).    Para lograr que el usuario reciba un correo con este link especial, se debe seguir usando la configuración de NotificationMessage usando una plantilla definida por TemplatePath. Adicionalmente, se crearon 2 columnas TargetPageLink y TargetPageRequiresGateway. La primera define la página HTML dentro de la aplicación (por ejemplo AdHoc/FormularioGenerico.html) y la segunda debe ir en true si se va usar el mecanismo de verificación de identidad. Para la verificación de identidad, se debe definir una metadata dentro del formulario que llena la persona, que contiene efectivamente el número de identificación. Para esto, defina el feature GatewayIdValidationMetaDataId por ET. El link que llega a la persona es el que seguirá usando para poder acceder de nuevo al formulario HTML más tarde, en caso de requerir editarlo en diferentes momentos. Si se crea otro link, en caso de que el flujo sufra una devolución y vuelva al estado en que se supone se deba editar, enviará al usuario al mismo formulario. El formulario de validación de identidad puede incluir una imagen de ayuda a los usuarios que asi lo requieran. Para esto, reemplace el archivo images/custom/GatewayHelp.jpg con la imagen correspondiente. Esta implicito que es responsabilidad de la persona no compartir el link. Los links solo funcionan para una persona específica y no permiten que se creen dobles registros para personas diferentes (es decir, compartir el link no tiene efecto si la identidad de quien recibe el link es diferente).  Aplicabilidad y pruebas: Eficacia CD. Probar la seguridad del acceso.     
Se creó un mecanismo (similar a Swift) para permitir tener links a la última versión (versión más reciente). Para esto, en los paneles que abren RO en SENSE, la opción del link al elemento, ofrecerá 2 opciones:  El primer link es el link tradicional y el segundo link, siempre enviará a la última versión. Es posible desactivar la aparición de uno u otro link por ET, usando los features MustDisableCommonLink y MustDisableLatestVersionLink respectivamente. Adicionalmente, se ofrece ahora el botón de copiar al portapapeles. Recuerde que la determinación de la versión más reciente de un elemento se basa en la configuración de los parámetros StateIdsLastPub (que indica, separado por comas, los estados que representan 'finalizado' o públicado, es decir, estados terminales) y PublicationTransitions, que son las transiciones que llevan a esos estados (igualmente separados por comas). Pruebas y Aplicabilidad: Todas las aplicaciones. Se requiere probar de forma efectiva que el link a la última versión lleve al usuario a la versión correcta.   



UPDATE 2023-06-20  
Para optimizar el envío de correos de vencimientos, hemos implementado una nueva estrategia que consiste en procesarlos en lotes de 100 elementos. Esta medida nos permite evitar la carga en memoria de todos los elementos de vencimientos a notificar. Aplicabilidad y pruebas: Alpopular y dónde aplique. Se debe validar el funcionamiento del servicio y que las notificaciones de vencimiento funcionen adecuadamente.   
Se realizó un ajuste en el stored procedure ItemWF_GetNotifyDueTasks, el cual estaba recuperando elementos que no debían ser notificados como vencimientos. Aplicabilidad y pruebas: Alpopular y dónde aplique.   
Se ha realizado un ajuste en el método StoreSync, de modo que ahora puede ser utilizado por un usuario sin la necesidad de tener un apiConsumer previamente creado. Aplicabilidad y pruebas: EficaciaCD y dónde aplique.     Release Notes: AsureSync changes, BatchEmailsPaste, InfoIcon, ContentRender Fixes, ChangeSet 2945  